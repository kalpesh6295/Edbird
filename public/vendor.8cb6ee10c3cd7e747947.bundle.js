webpackJsonp([3],{"+0Ji":function(t,e,n){"use strict";var r=n("bKpL"),o=n("l/Fw");r.Observable.prototype.sample=o.sample},"+Ve+":function(t,e,n){"use strict";var r=n("bKpL"),o=n("I3ay");r.Observable.prototype.concatAll=o.concatAll},"+VeI":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=n("pHuv"),i=n("F1yO"),s=n("PKQO"),a=n("xfHL");n("VzZx");var u,c=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return u||(u=new t),u},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&i.fatal("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var r=s.parseRepoInfo(n),o=r.repoInfo;return a.validateUrl("Invalid Firebase Database URL",1,r),r.path.isEmpty()||i.fatal("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t).database},t.prototype.deleteRepo=function(t){var e=r.safeGet(this.repos_,t.app.name);e&&r.safeGet(e,t.repoInfo_.toURLString())===t||i.fatal("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=r.safeGet(this.repos_,e.name);n||(n={},this.repos_[e.name]=n);var s=r.safeGet(n,t.toURLString());return s&&i.fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new o.Repo(t,this.useRestClient_,e),n[t.toURLString()]=s,s},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}();e.RepoManager=c},"+c7d":function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&s.isArray(t[0])&&(t=t[0].slice()),t.unshift(this),this.lift.call(new i.ArrayObservable(t),new l(n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("wZOE"),s=n("NSJx"),a=n("yW9Z"),u=n("ktfo"),c={};e.combineLatest=r;var l=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project))},t}();e.CombineLatestOperator=l;var h=function(t){function e(e,n){t.call(this,e),this.project=n,this.active=0,this.values=[],this.observables=[]}return o(e,t),e.prototype._next=function(t){this.values.push(c),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(u.subscribeToResult(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){var i=this.values,s=i[n],a=this.toRespond?s===c?--this.toRespond:this.toRespond:0;i[n]=e,0===a&&(this.project?this._tryProject(i):this.destination.next(i.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(a.OuterSubscriber);e.CombineLatestSubscriber=h},"+zVg":function(t,e,n){"use strict";var r=n("wZOE");e.of=r.ArrayObservable.of},"/0OS":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=n("ertD"),i=n("JEJ4"),s=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;i.assert(e==o.Change.CHILD_ADDED||e==o.Change.CHILD_CHANGED||e==o.Change.CHILD_REMOVED,"Only child changes supported for tracking"),i.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var s=r.safeGet(this.changeMap_,n);if(s){var a=s.type;if(e==o.Change.CHILD_ADDED&&a==o.Change.CHILD_REMOVED)this.changeMap_[n]=o.Change.childChangedChange(n,t.snapshotNode,s.snapshotNode);else if(e==o.Change.CHILD_REMOVED&&a==o.Change.CHILD_ADDED)delete this.changeMap_[n];else if(e==o.Change.CHILD_REMOVED&&a==o.Change.CHILD_CHANGED)this.changeMap_[n]=o.Change.childRemovedChange(n,s.oldSnap);else if(e==o.Change.CHILD_CHANGED&&a==o.Change.CHILD_ADDED)this.changeMap_[n]=o.Change.childAddedChange(n,t.snapshotNode);else{if(e!=o.Change.CHILD_CHANGED||a!=o.Change.CHILD_CHANGED)throw i.assertionError("Illegal combination of changes: "+t+" occurred after "+s);this.changeMap_[n]=o.Change.childChangedChange(n,t.snapshotNode,s.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return r.getValues(this.changeMap_)},t}();e.ChildChangeAccumulator=s},"/68J":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gOHv"),o=n("kCHx"),i=n("fvGz"),s=n("JEJ4"),a=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=r.OperationType.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new i.Path(e));return n.isEmpty()?null:n.value?new o.Overwrite(this.source,i.Path.Empty,n.value):new t(this.source,i.Path.Empty,n)}return s.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();e.Merge=a},"/9bB":function(t,e,n){"use strict";function r(){return this.lift(new a)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("3lsR");e.materialize=r;var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e)}return o(e,t),e.prototype._next=function(t){this.destination.next(s.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(s.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(s.Notification.createComplete()),t.complete()},e}(i.Subscriber)},"/9hx":function(t,e,n){n("hFw6")},"/HC2":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=n("JEJ4"),i=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),o.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return r.deepCopy(this.counters_)},t}();e.StatsCollection=i},"/amm":function(t,e,n){"use strict";var r=n("bKpL"),o=n("60yU");r.Observable.prototype.repeatWhen=o.repeatWhen},"/byE":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"}},"/fob":function(t,e,n){"use strict";function r(t){s=t}function o(t){a=t}var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var s,a,u=n("GboV"),c=n("F1yO"),l=n("p+VM"),h=n("04zk");e.setNodeFromJSON=r,e.setMaxNode=o;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),o=n.compareTo(r);return 0===o?c.nameCompare(t.name,e.name):o},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return l.NamedNode.MIN},e.prototype.maxPost=function(){return new l.NamedNode(c.MAX_NAME,new h.LeafNode("[PRIORITY-POST]",a))},e.prototype.makePost=function(t,e){var n=s(t);return new l.NamedNode(e,new h.LeafNode("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(u.Index);e.PriorityIndex=p,e.PRIORITY_INDEX=new p},"/oeL":function(t,e,n){"use strict";(function(t){function r(){if(!no){var t=eo.Symbol;if(t&&t.iterator)no=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(no=r)}}return no}function o(t){Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function i(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function s(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function a(t){return"function"==typeof t&&t.hasOwnProperty("annotation")&&(t=t.annotation),t}function u(t,e){if(t===Object||t===String||t===Function||t===Number||t===Array)throw new Error("Can not use native "+s(t)+" as constructor");if("function"==typeof t)return t;if(Array.isArray(t)){var n=t,r=n.length-1,o=t[r];if("function"!=typeof o)throw new Error("Last position of Class method array must be Function in key "+e+" was '"+s(o)+"'");if(r!=o.length)throw new Error("Number of annotations ("+r+") does not match number of arguments ("+o.length+") in the function: "+s(o));for(var i=[],u=0,c=n.length-1;u<c;u++){var l=[];i.push(l);var h=n[u];if(Array.isArray(h))for(var p=0;p<h.length;p++)l.push(a(h[p]));else"function"==typeof h?l.push(a(h)):l.push(h)}return oo.defineMetadata("parameters",i,o),o}throw new Error("Only Function or Array is supported in Class definition for key '"+e+"' is '"+s(t)+"'")}function c(t){var e=u(t.hasOwnProperty("constructor")?t.constructor:void 0,"constructor"),n=e.prototype;if(t.hasOwnProperty("extends")){if("function"!=typeof t.extends)throw new Error("Class definition 'extends' property must be a constructor function was: "+s(t.extends));e.prototype=n=Object.create(t.extends.prototype)}for(var r in t)"extends"!==r&&"prototype"!==r&&t.hasOwnProperty(r)&&(n[r]=u(t[r],r));this&&this.annotations instanceof Array&&oo.defineMetadata("annotations",this.annotations,e);var o=e.name;return o&&"constructor"!==o||(e.overriddenName="class"+ro++),e}function l(t,e,n,r){function o(t){if(!oo||!oo.getOwnMetadata)throw"reflect-metadata shim is required when using class decorators";if(this instanceof o)return i.call(this,t),this;var e=new o(t),n="function"==typeof this&&Array.isArray(this.annotations)?this.annotations:[];n.push(e);var s=function(t){var n=oo.getOwnMetadata("annotations",t)||[];return n.push(e),oo.defineMetadata("annotations",n,t),t};return s.annotations=n,s.Class=c,r&&r(s),s}var i=h(e);return n&&(o.prototype=Object.create(n.prototype)),o.prototype.toString=function(){return"@"+t},o.annotationCls=o,o}function h(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,e);for(var o in r)this[o]=r[o]}}}function p(t,e,n){function r(){function t(t,e,n){for(var r=oo.getOwnMetadata("parameters",t)||[];r.length<=n;)r.push(null);return r[n]=r[n]||[],r[n].push(i),oo.defineMetadata("parameters",r,t),t}for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof r)return o.apply(this,e),this;var i=new(r.bind.apply(r,[void 0].concat(e)));return t.annotation=i,t}var o=h(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.toString=function(){return"@"+t},r.annotationCls=r,r}function f(t,e,n){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof r)return o.apply(this,t),this;var n=new(r.bind.apply(r,[void 0].concat(t)));return function(t,e){var r=oo.getOwnMetadata("propMetadata",t.constructor)||{};r[e]=r.hasOwnProperty(e)&&r[e]||[],r[e].unshift(n),oo.defineMetadata("propMetadata",r,t.constructor)}}var o=h(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.toString=function(){return"@"+t},r.annotationCls=r,r}function d(t){return t.__forward_ref__=d,t.toString=function(){return s(this())},t}function y(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===d?t():t}function v(t){return t[xo]}function m(t){return t[ko]}function g(t){return t[Do]||b}function b(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)}function _(t,e){var n=t+" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[ko]=e,r}function w(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}function E(t){if(t.length>1){return" ("+w(t.slice().reverse()).map(function(t){return s(t.token)}).join(" -> ")+")"}return""}function C(t,e,n,r){var o=[e],i=n(o),s=r?_(i,r):Error(i);return s.addKey=S,s.keys=o,s.injectors=[t],s.constructResolvingMessage=n,s[ko]=r,s}function S(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function O(t,e){return C(t,e,function(t){return"No provider for "+s(t[0].token)+"!"+E(t)})}function T(t,e){return C(t,e,function(t){return"Cannot instantiate cyclic dependency!"+E(t)})}function I(t,e,n,r){return C(t,r,function(t){var n=s(t[0].token);return e.message+": Error during instantiation of "+n+"!"+E(t)+"."},e)}function N(t){return Error("Invalid provider - only instances of Provider and Type are allowed, got: "+t)}function A(t,e){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];i&&0!=i.length?n.push(i.map(s).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+s(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+s(t)+"' is decorated with Injectable.")}function P(t){return Error("Index "+t+" is out-of-bounds.")}function R(t,e){return Error("Cannot mix multi providers and regular providers, got: "+t+" "+e)}function x(t){return"function"==typeof t}function k(t){return t?t.map(function(t){var e=t.type,n=e.annotationCls,r=t.args?t.args:[];return new(n.bind.apply(n,[void 0].concat(r)))}):[]}function D(t){var e=Object.getPrototypeOf(t.prototype);return(e?e.constructor:null)||Object}function M(t){var e,n;if(t.useClass){var r=y(t.useClass);e=Wo.factory(r),n=B(r)}else t.useExisting?(e=function(t){return t},n=[Ho.fromKey(Lo.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=U(t.useFactory,t.deps)):(e=function(){return t.useValue},n=Ko);return new Qo(e,n)}function L(t){return new Go(Lo.get(t.provide),[M(t)],t.multi||!1)}function j(t){var e=V(t,[]),n=e.map(L),r=F(n,new Map);return Array.from(r.values())}function F(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=e.get(r.key.id);if(o){if(r.multiProvider!==o.multiProvider)throw R(o,r);if(r.multiProvider)for(var i=0;i<r.resolvedFactories.length;i++)o.resolvedFactories.push(r.resolvedFactories[i]);else e.set(r.key.id,r)}else{var s=void 0;s=r.multiProvider?new Go(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,s)}}return e}function V(t,e){return t.forEach(function(t){if(t instanceof Vo)e.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)e.push(t);else{if(!(t instanceof Array))throw N(t);V(t,e)}}),e}function U(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return q(t,e,n)})}return B(t)}function B(t){var e=Wo.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw A(t,e);return e.map(function(n){return q(t,n,e)})}function q(t,e,n){var r=null,o=!1;if(!Array.isArray(e))return e instanceof Eo?W(e.token,o,null):W(e,o,null);for(var i=null,s=0;s<e.length;++s){var a=e[s];a instanceof Vo?r=a:a instanceof Eo?r=a.token:a instanceof Co?o=!0:a instanceof Oo||a instanceof To?i=a:a instanceof Yr&&(r=a)}if(null!=(r=y(r)))return W(r,o,i);throw A(t,n)}function W(t,e,n){return new Ho(Lo.get(t),e,n)}function H(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=e(t.getProviderAtIndex(r));return n}function K(t){return!!t&&"function"==typeof t.then}function G(t){return!!t&&"function"==typeof t.subscribe}function Q(){return""+z()+z()+z()}function z(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function J(){throw new Error("Runtime compiler is not loaded")}function X(t){var e=Error("No component factory found for "+s(t)+". Did you add it to @NgModule.entryComponents?");return e[li]=t,e}function Y(t,e){return void 0===e&&(e=null),di.createScope(t,e)}function Z(t,e){return fi.leaveScope(t,e),e}function $(t,e){return null}function tt(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function et(t){t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,r,o,i,s){try{return nt(t),e.invokeTask(r,o,i,s)}finally{rt(t)}},onInvoke:function(e,n,r,o,i,s,a){try{return nt(t),e.invoke(r,o,i,s,a)}finally{rt(t)}},onHasTask:function(e,n,r,o){e.hasTask(r,o),n===r&&("microTask"==o.change?(t.hasPendingMicrotasks=o.microTask,tt(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:function(e,n,r,o){return e.handleError(r,o),t.runOutsideAngular(function(){return t.onError.emit(o)}),!1}})}function nt(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function rt(t){t._nesting--,tt(t)}function ot(t){Ni=t}function it(){if(Pi)throw new Error("Cannot enable prod mode after platform setup.");Ai=!1}function st(){return Pi=!0,Ai}function at(t){if(Ti&&!Ti.destroyed&&!Ti.injector.get(Ri,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ti=t.get(ki);var e=t.get(ni,null);return e&&e.forEach(function(t){return t()}),Ti}function ut(t,e,n){void 0===n&&(n=[]);var r=new Yr("Platform: "+e);return function(e){void 0===e&&(e=[]);var o=lt();return o&&!o.injector.get(Ri,!1)||(t?t(n.concat(e).concat({provide:r,useValue:!0})):at(Jo.resolveAndCreate(n.concat(e).concat({provide:r,useValue:!0})))),ct(r)}}function ct(t){var e=lt();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function lt(){return Ti&&!Ti.destroyed?Ti:null}function ht(t,e,n){try{var r=n();return K(r)?r.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):r}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}}function pt(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function ft(t){return t.reduce(function(t,e){var n=Array.isArray(e)?ft(e):e;return t.concat(n)},[])}function dt(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}function yt(t,e,n){t.childNodes.forEach(function(t){t instanceof $i&&(e(t)&&n.push(t),yt(t,e,n))})}function vt(t,e,n){t instanceof $i&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof $i&&vt(t,e,n)})}function mt(t){return ts.get(t)||null}function gt(t){ts.set(t.nativeNode,t)}function bt(t){ts.delete(t.nativeNode)}function _t(t,e){var n=wt(t),r=wt(e);if(n&&r)return Et(t,e,_t);var o=t&&("object"==typeof t||"function"==typeof t),s=e&&("object"==typeof e||"function"==typeof e);return!(n||!o||r||!s)||i(t,e)}function wt(t){return!!St(t)&&(Array.isArray(t)||!(t instanceof Map)&&r()in t)}function Et(t,e,n){for(var o=t[r()](),i=e[r()]();;){var s=o.next(),a=i.next();if(s.done&&a.done)return!0;if(s.done||a.done)return!1;if(!n(s.value,a.value))return!1}}function Ct(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var o=t[r()](),i=void 0;!(i=o.next()).done;)e(i.value)}function St(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ot(t,e,n){var r=t.previousIndex;if(null===r)return r;var o=0;return n&&r<n.length&&(o=n[r]),r+e+o}function Tt(t){return t.name||typeof t}function It(){return Wo}function Nt(){return vs}function At(){return ms}function Pt(t){return t||"en-US"}function Rt(t,e){return t.nodes[e]}function xt(t,e){return t.nodes[e]}function kt(t,e){return t.nodes[e]}function Dt(t,e){return t.nodes[e]}function Mt(t,e){return t.nodes[e]}function Lt(t,e,n,r){var o="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(o+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),Ft(o,t)}function jt(t,e){return t instanceof Error||(t=new Error(t.toString())),Vt(t,e),t}function Ft(t,e){var n=new Error(t);return Vt(n,e),n}function Vt(t,e){t[xo]=e,t[Do]=e.logError.bind(e)}function Ut(t){return!!v(t)}function Bt(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function qt(t){var e=Is.get(t);return e||(e=s(t)+"_"+Is.size,Is.set(t,e)),e}function Wt(t){return{id:Ns,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}function Ht(t){if(t&&t.id===Ns){var e=null!=t.encapsulation&&t.encapsulation!==bo.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Ps++:As}return t&&t.id===As&&(t=null),t||null}function Kt(t,e,n,r){var o=t.oldValues;return!(!(2&t.state)&&i(o[e.bindingIndex+n],r))}function Gt(t,e,n,r){return!!Kt(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Qt(t,e,n,r){var o=t.oldValues[e.bindingIndex+n];if(1&t.state||!_t(o,r))throw Lt(Os.createDebugContext(t,e.nodeIndex),o,r,0!=(1&t.state))}function zt(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Jt(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Xt(t,e,n,r){return zt(33554432&t.def.nodes[e].flags?xt(t,e).componentView:t),Os.handleEvent(t,e,n,r)}function Yt(t){if(t.parent){return xt(t.parent,t.parentNodeDef.nodeIndex)}return null}function Zt(t){return t.parent?t.parentNodeDef.parent:null}function $t(t,e){switch(201347067&e.flags){case 1:return xt(t,e.nodeIndex).renderElement;case 2:return Rt(t,e.nodeIndex).renderText}}function te(t,e){return t?t+":"+e:e}function ee(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function ne(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function re(t){return 1<<t%32}function oe(t){var e={},n=0,r={};return t&&t.forEach(function(t){var o=t[0],i=t[1];"number"==typeof o?(e[o]=i,n|=re(o)):r[o]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function ie(t){return t.map(function(t){var e,n;return Array.isArray(t)?(n=t[0],e=t[1]):(n=0,e=t),{flags:n,token:e,tokenKey:qt(e)}})}function se(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===bo.Native?xt(t,n.renderParent.nodeIndex).renderElement:void 0:e}function ae(t){var e=Rs.get(t);return e||(e=t(function(){return Ts}),e.factory=t,Rs.set(t,e)),e}function ue(t){var e=[];return ce(t,0,void 0,void 0,e),e}function ce(t,e,n,r,o){3===e&&(n=t.renderer.parentNode($t(t,t.def.lastRenderRootNode))),le(t,e,0,t.def.nodes.length-1,n,r,o)}function le(t,e,n,r,o,i,s){for(var a=n;a<=r;a++){var u=t.def.nodes[a];11&u.flags&&pe(t,u,e,o,i,s),a+=u.childCount}}function he(t,e,n,r,o,i){for(var s=t;s&&!ee(s);)s=s.parent;for(var a=s.parent,u=Zt(s),c=u.nodeIndex+1,l=u.nodeIndex+u.childCount,h=c;h<=l;h++){var p=a.def.nodes[h];p.ngContentIndex===e&&pe(a,p,n,r,o,i),h+=p.childCount}if(!a.parent){var f=t.root.projectableNodes[e];if(f)for(var h=0;h<f.length;h++)fe(t,f[h],n,r,o,i)}}function pe(t,e,n,r,o,i){if(8&e.flags)he(t,e.ngContent.index,n,r,o,i);else{var s=$t(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags){if(16&e.bindingFlags&&fe(t,s,n,r,o,i),32&e.bindingFlags){var a=xt(t,e.nodeIndex).componentView;fe(a,s,n,r,o,i)}}else fe(t,s,n,r,o,i);if(16777216&e.flags)for(var u=xt(t,e.nodeIndex).viewContainer._embeddedViews,c=0;c<u.length;c++)ce(u[c],n,r,o,i);1&e.flags&&!e.element.name&&le(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,o,i)}}function fe(t,e,n,r,o,i){var s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,o);break;case 3:s.removeChild(r,e);break;case 0:i.push(e)}}function de(t){if(":"===t[0]){var e=t.match(xs);return[e[1],e[2]]}return["",t]}function ye(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function ve(t,e,n,r,o,i,s,a,u,c,l,h,p,f,d,y,v,m,g,b){switch(t){case 1:return e+me(n)+r;case 2:return e+me(n)+r+me(o)+i;case 3:return e+me(n)+r+me(o)+i+me(s)+a;case 4:return e+me(n)+r+me(o)+i+me(s)+a+me(u)+c;case 5:return e+me(n)+r+me(o)+i+me(s)+a+me(u)+c+me(l)+h;case 6:return e+me(n)+r+me(o)+i+me(s)+a+me(u)+c+me(l)+h+me(p)+f;case 7:return e+me(n)+r+me(o)+i+me(s)+a+me(u)+c+me(l)+h+me(p)+f+me(d)+y;case 8:return e+me(n)+r+me(o)+i+me(s)+a+me(u)+c+me(l)+h+me(p)+f+me(d)+y+me(v)+m;case 9:return e+me(n)+r+me(o)+i+me(s)+a+me(u)+c+me(l)+h+me(p)+f+me(d)+y+me(v)+m+me(g)+b;default:throw new Error("Does not support more than 9 expressions")}}function me(t){return null!=t?t.toString():""}function ge(t,e,n,r,o,i){t|=1;var s=oe(e),a=s.matchedQueries,u=s.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:s.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?ae(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:o||Ts},provider:null,text:null,query:null,ngContent:null}}function be(t,e,n,r,o,i,s,a,u,c,l,h){void 0===s&&(s=[]),c||(c=Ts);var p=oe(n),f=p.matchedQueries,d=p.references,y=p.matchedQueryIds,v=null,m=null;i&&(D=de(i),v=D[0],m=D[1]),a=a||[];for(var g=new Array(a.length),b=0;b<a.length;b++){var _=a[b],w=_[0],E=_[1],C=_[2],S=de(E),O=S[0],T=S[1],I=void 0,N=void 0;switch(15&w){case 4:N=C;break;case 1:case 8:I=C}g[b]={flags:w,ns:O,name:T,nonMinifiedName:T,securityContext:I,suffix:N}}u=u||[];for(var A=new Array(u.length),b=0;b<u.length;b++){var P=u[b],R=P[0],x=P[1];A[b]={type:0,target:R,eventName:x,propName:null}}s=s||[];var k=s.map(function(t){var e=t[0],n=t[1],r=de(e);return[r[0],r[1],n]});return h=Ht(h),l&&(e|=33554432),e|=1,{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:f,matchedQueryIds:y,references:d,ngContentIndex:r,childCount:o,bindings:g,bindingFlags:ye(g),outputs:A,element:{ns:v,name:m,attrs:k,template:null,componentProvider:null,componentView:l||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||Ts},provider:null,text:null,query:null,ngContent:null};var D}function _e(t,e,n){var r,o=n.element,i=t.root.selectorOrNode,s=t.renderer;if(t.parent||!i){r=o.name?s.createElement(o.name,o.ns):s.createComment("");var a=se(t,e,n);a&&s.appendChild(a,r)}else r=s.selectRootElement(i);if(o.attrs)for(var u=0;u<o.attrs.length;u++){var c=o.attrs[u],l=c[0],h=c[1],p=c[2];s.setAttribute(r,h,p,l)}return r}function we(t,e,n,r){for(var o=0;o<n.outputs.length;o++){var i=n.outputs[o],s=Ee(t,n.nodeIndex,te(i.target,i.eventName)),a=i.target,u=t;"component"===i.target&&(a=null,u=e);var c=u.renderer.listen(a||r,i.eventName,s);t.disposables[n.outputIndex+o]=c}}function Ee(t,e,n){return function(r){try{return Xt(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}}function Ce(t,e,n,r,o,i,s,a,u,c,l,h){var p=e.bindings.length,f=!1;return p>0&&Oe(t,e,0,n)&&(f=!0),p>1&&Oe(t,e,1,r)&&(f=!0),p>2&&Oe(t,e,2,o)&&(f=!0),p>3&&Oe(t,e,3,i)&&(f=!0),p>4&&Oe(t,e,4,s)&&(f=!0),p>5&&Oe(t,e,5,a)&&(f=!0),p>6&&Oe(t,e,6,u)&&(f=!0),p>7&&Oe(t,e,7,c)&&(f=!0),p>8&&Oe(t,e,8,l)&&(f=!0),p>9&&Oe(t,e,9,h)&&(f=!0),f}function Se(t,e,n){for(var r=!1,o=0;o<n.length;o++)Oe(t,e,o,n[o])&&(r=!0);return r}function Oe(t,e,n,r){if(!Gt(t,e,n,r))return!1;var o=e.bindings[n],i=xt(t,e.nodeIndex),s=i.renderElement,a=o.name;switch(15&o.flags){case 1:Te(t,o,s,o.ns,a,r);break;case 2:Ie(t,s,a,r);break;case 4:Ne(t,o,s,a,r);break;case 8:Ae(33554432&e.flags&&32&o.flags?i.componentView:t,o,s,a,r)}return!0}function Te(t,e,n,r,o,i){var s=e.securityContext,a=s?t.root.sanitizer.sanitize(s,i):i;a=null!=a?a.toString():null;var u=t.renderer;null!=i?u.setAttribute(n,o,a,r):u.removeAttribute(n,o,r)}function Ie(t,e,n,r){var o=t.renderer;r?o.addClass(e,n):o.removeClass(e,n)}function Ne(t,e,n,r,o){var i=t.root.sanitizer.sanitize(Cs.STYLE,o);if(null!=i){i=i.toString();var s=e.suffix;null!=s&&(i+=s)}else i=null;var a=t.renderer;null!=i?a.setStyle(n,r,i):a.removeStyle(n,r)}function Ae(t,e,n,r,o){var i=e.securityContext,s=i?t.root.sanitizer.sanitize(i,o):o;t.renderer.setProperty(n,r,s)}function Pe(t,e,n,r){return{index:-1,deps:ie(r),flags:t,token:e,value:n}}function Re(t){for(var e={},n=0;n<t.length;n++){var r=t[n];r.index=n,e[qt(r.token)]=r}return{factory:null,providersByKey:e,providers:t}}function xe(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var o=e.providers[r];4096&o.flags||(n[r]=De(t,o))}}function ke(t,e,n){if(void 0===n&&(n=Ro.THROW_IF_NOT_FOUND),8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var r=e.tokenKey;switch(r){case Ds:case Ms:return t}var o=t._def.providersByKey[r];if(o){var i=t._providers[o.index];return void 0===i&&(i=t._providers[o.index]=De(t,o)),i===ks?void 0:i}return t._parent.get(e.token,n)}function De(t,e){var n;switch(201347067&e.flags){case 512:n=Me(t,e.value,e.deps);break;case 1024:n=Le(t,e.value,e.deps);break;case 2048:n=ke(t,e.deps[0]);break;case 256:n=e.value}return void 0===n?ks:n}function Me(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(ke(t,n[0]));case 2:return new e(ke(t,n[0]),ke(t,n[1]));case 3:return new e(ke(t,n[0]),ke(t,n[1]),ke(t,n[2]));default:for(var o=new Array(r),i=0;i<r;i++)o[i]=ke(t,n[i]);return new(e.bind.apply(e,[void 0].concat(o)))}}function Le(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(ke(t,n[0]));case 2:return e(ke(t,n[0]),ke(t,n[1]));case 3:return e(ke(t,n[0]),ke(t,n[1]),ke(t,n[2]));default:for(var o=Array(r),i=0;i<r;i++)o[i]=ke(t,n[i]);return e.apply(void 0,o)}}function je(t,e){for(var n=t._def,r=0;r<n.providers.length;r++){if(131072&n.providers[r].flags){var o=t._providers[r];o&&o!==ks&&o.ngOnDestroy()}}}function Fe(t,e,n,r){var o=e.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=o.length),r.viewContainerParent=t,Ge(o,n,r),Ve(e,r),Os.dirtyParentQueries(r),He(e,n>0?o[n-1]:null,r)}function Ve(t,e){var n=Yt(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),Ue(e.parent.def,e.parentNodeDef)}}function Ue(t,e){if(!(4&e.flags)){t.nodeFlags|=4,e.flags|=4;for(var n=e.parent;n;)n.childFlags|=4,n=n.parent}}function Be(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Qe(n,e),Os.dirtyParentQueries(r),Ke(r),r}function qe(t){if(16&t.state){var e=Yt(t);if(e){var n=e.template._projectedViews;n&&(Qe(n,n.indexOf(t)),Os.dirtyParentQueries(t))}}}function We(t,e,n){var r=t.viewContainer._embeddedViews,o=r[e];return Qe(r,e),null==n&&(n=r.length),Ge(r,n,o),Os.dirtyParentQueries(o),Ke(o),He(t,n>0?r[n-1]:null,o),o}function He(t,e,n){var r=e?$t(e,e.def.lastRenderRootNode):t.renderElement;ce(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function Ke(t){ce(t,3,null,null,void 0)}function Ge(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Qe(t,e){e>=t.length-1?t.pop():t.splice(e,1)}function ze(t,e,n,r,o,i){return new js(t,e,n,r,o,i)}function Je(t,e,n){return new Vs(t,e,n)}function Xe(t){return new Us(t)}function Ye(t,e){return new Bs(t,e)}function Ze(t,e){return new qs(t,e)}function $e(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=xt(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Rt(t,n.nodeIndex).renderText;if(20240&n.flags)return kt(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function tn(t){return new Ws(t.renderer)}function en(t,e,n,r){return new Hs(t,e,n,r)}function nn(t,e,n,r,o,i,s,a){var u=[];if(s)for(var c in s){var l=s[c],h=l[0],p=l[1];u[h]={flags:8,name:c,nonMinifiedName:p,ns:null,securityContext:null,suffix:null}}var f=[];if(a)for(var d in a)f.push({type:1,propName:d,target:null,eventName:a[d]});return e|=16384,on(t,e,n,r,o,o,i,u,f)}function rn(t,e,n,r,o){return on(-1,t,e,0,n,r,o)}function on(t,e,n,r,o,i,s,a,u){var c=oe(n),l=c.matchedQueries,h=c.references,p=c.matchedQueryIds;u||(u=[]),a||(a=[]);var f=ie(s);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:p,references:h,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:ye(a),outputs:u,element:null,provider:{token:o,value:i,deps:f},text:null,query:null,ngContent:null}}function sn(t,e){return pn(t,e)}function an(t,e){for(var n=t;n.parent&&!ee(n);)n=n.parent;return fn(n.parent,Zt(n),!0,e.provider.value,e.provider.deps)}function un(t,e){var n=(32768&e.flags)>0,r=fn(t,e.parent,n,e.provider.value,e.provider.deps);if(e.outputs.length)for(var o=0;o<e.outputs.length;o++){var i=e.outputs[o],s=r[i.propName].subscribe(cn(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+o]=s.unsubscribe.bind(s)}return r}function cn(t,e,n){return function(r){try{return Xt(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}}function ln(t,e,n,r,o,i,s,a,u,c,l,h){var p=kt(t,e.nodeIndex),f=p.instance,d=!1,y=void 0,v=e.bindings.length;return v>0&&Kt(t,e,0,n)&&(d=!0,y=mn(t,p,e,0,n,y)),v>1&&Kt(t,e,1,r)&&(d=!0,y=mn(t,p,e,1,r,y)),v>2&&Kt(t,e,2,o)&&(d=!0,y=mn(t,p,e,2,o,y)),v>3&&Kt(t,e,3,i)&&(d=!0,y=mn(t,p,e,3,i,y)),v>4&&Kt(t,e,4,s)&&(d=!0,y=mn(t,p,e,4,s,y)),v>5&&Kt(t,e,5,a)&&(d=!0,y=mn(t,p,e,5,a,y)),v>6&&Kt(t,e,6,u)&&(d=!0,y=mn(t,p,e,6,u,y)),v>7&&Kt(t,e,7,c)&&(d=!0,y=mn(t,p,e,7,c,y)),v>8&&Kt(t,e,8,l)&&(d=!0,y=mn(t,p,e,8,l,y)),v>9&&Kt(t,e,9,h)&&(d=!0,y=mn(t,p,e,9,h,y)),y&&f.ngOnChanges(y),2&t.state&&65536&e.flags&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),d}function hn(t,e,n){for(var r=kt(t,e.nodeIndex),o=r.instance,i=!1,s=void 0,a=0;a<n.length;a++)Kt(t,e,a,n[a])&&(i=!0,s=mn(t,r,e,a,n[a],s));return s&&o.ngOnChanges(s),2&t.state&&65536&e.flags&&o.ngOnInit(),262144&e.flags&&o.ngDoCheck(),i}function pn(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return fn(t,e.parent,n,r.value,r.deps);case 1024:return dn(t,e.parent,n,r.value,r.deps);case 2048:return yn(t,e.parent,n,r.deps[0]);case 256:return r.value}}function fn(t,e,n,r,o){var i=o.length;switch(i){case 0:return new r;case 1:return new r(yn(t,e,n,o[0]));case 2:return new r(yn(t,e,n,o[0]),yn(t,e,n,o[1]));case 3:return new r(yn(t,e,n,o[0]),yn(t,e,n,o[1]),yn(t,e,n,o[2]));default:for(var s=new Array(i),a=0;a<i;a++)s[a]=yn(t,e,n,o[a]);return new(r.bind.apply(r,[void 0].concat(s)))}}function dn(t,e,n,r,o){var i=o.length;switch(i){case 0:return r();case 1:return r(yn(t,e,n,o[0]));case 2:return r(yn(t,e,n,o[0]),yn(t,e,n,o[1]));case 3:return r(yn(t,e,n,o[0]),yn(t,e,n,o[1]),yn(t,e,n,o[2]));default:for(var s=Array(i),a=0;a<i;a++)s[a]=yn(t,e,n,o[a]);return r.apply(void 0,s)}}function yn(t,e,n,r,o){if(void 0===o&&(o=Ro.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var i=t;2&r.flags&&(o=null);var s=r.tokenKey;for(s===Xs&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);t;){if(e)switch(s){case Ks:var a=vn(t,e,n);return tn(a);case Gs:var a=vn(t,e,n);return a.renderer;case Qs:return new Bi(xt(t,e.nodeIndex).renderElement);case zs:return xt(t,e.nodeIndex).viewContainer;case Js:if(e.element.template)return xt(t,e.nodeIndex).template;break;case Xs:return Xe(vn(t,e,n));case Ys:return Ze(t,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[s];if(u){var c=kt(t,u.nodeIndex);return c||(c={instance:pn(t,u)},t.nodes[u.nodeIndex]=c),c.instance}}n=ee(t),e=Zt(t),t=t.parent}var l=i.root.injector.get(r.token,Zs);return l!==Zs||o===Zs?l:i.root.ngModule.injector.get(r.token,o)}function vn(t,e,n){var r;if(n)r=xt(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!ee(r);)r=r.parent;return r}function mn(t,e,n,r,o,i){if(32768&n.flags){var s=xt(t,n.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}var a=n.bindings[r],u=a.name;if(e.instance[u]=o,524288&n.flags){i=i||{};var c=t.oldValues[n.bindingIndex+r];c instanceof es&&(c=c.wrapped);i[n.bindings[r].nonMinifiedName]=new ns(c,o,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=o,i}function gn(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0;r<n.length;r++){var o=n[r],i=o.parent;for(!i&&o.flags&e&&_n(t,r,o.flags&e),0==(o.childFlags&e)&&(r+=o.childCount);i&&1&i.flags&&r===i.nodeIndex+i.childCount;)i.directChildFlags&e&&bn(t,i,e),i=i.parent}}function bn(t,e,n){for(var r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){var o=t.def.nodes[r];o.flags&n&&_n(t,r,o.flags&n),r+=o.childCount}}function _n(t,e,n){var r=kt(t,e);if(r){var o=r.instance;o&&(Os.setCurrentNode(t,e),1048576&n&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function wn(){return new Wi}function En(t){for(var e=t.def.nodeMatchedQueries;t.parent&&ne(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,o=0;o<=r;o++){var i=t.def.nodes[o];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&Mt(t,o).setDirty(),!(1&i.flags&&o+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(o+=i.childCount)}}if(134217728&t.def.nodeFlags)for(var o=0;o<t.def.nodes.length;o++){var i=t.def.nodes[o];134217728&i.flags&&536870912&i.flags&&Mt(t,o).setDirty(),o+=i.childCount}}function Cn(t,e){var n=Mt(t,e.nodeIndex);if(n.dirty){var r,o=void 0;if(67108864&e.flags){var i=e.parent.parent;o=Sn(t,i.nodeIndex,i.nodeIndex+i.childCount,e.query,[]),r=kt(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(o=Sn(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(o);for(var s=e.query.bindings,a=!1,u=0;u<s.length;u++){var c=s[u],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,a=!0}r[c.propName]=l}a&&n.notifyOnChanges()}}function Sn(t,e,n,r,o){for(var i=e;i<=n;i++){var s=t.def.nodes[i],a=s.matchedQueries[r.id];if(null!=a&&o.push(On(t,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=xt(t,i);if((s.childMatchedQueries&r.filterId)===r.filterId&&(Sn(t,i+1,i+s.childCount,r,o),i+=s.childCount),16777216&s.flags)for(var c=u.viewContainer._embeddedViews,l=0;l<c.length;l++){var h=c[l],p=Yt(h);p&&p===u&&Sn(h,0,h.def.nodes.length-1,r,o)}var f=u.template._projectedViews;if(f)for(var l=0;l<f.length;l++){var d=f[l];Sn(d,0,d.def.nodes.length-1,r,o)}}(s.childMatchedQueries&r.filterId)!==r.filterId&&(i+=s.childCount)}return o}function On(t,e,n){if(null!=n)switch(n){case 1:return xt(t,e.nodeIndex).renderElement;case 0:return new Bi(xt(t,e.nodeIndex).renderElement);case 2:return xt(t,e.nodeIndex).template;case 3:return xt(t,e.nodeIndex).viewContainer;case 4:return kt(t,e.nodeIndex).instance}}function Tn(t,e,n){var r=se(t,e,n);if(r){he(t,n.ngContent.index,1,r,null,void 0)}}function In(t,e){return An(32,t,new Array(e))}function Nn(t,e){for(var n=Object.keys(e),r=n.length,o=new Array(r),i=0;i<r;i++){var s=n[i];o[e[s]]=s}return An(64,t,o)}function An(t,e,n){for(var r=new Array(n.length),o=0;o<n.length;o++){var i=n[o];r[o]={flags:8,name:i,ns:null,nonMinifiedName:i,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:ye(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Pn(t,e){return{value:void 0}}function Rn(t,e,n,r,o,i,s,a,u,c,l,h){var p=e.bindings,f=!1,d=p.length;if(d>0&&Gt(t,e,0,n)&&(f=!0),d>1&&Gt(t,e,1,r)&&(f=!0),d>2&&Gt(t,e,2,o)&&(f=!0),d>3&&Gt(t,e,3,i)&&(f=!0),d>4&&Gt(t,e,4,s)&&(f=!0),d>5&&Gt(t,e,5,a)&&(f=!0),d>6&&Gt(t,e,6,u)&&(f=!0),d>7&&Gt(t,e,7,c)&&(f=!0),d>8&&Gt(t,e,8,l)&&(f=!0),d>9&&Gt(t,e,9,h)&&(f=!0),f){var y=Dt(t,e.nodeIndex),v=void 0;switch(201347067&e.flags){case 32:v=new Array(p.length),d>0&&(v[0]=n),d>1&&(v[1]=r),d>2&&(v[2]=o),d>3&&(v[3]=i),d>4&&(v[4]=s),d>5&&(v[5]=a),d>6&&(v[6]=u),d>7&&(v[7]=c),d>8&&(v[8]=l),d>9&&(v[9]=h);break;case 64:v={},d>0&&(v[p[0].name]=n),d>1&&(v[p[1].name]=r),d>2&&(v[p[2].name]=o),d>3&&(v[p[3].name]=i),d>4&&(v[p[4].name]=s),d>5&&(v[p[5].name]=a),d>6&&(v[p[6].name]=u),d>7&&(v[p[7].name]=c),d>8&&(v[p[8].name]=l),d>9&&(v[p[9].name]=h);break;case 128:var m=n;switch(d){case 1:v=m.transform(n);break;case 2:v=m.transform(r);break;case 3:v=m.transform(r,o);break;case 4:v=m.transform(r,o,i);break;case 5:v=m.transform(r,o,i,s);break;case 6:v=m.transform(r,o,i,s,a);break;case 7:v=m.transform(r,o,i,s,a,u);break;case 8:v=m.transform(r,o,i,s,a,u,c);break;case 9:v=m.transform(r,o,i,s,a,u,c,l);break;case 10:v=m.transform(r,o,i,s,a,u,c,l,h)}}y.value=v}return f}function xn(t,e,n){for(var r=e.bindings,o=!1,i=0;i<n.length;i++)Gt(t,e,i,n[i])&&(o=!0);if(o){var s=Dt(t,e.nodeIndex),a=void 0;switch(201347067&e.flags){case 32:a=n;break;case 64:a={};for(var i=0;i<n.length;i++)a[r[i].name]=n[i];break;case 128:var u=n[0],c=n.slice(1);a=u.transform.apply(u,c)}s.value=a}return o}function kn(t,e,n){for(var r=new Array(n.length-1),o=1;o<n.length;o++)r[o-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[o]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Dn(t,e,n){var r,o=t.renderer;r=o.createText(n.text.prefix);var i=se(t,e,n);return i&&o.appendChild(i,r),{renderText:r}}function Mn(t,e,n,r,o,i,s,a,u,c,l,h){var p=!1,f=e.bindings,d=f.length;if(d>0&&Gt(t,e,0,n)&&(p=!0),d>1&&Gt(t,e,1,r)&&(p=!0),d>2&&Gt(t,e,2,o)&&(p=!0),d>3&&Gt(t,e,3,i)&&(p=!0),d>4&&Gt(t,e,4,s)&&(p=!0),d>5&&Gt(t,e,5,a)&&(p=!0),d>6&&Gt(t,e,6,u)&&(p=!0),d>7&&Gt(t,e,7,c)&&(p=!0),d>8&&Gt(t,e,8,l)&&(p=!0),d>9&&Gt(t,e,9,h)&&(p=!0),p){var y=e.text.prefix;d>0&&(y+=jn(n,f[0])),d>1&&(y+=jn(r,f[1])),d>2&&(y+=jn(o,f[2])),d>3&&(y+=jn(i,f[3])),d>4&&(y+=jn(s,f[4])),d>5&&(y+=jn(a,f[5])),d>6&&(y+=jn(u,f[6])),d>7&&(y+=jn(c,f[7])),d>8&&(y+=jn(l,f[8])),d>9&&(y+=jn(h,f[9]));var v=Rt(t,e.nodeIndex).renderText;t.renderer.setValue(v,y)}return p}function Ln(t,e,n){for(var r=e.bindings,o=!1,i=0;i<n.length;i++)Gt(t,e,i,n[i])&&(o=!0);if(o){for(var s="",i=0;i<n.length;i++)s+=jn(n[i],r[i]);s=e.text.prefix+s;var a=Rt(t,e.nodeIndex).renderText;t.renderer.setValue(a,s)}return o}function jn(t,e){return(null!=t?t.toString():"")+e.suffix}function Fn(t,e,n,r){for(var o=0,i=0,s=0,a=0,u=0,c=null,l=null,h=!1,p=!1,f=null,d=0;d<e.length;d++){var y=e[d];if(y.nodeIndex=d,y.parent=c,y.bindingIndex=o,y.outputIndex=i,y.renderParent=l,s|=y.flags,u|=y.matchedQueryIds,y.element){var v=y.element;v.publicProviders=c?c.element.publicProviders:Object.create(null),v.allProviders=v.publicProviders,h=!1,p=!1,y.element.template&&(u|=y.element.template.nodeMatchedQueries)}if(Un(c,y,e.length),o+=y.bindings.length,i+=y.outputs.length,!l&&3&y.flags&&(f=y),20224&y.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var m=0!=(8192&y.flags),g=0!=(32768&y.flags);!m||g?c.element.publicProviders[qt(y.provider.token)]=y:(p||(p=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[qt(y.provider.token)]=y),g&&(c.element.componentProvider=y)}if(c?(c.childFlags|=y.flags,c.directChildFlags|=y.flags,c.childMatchedQueries|=y.matchedQueryIds,y.element&&y.element.template&&(c.childMatchedQueries|=y.element.template.nodeMatchedQueries)):a|=y.flags,y.childCount>0)c=y,Vn(y)||(l=y);else for(;c&&d===c.nodeIndex+c.childCount;){var b=c.parent;b&&(b.childFlags|=c.childFlags,b.childMatchedQueries|=c.childMatchedQueries),c=b,l=c&&Vn(c)?c.renderParent:c}}var _=function(t,n,r,o){return e[n].element.handleEvent(t,r,o)};return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Ts,updateRenderer:r||Ts,handleEvent:_,bindingCount:o,outputCount:i,lastRenderRootNode:f}}function Vn(t){return 0!=(1&t.flags)&&null===t.element.name}function Un(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags){if(0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!")}if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var o=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=o&&e.nodeIndex+e.childCount>o)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function Bn(t,e,n,r){var o=Hn(t.root,t.renderer,t,e,n);return Kn(o,t.component,r),Gn(o),o}function qn(t,e,n){var r=Hn(t,t.renderer,null,null,e);return Kn(r,n,n),Gn(r),r}function Wn(t,e,n,r){var o,i=e.element.componentRendererType;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Hn(t.root,o,t,e.element.componentProvider,n)}function Hn(t,e,n,r,o){var i=new Array(o.nodes.length),s=o.outputCount?new Array(o.outputCount):null;return{def:o,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:i,state:13,root:t,renderer:e,oldValues:new Array(o.bindingCount),disposables:s}}function Kn(t,e,n){t.component=e,t.context=n}function Gn(t){var e;if(ee(t)){var n=t.parentNodeDef;e=xt(t.parent,n.parent.nodeIndex).renderElement}for(var r=t.def,o=t.nodes,i=0;i<r.nodes.length;i++){var s=r.nodes[i];Os.setCurrentNode(t,i);var a=void 0;switch(201347067&s.flags){case 1:var u=_e(t,e,s),c=void 0;if(33554432&s.flags){var l=ae(s.element.componentView);c=Os.createComponentView(t,s,l,u)}we(t,c,s,u),a={renderElement:u,componentView:c,viewContainer:null,template:s.element.template?Ye(t,s):void 0},16777216&s.flags&&(a.viewContainer=Je(t,s,a));break;case 2:a=Dn(t,e,s);break;case 512:case 1024:case 2048:case 256:if(!((a=o[i])||4096&s.flags)){var h=sn(t,s);a={instance:h}}break;case 16:var h=an(t,s);a={instance:h};break;case 16384:if(!(a=o[i])){var h=un(t,s);a={instance:h}}if(32768&s.flags){Kn(xt(t,s.parent.nodeIndex).componentView,a.instance,a.instance)}break;case 32:case 64:case 128:a=Pn(t,s);break;case 67108864:case 134217728:a=wn();break;case 8:Tn(t,e,s),a=void 0}o[i]=a}ir(t,$s.CreateViewNodes),cr(t,201326592,268435456,0)}function Qn(t){Xn(t),Os.updateDirectives(t,1),sr(t,$s.CheckNoChanges),Os.updateRenderer(t,1),ir(t,$s.CheckNoChanges),t.state&=-97}function zn(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Xn(t),Os.updateDirectives(t,0),sr(t,$s.CheckAndUpdate),cr(t,67108864,536870912,0),gn(t,2097152|(2&t.state?1048576:0)),Os.updateRenderer(t,0),ir(t,$s.CheckAndUpdate),cr(t,134217728,536870912,0),gn(t,8388608|(2&t.state?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97}function Jn(t,e,n,r,o,i,s,a,u,c,l,h,p){return 0===n?Yn(t,e,r,o,i,s,a,u,c,l,h,p):Zn(t,e,r)}function Xn(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var o=xt(t,n).template._projectedViews;if(o)for(var i=0;i<o.length;i++){var s=o[i];s.state|=32,Jt(s,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Yn(t,e,n,r,o,i,s,a,u,c,l,h){switch(201347067&e.flags){case 1:return Ce(t,e,n,r,o,i,s,a,u,c,l,h);case 2:return Mn(t,e,n,r,o,i,s,a,u,c,l,h);case 16384:return ln(t,e,n,r,o,i,s,a,u,c,l,h);case 32:case 64:case 128:return Rn(t,e,n,r,o,i,s,a,u,c,l,h);default:throw"unreachable"}}function Zn(t,e,n){switch(201347067&e.flags){case 1:return Se(t,e,n);case 2:return Ln(t,e,n);case 16384:return hn(t,e,n);case 32:case 64:case 128:return xn(t,e,n);default:throw"unreachable"}}function $n(t,e,n,r,o,i,s,a,u,c,l,h,p){return 0===n?tr(t,e,r,o,i,s,a,u,c,l,h,p):er(t,e,r),!1}function tr(t,e,n,r,o,i,s,a,u,c,l,h){var p=e.bindings.length;p>0&&Qt(t,e,0,n),p>1&&Qt(t,e,1,r),p>2&&Qt(t,e,2,o),p>3&&Qt(t,e,3,i),p>4&&Qt(t,e,4,s),p>5&&Qt(t,e,5,a),p>6&&Qt(t,e,6,u),p>7&&Qt(t,e,7,c),p>8&&Qt(t,e,8,l),p>9&&Qt(t,e,9,h)}function er(t,e,n){for(var r=0;r<n.length;r++)Qt(t,e,r,n[r])}function nr(t,e){if(Mt(t,e.nodeIndex).dirty)throw Lt(Os.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function rr(t){if(!(128&t.state)){if(sr(t,$s.Destroy),ir(t,$s.Destroy),gn(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();qe(t),t.renderer.destroyNode&&or(t),ee(t)&&t.renderer.destroy(),t.state|=128}}function or(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(xt(t,n).renderElement):2&r.flags?t.renderer.destroyNode(Rt(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&Mt(t,n).destroy()}}function ir(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];33554432&o.flags?ar(xt(t,r).componentView,e):0==(33554432&o.childFlags)&&(r+=o.childCount)}}function sr(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];if(16777216&o.flags)for(var i=xt(t,r).viewContainer._embeddedViews,s=0;s<i.length;s++)ar(i[s],e);else 0==(16777216&o.childFlags)&&(r+=o.childCount)}}function ar(t,e){var n=t.state;switch(e){case $s.CheckNoChanges:0==(128&n)&&(12==(12&n)?Qn(t):64&n&&ur(t,$s.CheckNoChangesProjectedViews));break;case $s.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Qn(t):64&n&&ur(t,e));break;case $s.CheckAndUpdate:0==(128&n)&&(12==(12&n)?zn(t):64&n&&ur(t,$s.CheckAndUpdateProjectedViews));break;case $s.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?zn(t):64&n&&ur(t,e));break;case $s.Destroy:rr(t);break;case $s.CreateViewNodes:Gn(t)}}function ur(t,e){sr(t,e),ir(t,e)}function cr(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var o=t.def.nodes.length,i=0;i<o;i++){var s=t.def.nodes[i];if(s.flags&e&&s.flags&n)switch(Os.setCurrentNode(t,s.nodeIndex),r){case 0:Cn(t,s);break;case 1:nr(t,s)}s.childFlags&e&&s.childFlags&n||(i+=s.childCount)}}function lr(){if(!ta){ta=!0;var t=st()?pr():hr();Os.setCurrentNode=t.setCurrentNode,Os.createRootView=t.createRootView,Os.createEmbeddedView=t.createEmbeddedView,Os.createComponentView=t.createComponentView,Os.createNgModuleRef=t.createNgModuleRef,Os.overrideProvider=t.overrideProvider,Os.clearProviderOverrides=t.clearProviderOverrides,Os.checkAndUpdateView=t.checkAndUpdateView,Os.checkNoChangesView=t.checkNoChangesView,Os.destroyView=t.destroyView,Os.resolveDep=yn,Os.createDebugContext=t.createDebugContext,Os.handleEvent=t.handleEvent,Os.updateDirectives=t.updateDirectives,Os.updateRenderer=t.updateRenderer,Os.dirtyParentQueries=En}}function hr(){return{setCurrentNode:function(){},createRootView:fr,createEmbeddedView:Bn,createComponentView:Wn,createNgModuleRef:en,overrideProvider:Ts,clearProviderOverrides:Ts,checkAndUpdateView:zn,checkNoChangesView:Qn,destroyView:rr,createDebugContext:function(t,e){return new aa(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Cr:Sr,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Cr:Sr,t)}}}function pr(){return{setCurrentNode:Nr,createRootView:dr,createEmbeddedView:vr,createComponentView:mr,createNgModuleRef:gr,overrideProvider:br,clearProviderOverrides:_r,checkAndUpdateView:Or,checkNoChangesView:Tr,destroyView:Ir,createDebugContext:function(t,e){return new aa(t,e)},handleEvent:Ar,updateDirectives:Pr,updateRenderer:Rr}}function fr(t,e,n,r,o,i){return qn(yr(t,o,o.injector.get(Fi),e,n),r,i)}function dr(t,e,n,r,o,i){var s=o.injector.get(Fi),a=yr(t,o,new ua(s),e,n),u=wr(r);return qr(na.create,qn,null,[a,u,i])}function yr(t,e,n,r,o){var i=e.injector.get(Ss),s=e.injector.get(Mo);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:o,sanitizer:i,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:s}}function vr(t,e,n,r){var o=wr(n);return qr(na.create,Bn,null,[t,e,o,r])}function mr(t,e,n,r){var o=wr(n);return qr(na.create,Wn,null,[t,e,o,r])}function gr(t,e,n,r){return en(t,e,n,Er(r))}function br(t){ea.set(t.token,t)}function _r(){ea.clear()}function wr(t){if(0===ea.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var o=t.nodes[r];1&o.flags&&(n=o),n&&3840&o.flags&&ea.has(o.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return Ts});for(var n=0;n<e.length;n++)!function(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var o=r.provider,i=ea.get(o.token);i&&(r.flags=-3841&r.flags|i.flags,o.deps=ie(i.deps),o.value=i.value)}}}(t,e[n]);return t}function Er(t){var e=function(t){var e=!1,n=!1;return 0===ea.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=ea.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasOverrides,r=e.hasDeprecatedOverrides;return n?(t=t.factory(function(){return Ts}),function(t){for(var e=0;e<t.providers.length;e++){var n=t.providers[e];r&&(n.flags|=4096);var o=ea.get(n.token);o&&(n.flags=-3841&n.flags|o.flags,n.deps=ie(o.deps),n.value=o.value)}}(t),t):t}function Cr(t,e,n,r,o,i,s,a,u,c,l,h,p){var f=t.def.nodes[e];return Jn(t,f,n,r,o,i,s,a,u,c,l,h,p),224&f.flags?Dt(t,e).value:void 0}function Sr(t,e,n,r,o,i,s,a,u,c,l,h,p){var f=t.def.nodes[e];return $n(t,f,n,r,o,i,s,a,u,c,l,h,p),224&f.flags?Dt(t,e).value:void 0}function Or(t){return qr(na.detectChanges,zn,null,[t])}function Tr(t){return qr(na.checkNoChanges,Qn,null,[t])}function Ir(t){return qr(na.destroy,rr,null,[t])}function Nr(t,e){oa=t,ia=e}function Ar(t,e,n,r){return Nr(t,e),qr(na.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Pr(t,e){function n(t,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var s=t.def.nodes[n];return 0===e?xr(t,s,r,o):kr(t,s,r,o),16384&s.flags&&Nr(t,jr(t,n)),224&s.flags?Dt(t,s.nodeIndex).value:void 0}if(128&t.state)throw Bt(na[ra]);return Nr(t,jr(t,0)),t.def.updateDirectives(n,t)}function Rr(t,e){function n(t,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var s=t.def.nodes[n];return 0===e?xr(t,s,r,o):kr(t,s,r,o),3&s.flags&&Nr(t,Fr(t,n)),224&s.flags?Dt(t,s.nodeIndex).value:void 0}if(128&t.state)throw Bt(na[ra]);return Nr(t,Fr(t,0)),t.def.updateRenderer(n,t)}function xr(t,e,n,r){if(Jn.apply(void 0,[t,e,n].concat(r))){var o=1===n?r[0]:r;if(16384&e.flags){for(var i={},s=0;s<e.bindings.length;s++){var a=e.bindings[s],u=o[s];8&a.flags&&(i[Dr(a.nonMinifiedName)]=Lr(u))}var c=e.parent,l=xt(t,c.nodeIndex).renderElement;if(c.element.name)for(var h in i){var u=i[h];null!=u?t.renderer.setAttribute(l,h,u):t.renderer.removeAttribute(l,h)}else t.renderer.setValue(l,"bindings="+JSON.stringify(i,null,2))}}}function kr(t,e,n,r){$n.apply(void 0,[t,e,n].concat(r))}function Dr(t){return"ng-reflect-"+(t=Mr(t.replace(/[$@]/g,"_")))}function Mr(t){return t.replace(sa,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})}function Lr(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function jr(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Fr(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Vr(t,e){for(var n=-1,r=0;r<=e;r++){3&t.nodes[r].flags&&n++}return n}function Ur(t){for(;t&&!ee(t);)t=t.parent;return t.parent?xt(t.parent,Zt(t).nodeIndex):null}function Br(t,e,n){for(var r in e.references)n[r]=On(t,e,e.references[r])}function qr(t,e,n,r){var o=ra,i=oa,s=ia;try{ra=t;var a=e.apply(n,r);return oa=i,ia=s,ra=o,a}catch(t){if(Ut(t)||!oa)throw t;throw jt(t,Wr())}}function Wr(){return oa?new aa(oa,ia):null}function Hr(t,e,n){return new la(t,e,n)}n.d(e,"g",function(){return Mi}),n.d(e,"_3",function(){return it}),n.d(e,"_6",function(){return st}),n.d(e,"_2",function(){return ut}),n.d(e,"F",function(){return xi}),n.d(e,"c",function(){return ti}),n.d(e,"K",function(){return ni}),n.d(e,"J",function(){return ri}),n.d(e,"b",function(){return oi}),n.d(e,"d",function(){return Zo}),n.d(e,"e",function(){return $o}),n.d(e,"_5",function(){return mt}),n.d(e,"X",function(){return Si}),n.d(e,"_8",function(){return ot}),n.d(e,"A",function(){return _s}),n.d(e,"f",function(){return Es}),n.d(e,"p",function(){return Ei}),n.d(e,"o",function(){return Mo}),n.d(e,"Q",function(){return Ss}),n.d(e,"R",function(){return Cs}),n.d(e,"a",function(){return io}),n.d(e,"h",function(){return so}),n.d(e,"l",function(){return uo}),n.d(e,"m",function(){return ho}),n.d(e,"r",function(){return vo}),n.d(e,"s",function(){return mo}),n.d(e,"x",function(){return fo}),n.d(e,"I",function(){return yo}),n.d(e,"L",function(){return po}),n.d(e,"B",function(){return go}),n.d(e,"_0",function(){return bo}),n.d(e,"Y",function(){return _o}),n.d(e,"_4",function(){return d}),n.d(e,"w",function(){return Ro}),n.d(e,"v",function(){return Yr}),n.d(e,"t",function(){return Eo}),n.d(e,"H",function(){return Co}),n.d(e,"u",function(){return So}),n.d(e,"S",function(){return Oo}),n.d(e,"T",function(){return To}),n.d(e,"q",function(){return Io}),n.d(e,"G",function(){return Ci}),n.d(e,"M",function(){return ji}),n.d(e,"N",function(){return Ui}),n.d(e,"O",function(){return Fi}),n.d(e,"P",function(){return Vi}),n.d(e,"j",function(){return si}),n.d(e,"k",function(){return pi}),n.d(e,"n",function(){return Bi}),n.d(e,"C",function(){return gi}),n.d(e,"E",function(){return mi}),n.d(e,"D",function(){return qi}),n.d(e,"U",function(){return Gi}),n.d(e,"V",function(){return Hi}),n.d(e,"W",function(){return Qi}),n.d(e,"Z",function(){return zi}),n.d(e,"i",function(){return Ji}),n.d(e,"y",function(){return ps}),n.d(e,"z",function(){return fs}),n.d(e,"_1",function(){return es}),n.d(e,"_7",function(){return bs}),n.d(e,"_21",function(){return wt}),n.d(e,"_10",function(){return ii}),n.d(e,"_9",function(){return yi}),n.d(e,"_19",function(){return eo}),n.d(e,"_26",function(){return i}),n.d(e,"_34",function(){return s}),n.d(e,"_22",function(){return G}),n.d(e,"_23",function(){return K}),n.d(e,"_11",function(){return ge}),n.d(e,"_12",function(){return ze}),n.d(e,"_13",function(){return Hr}),n.d(e,"_14",function(){return Wt}),n.d(e,"_15",function(){return nn}),n.d(e,"_17",function(){return be}),n.d(e,"_20",function(){return ve}),n.d(e,"_28",function(){return Re}),n.d(e,"_29",function(){return Pe}),n.d(e,"_30",function(){return $e}),n.d(e,"_33",function(){return rn}),n.d(e,"_31",function(){return In}),n.d(e,"_32",function(){return Nn}),n.d(e,"_35",function(){return kn}),n.d(e,"_36",function(){return Fn}),n.d(e,"_24",function(){return Nt}),n.d(e,"_25",function(){return At}),n.d(e,"_27",function(){return Pt}),n.d(e,"_16",function(){return Li}),n.d(e,"_18",function(){return Q});var Kr=n("6Xbx"),Gr=n("bKpL"),Qr=(n.n(Gr),n("LEug")),zr=(n.n(Qr),n("CE6k")),Jr=(n.n(zr),n("rlar")),Xr=(n.n(Jr),function(){function t(t){this._desc=t}return t.prototype.toString=function(){return"Token "+this._desc},t}()),Yr=function(t){function e(e){return t.call(this,e)||this}return Kr.a(e,t),e.prototype.toString=function(){return"InjectionToken "+this._desc},e}(Xr),Zr="undefined"!=typeof window&&window,$r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,to=void 0!==t&&t,eo=Zr||to||$r,no=null,ro=0,oo=eo.Reflect,io=new Yr("AnalyzeForEntryComponents"),so=p("Attribute",function(t){return{attributeName:t}}),ao=function(){function t(){}return t}(),uo=f("ContentChildren",function(t,e){return void 0===e&&(e={}),Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)},ao),co=(f("ContentChild",function(t,e){return void 0===e&&(e={}),Object.assign({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)},ao),f("ViewChildren",function(t,e){return void 0===e&&(e={}),Object.assign({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)},ao),f("ViewChild",function(t,e){return Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)},ao),{});co.OnPush=0,co.Default=1,co[co.OnPush]="OnPush",co[co.Default]="Default";var lo={};lo.CheckOnce=0,lo.Checked=1,lo.CheckAlways=2,lo.Detached=3,lo.Errored=4,lo.Destroyed=5,lo[lo.CheckOnce]="CheckOnce",lo[lo.Checked]="Checked",lo[lo.CheckAlways]="CheckAlways",lo[lo.Detached]="Detached",lo[lo.Errored]="Errored",lo[lo.Destroyed]="Destroyed";var ho=l("Directive",function(t){return void 0===t&&(t={}),t}),po=(l("Component",function(t){return void 0===t&&(t={}),Object.assign({changeDetection:co.Default},t)},ho),l("Pipe",function(t){return Object.assign({pure:!0},t)})),fo=f("Input",function(t){return{bindingPropertyName:t}}),yo=f("Output",function(t){return{bindingPropertyName:t}}),vo=f("HostBinding",function(t){return{hostPropertyName:t}}),mo=f("HostListener",function(t,e){return{eventName:t,args:e}}),go=l("NgModule",function(t){return t}),bo={};bo.Emulated=0,bo.Native=1,bo.None=2,bo[bo.Emulated]="Emulated",bo[bo.Native]="Native",bo[bo.None]="None";var _o=(function(){function t(t){void 0===t&&(t={}),this.templateUrl=t.templateUrl,this.template=t.template,this.styleUrls=t.styleUrls,this.styles=t.styles,this.encapsulation=t.encapsulation,this.animations=t.animations,this.interpolation=t.interpolation}}(),function(){function t(t){this.full=t}return Object.defineProperty(t.prototype,"major",{get:function(){return this.full.split(".")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minor",{get:function(){return this.full.split(".")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patch",{get:function(){return this.full.split(".").slice(2).join(".")},enumerable:!0,configurable:!0}),t}()),wo=new _o("4.4.5"),Eo=p("Inject",function(t){return{token:t}}),Co=p("Optional"),So=l("Injectable"),Oo=p("Self"),To=p("SkipSelf"),Io=p("Host"),No=new Object,Ao=No,Po=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=No),e===No)throw new Error("No provider for "+s(t)+"!");return e},t}(),Ro=function(){function t(){}return t.prototype.get=function(t,e){},t.prototype.get=function(t,e){},t}();Ro.THROW_IF_NOT_FOUND=No,Ro.NULL=new Po;var xo="ngDebugContext",ko="ngOriginalError",Do="ngErrorLogger",Mo=function(){function t(t){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=g(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?v(t)?v(t):this._findContext(m(t)):null},t.prototype._findOriginalError=function(t){for(var e=m(t);e&&m(e);)e=m(e);return e},t}(),Lo=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!")}return Object.defineProperty(t.prototype,"displayName",{get:function(){return s(this.token)},enumerable:!0,configurable:!0}),t.get=function(t){return Fo.get(y(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return Fo.numberOfKeys},enumerable:!0,configurable:!0}),t}(),jo=function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof Lo)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new Lo(t,Lo.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}(),Fo=new jo,Vo=Function,Uo=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Bo=function(){function t(t){this._reflect=t||eo.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,[void 0].concat(e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)void 0===t?n[r]=[]:t[r]!=Object?n[r]=[t[r]]:n[r]=[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){if(Uo.exec(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var n=t.ctorParameters;if(n&&n!==e.ctorParameters){var r="function"==typeof n?n():n,o=r.map(function(t){return t&&t.type}),i=r.map(function(t){return t&&k(t.decorators)});return this._zipTypesAndAnnotations(o,i)}if(null!=this._reflect&&null!=this._reflect.getOwnMetadata){var i=this._reflect.getOwnMetadata("parameters",t),o=this._reflect.getOwnMetadata("design:paramtypes",t);if(o||i)return this._zipTypesAndAnnotations(o,i)}return new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!x(t))return[];var e=D(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?k(t.decorators):this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("annotations",t):null},t.prototype.annotations=function(t){if(!x(t))return[];var e=D(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,o={};return Object.keys(r).forEach(function(t){o[t]=k(r[t])}),o}return this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("propMetadata",t):null},t.prototype.propMetadata=function(t){if(!x(t))return{};var e=D(t),n={};if(e!==Object){var r=this.propMetadata(e);Object.keys(r).forEach(function(t){n[t]=r[t]})}var o=this._ownPropMetadata(t,e);return o&&Object.keys(o).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,n[t]),e.push.apply(e,o[t]),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof Vo&&e in t.prototype},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){var e="if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);";return new Function("o","args",e)},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+s(t)},t.prototype.resourceUri=function(t){return"./"+s(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}(),qo=function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}(),Wo=new qo(new Bo),Ho=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),Ko=[],Go=function(){function t(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n}return Object.defineProperty(t.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),t}(),Qo=function(){function t(t,e){this.factory=t,this.dependencies=e}return t}(),zo=new Object,Jo=function(){function t(){}return t.resolve=function(t){return j(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new Xo(t,e)},t.prototype.parent=function(){},t.prototype.resolveAndCreateChild=function(t){},t.prototype.createChildFromResolved=function(t){},t.prototype.resolveAndInstantiate=function(t){},t.prototype.instantiateResolved=function(t){},t.prototype.get=function(t,e){},t}(),Xo=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this._parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=zo}return t.prototype.get=function(t,e){return void 0===e&&(e=Ao),this._getByKey(Lo.get(t),null,e)},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),t.prototype.resolveAndCreateChild=function(t){var e=Jo.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n._parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(Jo.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw P(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw T(this,t.key);return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,r=this,o=e.factory;try{n=e.dependencies.map(function(t){return r._getByReflectiveDependency(t)})}catch(e){throw e.addKey&&e.addKey(this,t.key),e}var i;try{i=o.apply(void 0,n)}catch(e){throw I(this,e,e.stack,t.key)}return i},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:Ao)},t.prototype._getByKey=function(t,e,n){return t===Yo?this:e instanceof Oo?this._getByKeySelf(t,n):this._getByKeyDefault(t,n,e)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===zo&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return zo},t.prototype._throwOrNull=function(t,e){if(e!==Ao)return e;throw O(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==zo?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var o;for(o=r instanceof To?this._parent:this;o instanceof t;){var i=o,s=i._getObjByKeyId(e.id);if(s!==zo)return s;o=i._parent}return null!==o?o.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+H(this,function(t){return' "'+t.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t}(),Yo=Lo.get(Ro),Zo=new Yr("Application Initializer"),$o=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this._done=!1,this._donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t._done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var o=this.appInits[r]();K(o)&&e.push(o)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},Object.defineProperty(t.prototype,"done",{get:function(){return this._done},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"donePromise",{get:function(){return this._donePromise},enumerable:!0,configurable:!0}),t}();$o.decorators=[{type:So}],$o.ctorParameters=function(){return[{type:Array,decorators:[{type:Eo,args:[Zo]},{type:Co}]}]};var ti=new Yr("AppId"),ei={provide:ti,useFactory:Q,deps:[]},ni=new Yr("Platform Initializer"),ri=new Yr("Platform ID"),oi=new Yr("appBootstrapListener"),ii=(new Yr("Application Packages Root URL"),function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}());ii.decorators=[{type:So}],ii.ctorParameters=function(){return[]};var si=(function(){function t(t,e){this.ngModuleFactory=t,this.componentFactories=e}}(),function(){function t(){}return t.prototype.compileModuleSync=function(t){throw J()},t.prototype.compileModuleAsync=function(t){throw J()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw J()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw J()},t.prototype.getNgContentSelectors=function(t){throw J()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}());si.decorators=[{type:So}],si.ctorParameters=function(){return[]};var ai=(new Yr("compilerOptions"),function(){function t(){}return t.prototype.createCompiler=function(t){},t}()),ui=function(){function t(){}return t.prototype.location=function(){},t.prototype.injector=function(){},t.prototype.instance=function(){},t.prototype.hostView=function(){},t.prototype.changeDetectorRef=function(){},t.prototype.componentType=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),ci=function(){function t(){}return t.prototype.selector=function(){},t.prototype.componentType=function(){},t.prototype.ngContentSelectors=function(){},t.prototype.inputs=function(){},t.prototype.outputs=function(){},t.prototype.create=function(t,e,n,r){},t}(),li="ngComponent",hi=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw X(t)},t}(),pi=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){},t}();pi.NULL=new hi;var fi,di,yi=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var o=t[r];this._factories.set(o.componentType,o)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw X(t);return new vi(e,this._ngModule)},t}(),vi=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r}return Kr.a(e,t),Object.defineProperty(e.prototype,"selector",{get:function(){return this.factory.selector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this.factory.componentType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngContentSelectors",{get:function(){return this.factory.ngContentSelectors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.factory.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this.factory.outputs},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(ci),mi=function(){function t(){}return t.prototype.injector=function(){},t.prototype.componentFactoryResolver=function(){},t.prototype.instance=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),gi=function(){function t(){}return t.prototype.moduleType=function(){},t.prototype.create=function(t){},t}(),bi=function(){var t=eo.wtf;return!(!t||!(fi=t.trace))&&(di=fi.events,!0)}(),_i=bi?Y:function(t,e){return $},wi=bi?Z:function(t,e){return e},Ei=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Kr.a(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var o,i=function(t){return null},s=function(){return null};return e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(i=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(i=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),t.prototype.subscribe.call(this,o,i,s)},e}(Jr.Subject),Ci=function(){function t(t){var e=t.enableLongStackTrace,n=void 0!==e&&e;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ei(!1),this.onMicrotaskEmpty=new Ei(!1),this.onStable=new Ei(!1),this.onError=new Ei(!1),"undefined"==typeof Zone)throw new Error("Angular requires Zone.js prolyfill.");Zone.assertZonePatched();var r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.wtfZoneSpec&&(r._inner=r._inner.fork(Zone.wtfZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),et(r)}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t){return this._inner.run(t)},t.prototype.runGuarded=function(t){return this._inner.runGuarded(t)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}(),Si=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Ci.assertNotInAngularZone(),o(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?o(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findBindings=function(t,e,n){return[]},t.prototype.findProviders=function(t,e,n){return[]},t}();Si.decorators=[{type:So}],Si.ctorParameters=function(){return[{type:Ci}]};var Oi=function(){function t(){this._applications=new Map,Ni.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Ni.findTestabilityInTree(this,t,e)},t}();Oi.decorators=[{type:So}],Oi.ctorParameters=function(){return[]};var Ti,Ii=function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}(),Ni=new Ii,Ai=!0,Pi=!1,Ri=new Yr("AllowMultipleToken"),xi=function(){function t(t,e){this.name=t,this.token=e}return t}(),ki=function(){function t(){}return t.prototype.bootstrapModuleFactory=function(t){},t.prototype.bootstrapModule=function(t,e){},t.prototype.onDestroy=function(t){},t.prototype.injector=function(){},t.prototype.destroy=function(){},t.prototype.destroyed=function(){},t}(),Di=function(t){function e(e){var n=t.call(this)||this;return n._injector=e,n._modules=[],n._destroyListeners=[],n._destroyed=!1,n}return Kr.a(e,t),e.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},e.prototype.bootstrapModuleFactory=function(t){return this._bootstrapModuleFactoryWithZone(t)},e.prototype._bootstrapModuleFactoryWithZone=function(t,e){var n=this;return e||(e=new Ci({enableLongStackTrace:st()})),e.run(function(){var r=Jo.resolveAndCreate([{provide:Ci,useValue:e}],n.injector),o=t.create(r),i=o.injector.get(Mo,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.onDestroy(function(){return pt(n._modules,o)}),e.runOutsideAngular(function(){return e.onError.subscribe({next:function(t){i.handleError(t)}})}),ht(i,e,function(){var t=o.injector.get($o);return t.runInitializers(),t.donePromise.then(function(){return n._moduleDoBootstrap(o),o})})})},e.prototype.bootstrapModule=function(t,e){return void 0===e&&(e=[]),this._bootstrapModuleWithZone(t,e)},e.prototype._bootstrapModuleWithZone=function(t,e,n){var r=this;return void 0===e&&(e=[]),this.injector.get(ai).createCompiler(Array.isArray(e)?e:[e]).compileModuleAsync(t).then(function(t){return r._bootstrapModuleFactoryWithZone(t,n)})},e.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(Mi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+s(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},e}(ki);Di.decorators=[{type:So}],Di.ctorParameters=function(){return[{type:Ro}]};var Mi=function(){function t(){}return t.prototype.bootstrap=function(t,e){},t.prototype.tick=function(){},t.prototype.componentTypes=function(){},t.prototype.components=function(){},t.prototype.attachView=function(t){},t.prototype.detachView=function(t){},t.prototype.viewCount=function(){},t.prototype.isStable=function(){},t}(),Li=function(t){function e(e,n,r,i,s,a){var u=t.call(this)||this;u._zone=e,u._console=n,u._injector=r,u._exceptionHandler=i,u._componentFactoryResolver=s,u._initStatus=a,u._bootstrapListeners=[],u._rootComponents=[],u._rootComponentTypes=[],u._views=[],u._runningTick=!1,u._enforceNoNewChanges=!1,u._stable=!0,u._enforceNoNewChanges=st(),u._zone.onMicrotaskEmpty.subscribe({next:function(){u._zone.run(function(){u.tick()})}});var c=new Gr.Observable(function(t){u._stable=u._zone.isStable&&!u._zone.hasPendingMacrotasks&&!u._zone.hasPendingMicrotasks,u._zone.runOutsideAngular(function(){t.next(u._stable),t.complete()})}),l=new Gr.Observable(function(t){var e;u._zone.runOutsideAngular(function(){e=u._zone.onStable.subscribe(function(){Ci.assertNotInAngularZone(),o(function(){u._stable||u._zone.hasPendingMacrotasks||u._zone.hasPendingMicrotasks||(u._stable=!0,t.next(!0))})})});var n=u._zone.onUnstable.subscribe(function(){Ci.assertInAngularZone(),u._stable&&(u._stable=!1,u._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});return u._isStable=Object(Qr.merge)(c,zr.share.call(l)),u}return Kr.a(e,t),e.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},e.prototype.detachView=function(t){var e=t;pt(this._views,e),e.detachFromAppRef()},e.prototype.bootstrap=function(t,e){var n=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var r;r=t instanceof ci?t:this._componentFactoryResolver.resolveComponentFactory(t),this._rootComponentTypes.push(r.componentType);var o=r instanceof vi?null:this._injector.get(mi),i=e||r.selector,s=r.create(Ro.NULL,[],i,o);s.onDestroy(function(){n._unloadComponent(s)});var a=s.injector.get(Si,null);return a&&s.injector.get(Oi).registerApplication(s.location.nativeElement,a),this._loadComponent(s),st()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s},e.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this._rootComponents.push(t),this._injector.get(oi,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},e.prototype._unloadComponent=function(t){this.detachView(t.hostView),pt(this._rootComponents,t)},e.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(e){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(e)})}finally{this._runningTick=!1,wi(n)}},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"components",{get:function(){return this._rootComponents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStable",{get:function(){return this._isStable},enumerable:!0,configurable:!0}),e}(Mi);Li._tickScope=_i("ApplicationRef#tick()"),Li.decorators=[{type:So}],Li.ctorParameters=function(){return[{type:Ci},{type:ii},{type:Ro},{type:Mo},{type:pi},{type:$o}]};var ji=(function(){function t(t,e,n,r,o,i){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=o,this.animations=i}}(),function(){function t(){}t.prototype.injector=function(){},t.prototype.component=function(){},t.prototype.providerTokens=function(){},t.prototype.references=function(){},t.prototype.context=function(){},t.prototype.source=function(){}}(),function(){function t(){}return t.prototype.selectRootElement=function(t,e){},t.prototype.createElement=function(t,e,n){},t.prototype.createViewRoot=function(t){},t.prototype.createTemplateAnchor=function(t,e){},t.prototype.createText=function(t,e,n){},t.prototype.projectNodes=function(t,e){},t.prototype.attachViewAfter=function(t,e){},t.prototype.detachView=function(t){},t.prototype.destroyView=function(t,e){},t.prototype.listen=function(t,e,n){},t.prototype.listenGlobal=function(t,e,n){},t.prototype.setElementProperty=function(t,e,n){},t.prototype.setElementAttribute=function(t,e,n){},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){},t.prototype.setElementStyle=function(t,e,n){},t.prototype.invokeElementMethod=function(t,e,n){},t.prototype.setText=function(t,e){},t.prototype.animate=function(t,e,n,r,o,i,s){},t}()),Fi=(new Yr("Renderer2Interceptor"),function(){function t(){}t.prototype.renderComponent=function(t){}}(),function(){function t(){}return t.prototype.createRenderer=function(t,e){},t.prototype.begin=function(){},t.prototype.end=function(){},t.prototype.whenRenderingDone=function(){},t}()),Vi={};Vi.Important=1,Vi.DashCase=2,Vi[Vi.Important]="Important",Vi[Vi.DashCase]="DashCase";var Ui=function(){function t(){}return t.prototype.data=function(){},t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){},t.prototype.createComment=function(t){},t.prototype.createText=function(t){},t.prototype.appendChild=function(t,e){},t.prototype.insertBefore=function(t,e,n){},t.prototype.removeChild=function(t,e){},t.prototype.selectRootElement=function(t){},t.prototype.parentNode=function(t){},t.prototype.nextSibling=function(t){},t.prototype.setAttribute=function(t,e,n,r){},t.prototype.removeAttribute=function(t,e,n){},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.setStyle=function(t,e,n,r){},t.prototype.removeStyle=function(t,e,n){},t.prototype.setProperty=function(t,e,n){},t.prototype.setValue=function(t,e){},t.prototype.listen=function(t,e,n){},t}(),Bi=function(){function t(t){this.nativeElement=t}return t}(),qi=function(){function t(){}return t.prototype.load=function(t){},t}(),Wi=(new Map,function(){function t(){this._dirty=!0,this._results=[],this._emitter=new Ei}return Object.defineProperty(t.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[r()]=function(){return this._results[r()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=ft(t),this._dirty=!1},t.prototype.notifyOnChanges=function(){this._emitter.emit(this)},t.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._emitter.complete(),this._emitter.unsubscribe()},t}()),Hi=function(){function t(){}return t}(),Ki={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Gi=function(){function t(t,e){this._compiler=t,this._config=e||Ki}return t.prototype.load=function(t){return this._compiler instanceof si?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=t.split("#"),o=r[0],i=r[1];return void 0===i&&(i="default"),n("gFIY")(o).then(function(t){return t[i]}).then(function(t){return dt(t,o,i)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split("#"),r=e[0],o=e[1],i="NgFactory";return void 0===o&&(o="default",i=""),n("gFIY")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[o+i]}).then(function(t){return dt(t,r,o)})},t}();Gi.decorators=[{type:So}],Gi.ctorParameters=function(){return[{type:si},{type:Hi,decorators:[{type:Co}]}]};var Qi=function(){function t(){}return t.prototype.elementRef=function(){},t.prototype.createEmbeddedView=function(t){},t}(),zi=function(){function t(){}return t.prototype.element=function(){},t.prototype.injector=function(){},t.prototype.parentInjector=function(){},t.prototype.clear=function(){},t.prototype.get=function(t){},t.prototype.length=function(){},t.prototype.createEmbeddedView=function(t,e,n){},t.prototype.createComponent=function(t,e,n,r,o){},t.prototype.insert=function(t,e){},t.prototype.move=function(t,e){},t.prototype.indexOf=function(t){},t.prototype.remove=function(t){},t.prototype.detach=function(t){},t}(),Ji=function(){function t(){}return t.prototype.markForCheck=function(){},t.prototype.detach=function(){},t.prototype.detectChanges=function(){},t.prototype.checkNoChanges=function(){},t.prototype.reattach=function(){},t}(),Xi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kr.a(e,t),e.prototype.destroy=function(){},e.prototype.destroyed=function(){},e.prototype.onDestroy=function(t){},e}(Ji),Yi=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Kr.a(e,t),e.prototype.context=function(){},e.prototype.rootNodes=function(){}}(Xi),function(){function t(t,e){this.name=t,this.callback=e}return t}()),Zi=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof $i?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return"Deprecated since v4"},enumerable:!0,configurable:!0}),t}(),$i=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=e,o}return Kr.a(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n=this,r=this.childNodes.indexOf(t);-1!==r&&((o=this.childNodes).splice.apply(o,[r+1,0].concat(e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=n}));var o},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return yt(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return vt(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(Zi),ts=new Map,es=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t}(),ns=(function(){function t(){this.hasWrappedValue=!1}t.prototype.unwrap=function(t){return t instanceof es?(this.hasWrappedValue=!0,t.wrapped):t},t.prototype.reset=function(){this.hasWrappedValue=!1}}(),function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}()),rs=function(){function t(){}return t.prototype.supports=function(t){return wt(t)},t.prototype.create=function(t,e){return new is(e||t)},t}(),os=function(t,e){return e},is=function(){function t(t){this._length=0,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||os}return Object.defineProperty(t.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,o=null;e||n;){var i=!n||e&&e.currentIndex<Ot(n,r,o)?e:n,s=Ot(i,r,o),a=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(e=e._next,null==i.previousIndex)r++;else{o||(o=[]);var u=s-r,c=a-r;if(u!=c){for(var l=0;l<u;l++){var h=l<o.length?o[l]:o[l]=0,p=h+l;c<=p&&p<u&&(o[l]=h+1)}var f=i.previousIndex;o[f]=c-u}}s!==a&&t(i,s,a)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!wt(t))throw new Error("Error trying to diff '"+s(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,o,s=this._itHead,a=!1;if(Array.isArray(t)){this._length=t.length;for(var u=0;u<this._length;u++)r=t[u],o=this._trackByFn(u,r),null!==s&&i(s.trackById,o)?(a&&(s=this._verifyReinsertion(s,r,o,u)),i(s.item,r)||this._addIdentityChange(s,r)):(s=this._mismatch(s,r,o,u),a=!0),s=s._next}else n=0,Ct(t,function(t){o=e._trackByFn(n,t),null!==s&&i(s.trackById,o)?(a&&(s=e._verifyReinsertion(s,t,o,n)),i(s.item,t)||e._addIdentityChange(s,t)):(s=e._mismatch(s,t,o,n),a=!0),s=s._next,n++}),this._length=n;return this._truncate(s),this._collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),t=null===this._linkedRecords?null:this._linkedRecords.get(n,r),null!==t?(i(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null),null!==t?(i(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):t=this._addAfter(new ss(e,n),o,r)),t},t.prototype._verifyReinsertion=function(t,e,n,r){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),null===this._additionsTail?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new us),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(null===this._movesTail?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new us),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t},t.prototype.toString=function(){var t=[];this.forEachItem(function(e){return t.push(e)});var e=[];this.forEachPreviousItem(function(t){return e.push(t)});var n=[];this.forEachAddedItem(function(t){return n.push(t)});var r=[];this.forEachMovedItem(function(t){return r.push(t)});var o=[];this.forEachRemovedItem(function(t){return o.push(t)});var i=[];return this.forEachIdentityChange(function(t){return i.push(t)}),"collection: "+t.join(", ")+"\nprevious: "+e.join(", ")+"\nadditions: "+n.join(", ")+"\nmoves: "+r.join(", ")+"\nremovals: "+o.join(", ")+"\nidentityChanges: "+i.join(", ")+"\n"},t}(),ss=function(){function t(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return t.prototype.toString=function(){return this.previousIndex===this.currentIndex?s(this.item):s(this.item)+"["+s(this.previousIndex)+"->"+s(this.currentIndex)+"]"},t}(),as=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&i(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),us=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new as,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=t,r=this.map.get(n);return r?r.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t.prototype.toString=function(){return"_DuplicateMap("+s(this.map)+")"},t}(),cs=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||St(t)},t.prototype.create=function(t){return new ls},t}(),ls=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||St(t)))throw new Error("Error trying to diff '"+s(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var o=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}var i=new hs(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){i(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),hs=function(){function t(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}return t}(),ps=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();return e=e.concat(r),new t(e)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new To,new Co]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(null!=e)return e;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+Tt(t)+"'")},t}(),fs=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new To,new Co]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),ds=[new cs],ys=[new rs],vs=new ps(ys),ms=new fs(ds),gs=[{provide:ri,useValue:"unknown"},Di,{provide:ki,useExisting:Di},{provide:qo,useFactory:It,deps:[]},Oi,ii],bs=ut(null,"core",gs),_s=new Yr("LocaleId"),ws=(new Yr("Translations"),new Yr("TranslationsFormat"),{});ws.Error=0,ws.Warning=1,ws.Ignore=2,ws[ws.Error]="Error",ws[ws.Warning]="Warning",ws[ws.Ignore]="Ignore";var Es=function(){function t(t){}return t}();Es.decorators=[{type:go,args:[{providers:[Li,{provide:Mi,useExisting:Li},$o,si,ei,{provide:ps,useFactory:Nt},{provide:fs,useFactory:At},{provide:_s,useFactory:Pt,deps:[[new Eo(_s),new Co,new To]]}]}]}],Es.ctorParameters=function(){return[{type:Mi}]};var Cs={};Cs.NONE=0,Cs.HTML=1,Cs.STYLE=2,Cs.SCRIPT=3,Cs.URL=4,Cs.RESOURCE_URL=5,Cs[Cs.NONE]="NONE",Cs[Cs.HTML]="HTML",Cs[Cs.STYLE]="STYLE",Cs[Cs.SCRIPT]="SCRIPT",Cs[Cs.URL]="URL",Cs[Cs.RESOURCE_URL]="RESOURCE_URL";var Ss=function(){function t(){}return t.prototype.sanitize=function(t,e){},t}(),Os=(function(){function t(){}t.prototype.view=function(){},t.prototype.nodeIndex=function(){},t.prototype.injector=function(){},t.prototype.component=function(){},t.prototype.providerTokens=function(){},t.prototype.references=function(){},t.prototype.context=function(){},t.prototype.componentRenderElement=function(){},t.prototype.renderNode=function(){},t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]}}(),{setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,clearProviderOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0}),Ts=function(){},Is=new Map,Ns="$$undefined",As="$$empty",Ps=0,Rs=new WeakMap,xs=/^:([^:]+):(.+)$/,ks=new Object,Ds=qt(Ro),Ms=qt(mi),Ls=new Object,js=function(t){function e(e,n,r,o,i,s){var a=t.call(this)||this;return a.selector=e,a.componentType=n,a._inputs=o,a._outputs=i,a.ngContentSelectors=s,a.viewDefFactory=r,a}return Kr.a(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e){var r=e[n];t.push({propName:n,templateName:r})}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs){var n=this._outputs[e];t.push({propName:e,templateName:n})}return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var o=ae(this.viewDefFactory),i=o.nodes[0].element.componentProvider.nodeIndex,s=Os.createRootView(t,e||[],n,o,r,Ls),a=kt(s,i).instance;return n&&s.renderer.setAttribute(xt(s,0).renderElement,"ng-version",wo.full),new Fs(s,new Us(s),a)},e}(ci),Fs=function(t){function e(e,n,r){var o=t.call(this)||this;return o._view=e,o._viewRef=n,o._component=r,o._elDef=o._view.def.nodes[0],o}return Kr.a(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new Bi(xt(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new qs(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instance",{get:function(){return this._component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostView",{get:function(){return this._viewRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeDetectorRef",{get:function(){return this._viewRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(ui),Vs=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new Bi(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new qs(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Zt(t),t=t.parent;return t?new qs(t,e):new qs(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length,e=t-1;e>=0;e--){var n=Be(this._data,e);Os.destroyView(n)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Us(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,o){var i=n||this.parentInjector;o||t instanceof vi||(o=i.get(mi));var s=t.create(i,r,void 0,o);return this.insert(s.hostView,e),s},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=t,r=n._view;return Fe(this._view,this._data,e,r),n.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n=this._embeddedViews.indexOf(t._view);return We(this._data,n,e),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=Be(this._data,t);e&&Os.destroyView(e)},t.prototype.detach=function(t){var e=Be(this._data,t);return e?new Us(e):null},t}(),Us=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return ue(this._view)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){zt(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin(),Os.checkAndUpdateView(this._view),t.end&&t.end()},t.prototype.checkNoChanges=function(){Os.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Os.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Ke(this._view),Os.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}(),Bs=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Kr.a(e,t),e.prototype.createEmbeddedView=function(t){return new Us(Os.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new Bi(xt(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(Qi),qs=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){void 0===e&&(e=Ro.THROW_IF_NOT_FOUND);var n=!!this.elDef&&0!=(33554432&this.elDef.flags);return Os.resolveDep(this.view,this.elDef,n,{flags:0,token:t,tokenKey:qt(t)},e)},t}(),Ws=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=de(e),r=n[0],o=n[1],i=this.delegate.createElement(o,r);return t&&this.delegate.appendChild(t,i),i},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),o=0;o<e.length;o++)this.delegate.insertBefore(n,e[o],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=de(e),o=r[0],i=r[1];null!=n?this.delegate.setAttribute(t,i,n,o):this.delegate.removeAttribute(t,i,o)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}(),Hs=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,xe(this)}return t.prototype.get=function(t,e){return void 0===e&&(e=Ro.THROW_IF_NOT_FOUND),ke(this,{token:t,tokenKey:qt(t),flags:0},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(pi)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+s(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,je(this,131072),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),Ks=qt(ji),Gs=qt(Ui),Qs=qt(Bi),zs=qt(zi),Js=qt(Qi),Xs=qt(Ji),Ys=qt(Ro),Zs={},$s={};$s.CreateViewNodes=0,$s.CheckNoChanges=1,$s.CheckNoChangesProjectedViews=2,$s.CheckAndUpdate=3,$s.CheckAndUpdateProjectedViews=4,$s.Destroy=5,$s[$s.CreateViewNodes]="CreateViewNodes",$s[$s.CheckNoChanges]="CheckNoChanges",$s[$s.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",$s[$s.CheckAndUpdate]="CheckAndUpdate",$s[$s.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",$s[$s.Destroy]="Destroy";var ta=!1,ea=new Map,na={};na.create=0,na.detectChanges=1,na.checkNoChanges=2,na.destroy=3,na.handleEvent=4,na[na.create]="create",na[na.detectChanges]="detectChanges",na[na.checkNoChanges]="checkNoChanges",na[na.destroy]="destroy",na[na.handleEvent]="handleEvent";var ra,oa,ia,sa=/([A-Z])/g,aa=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Zt(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return xt(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Ze(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Br(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Br(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=Ur(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?$t(this.view,this.nodeDef):$t(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,o;2&this.nodeDef.flags?(r=this.view.def,o=this.nodeDef.nodeIndex):(r=this.elView.def,o=this.elDef.nodeIndex);var i=Vr(r,o),s=-1,a=function(){return s++,s===i?(n=t.error).bind.apply(n,[t].concat(e)):Ts;var n};r.factory(a),s<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,e))},t}(),ua=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new ca(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),ca=function(){function t(t){this.delegate=t}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroyNode=function(t){bt(mt(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=Wr();if(r){var o=new $i(n,null,r);o.name=t,gt(o)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=Wr();return n&&gt(new Zi(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=Wr();return n&&gt(new Zi(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=mt(t),r=mt(e);n&&r&&n instanceof $i&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=mt(t),o=mt(e),i=mt(n);r&&o&&r instanceof $i&&r.insertBefore(i,o),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=mt(t),r=mt(e);n&&r&&n instanceof $i&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=Wr();return n&&gt(new $i(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var o=mt(t);if(o&&o instanceof $i){var i=r?r+":"+e:e;o.attributes[i]=n}this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=mt(t);if(r&&r instanceof $i){var o=n?n+":"+e:e;r.attributes[o]=null}this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=mt(t);n&&n instanceof $i&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=mt(t);n&&n instanceof $i&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var o=mt(t);o&&o instanceof $i&&(o.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=mt(t);r&&r instanceof $i&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=mt(t);r&&r instanceof $i&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=mt(t);r&&r.listeners.push(new Yi(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}(),la=function(t){function e(e,n,r){var o=t.call(this)||this;return o.moduleType=e,o._bootstrapComponents=n,o._ngModuleDefFactory=r,o}return Kr.a(e,t),e.prototype.create=function(t){lr();var e=ae(this._ngModuleDefFactory);return Os.createNgModuleRef(this.moduleType,t||Ro.NULL,this._bootstrapComponents,e)},e}(gi)}).call(e,n("fRUx"))},"/ygB":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.forEach=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},e.extend=function(t,n){return e.forEach(n,function(e,n){t[e]=n}),t},e.clone=function(t){return e.extend({},t)},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.map=function(t,e,n){var r={};for(var o in t)r[o]=e.call(n,t[o],o,t);return r},e.findKey=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},e.findValue=function(t,n,r){var o=e.findKey(t,n,r);return o&&t[o]},e.getAnyKey=function(t){for(var e in t)return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0}},"/zHi":function(t,e,n){"use strict";var r=n("bKpL"),o=n("+zVg");r.Observable.of=o.of},"04zk":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n("JEJ4"),i=n("F1yO"),s=n("3FiG"),a=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,o.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),s.validatePriorityNode(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return r},set:function(t){r=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(o.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+s.priorityHashText(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?i.doubleToIEEE754String(this.value_):this.value_,this.lazyHash_=i.sha1(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(o.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return o.assert(i>=0,"Unknown leaf type: "+n),o.assert(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();e.LeafNode=a},"0I3B":function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(o.apply(void 0,[this].concat(t)))}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),new s.ArrayObservable(t).lift(new p(n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n("wZOE"),a=n("NSJx"),u=n("T14+"),c=n("yW9Z"),l=n("ktfo"),h=n("2B7B");e.zipProto=r,e.zipStatic=o;var p=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project))},t}();e.ZipOperator=p;var f=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null)),t.call(this,e),this.iterators=[],this.active=0,this.project="function"==typeof n?n:null,this.values=r}return i(e,t),e.prototype._next=function(t){var e=this.iterators;a.isArray(t)?e.push(new y(t)):"function"==typeof t[h.iterator]?e.push(new d(t[h.iterator]())):e.push(new v(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0===e)return void this.destination.complete();this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.add(r.subscribe(r,n)):this.active--}},e.prototype.notifyInactive=function(){0===--this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){var o=t[r];if("function"==typeof o.hasValue&&!o.hasValue())return}for(var i=!1,s=[],r=0;r<e;r++){var o=t[r],a=o.next();if(o.hasCompleted()&&(i=!0),a.done)return void n.complete();s.push(a.value)}this.project?this._tryProject(s):n.next(s),i&&n.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(u.Subscriber);e.ZipSubscriber=f;var d=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),y=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[h.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),v=function(t){function e(e,n,r){t.call(this,e),this.parent=n,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return i(e,t),e.prototype[h.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return l.subscribeToResult(this,this.observable,this,e)},e}(c.OuterSubscriber)},"0L2s":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(){var e=t.call(this,"Timeout has occurred");this.name=e.name="TimeoutError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.TimeoutError=o},"0hmO":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("JEJ4"),i=n("YY8E"),s=n("JEJ4"),a=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||s.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return r(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return o.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(i.EventEmitter);e.OnlineMonitor=a},"0imh":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("rlar"),i=n("yR50"),s=n("xFbG"),a=n("AHF9"),u=n("Lhvy"),c=n("g0Kb"),l=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=r,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=n<1?1:n}return r(e,t),e.prototype.next=function(e){var n=this._getNow();this._events.push(new h(n,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._trimBufferThenGetEvents(),r=this.scheduler;if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError?e=s.Subscription.EMPTY:this.isStopped?e=s.Subscription.EMPTY:(this.observers.push(t),e=new c.SubjectSubscription(this,t)),r&&t.add(t=new a.ObserveOnSubscriber(t,r));for(var o=n.length,i=0;i<o&&!t.closed;i++)t.next(n[i].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||i.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(t-r[i].time<n);)i++;return o>e&&(i=Math.max(i,o-e)),i>0&&r.splice(0,i),r},e}(o.Subject);e.ReplaySubject=l;var h=function(){function t(t,e){this.time=t,this.value=e}return t}()},"0nG5":function(t,e,n){"use strict";function r(t){var e="function"==typeof t?function(e,n){return t(e,n)<0?e:n}:function(t,e){return t<e?t:e};return this.lift(new o.ReduceOperator(e))}var o=n("Tq0x");e.min=r},"0npo":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("W4Cj"),o=n("KH1l"),i=n("R3TC"),s=n("y8hQ"),a=n("bN85"),u=n("9kU/"),c=n("JEJ4"),l=n("gOHv"),h=n("ertD"),p=n("/fob"),f=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),c=new r.IndexedFilter(n.getIndex()),l=n.getNodeFilter();this.processor_=new o.ViewProcessor(l);var h=e.getServerCache(),p=e.getEventCache(),f=c.updateFullNode(i.ChildrenNode.EMPTY_NODE,h.getNode(),null),d=l.updateFullNode(i.ChildrenNode.EMPTY_NODE,p.getNode(),null),y=new s.CacheNode(f,h.isFullyInitialized(),c.filtersNodes()),v=new s.CacheNode(d,p.isFullyInitialized(),l.filtersNodes());this.viewCache_=new a.ViewCache(v,y),this.eventGenerator_=new u.EventGenerator(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){c.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){e=e;var o=t.createCancelEvent(e,r);o&&n.push(o)})}if(t){for(var o=[],i=0;i<this.eventRegistrations_.length;++i){var s=this.eventRegistrations_[i];if(s.matches(t)){if(t.hasAnyCallback()){o=o.concat(this.eventRegistrations_.slice(i+1));break}}else o.push(s)}this.eventRegistrations_=o}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===l.OperationType.MERGE&&null!==t.source.queryId&&(c.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),c.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,o=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(o.viewCache),c.assert(o.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=o.viewCache,this.generateEventsForChanges_(o.changes,o.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];if(!e.getNode().isLeafNode()){e.getNode().forEachChild(p.PRIORITY_INDEX,function(t,e){n.push(h.Change.childAddedChange(t,e))})}return e.isFullyInitialized()&&n.push(h.Change.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}();e.View=f},"13je":function(t,e,n){"use strict";function r(t,e){try{return e?i.initializeApp(t,e):i.initializeApp(t)}catch(t){return"app/duplicate-app"===t.code?i.app(t.name):i.app(null)}}var o=n("/oeL"),i=n("kUdC"),s=new o.v("FirebaseAppConfigToken"),a=function(){function t(){}return t}(),u=n("yR50"),c=new o.v("FirebaseAppName"),l={provide:a,useFactory:r,deps:[s,c]},h=function(){function t(){}return t.initializeApp=function(e,n){return{ngModule:t,providers:[{provide:s,useValue:e},{provide:c,useValue:n}]}},t.decorators=[{type:o.B,args:[{providers:[l]}]}],t.ctorParameters=function(){return[]},t}(),p=function(){function t(t){this.zone=t}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.run(function(){return u.queue.schedule.apply(u.queue,t)})},t}();n.d(e,!1,function(){return l}),n.d(e,"a",function(){return h}),n.d(e,"e",function(){return p}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return s}),n.d(e,"f",function(){return r})},"1VPd":function(t,e,n){"use strict";var r=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();e.Scheduler=r},"1WNV":function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){y&&f&&(y=!1,f.length?d=f.concat(d):v=-1,d.length&&a())}function a(){if(!y){var t=o(s);y=!0;for(var e=d.length;e;){for(f=d,d=[];++v<e;)f&&f[v].run();v=-1,e=d.length}f=null,y=!1,i(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,h,p=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var f,d=[],y=!1,v=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||y||o(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},"1eQ7":function(t,e,n){"use strict";function r(t,e,n){return this.lift(new a(t,e,n,this))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("TpsG");e.first=r;var a=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,n,r,o,i){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=o,this.source=i,this.index=0,this.hasCompleted=!1,this._emitted=!1}return o(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){if(this.resultSelector)return void this._tryResultSelector(t,e);this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new s.EmptyError):(t.next(this.defaultValue),t.complete())},e}(i.Subscriber)},"1kAr":function(t,e,n){"use strict";function r(t){return this.lift(new s(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.mapTo=r;var s=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.value))},t}(),a=function(t){function e(e,n){t.call(this,e),this.value=n}return o(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(i.Subscriber)},"1pbG":function(t,e,n){"use strict";var r=n("bKpL"),o=n("NkQZ");r.Observable.prototype.switchMapTo=o.switchMapTo},"1zSO":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),r.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:r.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}();e.DOMStorageWrapper=o},"23I1":function(t,e,n){"use strict";var r=n("MzWM");e.defer=r.DeferObservable.create},"2B7B":function(t,e,n){"use strict";function r(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var o=Object.getOwnPropertyNames(r.prototype),i=0;i<o.length;++i){var s=o[i];if("entries"!==s&&"size"!==s&&r.prototype[s]===r.prototype.entries)return s}return"@@iterator"}var o=n("zijX");e.symbolIteratorPonyfill=r,e.iterator=r(o.root),e.$$iterator=e.iterator},"2BLv":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("isNy"),o=n("isNy"),i=Math.log(2),s=function(){function t(t){this.count=function(t){return parseInt(Math.log(t)/i,10)}(t+1),this.current_=this.count-1;var e=function(t){return parseInt(Array(t+1).join("1"),2)}(this.count);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}();e.buildChildSet=function(t,e,n,i){t.sort(e);var a=function(e,o){var i,s,u=o-e;if(0==u)return null;if(1==u)return i=t[e],s=n?n(i):i,new r.LLRBNode(s,i.node,r.LLRBNode.BLACK,null,null);var c=parseInt(u/2,10)+e,l=a(e,c),h=a(c+1,o);return i=t[c],s=n?n(i):i,new r.LLRBNode(s,i.node,r.LLRBNode.BLACK,l,h)},u=new s(t.length),c=function(e){for(var o=null,i=null,s=t.length,u=function(e,o){var i=s-e,u=s;s-=e;var l=a(i+1,u),h=t[i],p=n?n(h):h;c(new r.LLRBNode(p,h.node,o,null,l))},c=function(t){o?(o.left=t,o=t):(i=t,o=t)},l=0;l<e.count;++l){var h=e.nextBitIsOne(),p=Math.pow(2,e.count-(l+1));h?u(p,r.LLRBNode.BLACK):(u(p,r.LLRBNode.BLACK),u(p,r.LLRBNode.RED))}return i}(u);return new o.SortedMap(i||e,c)}},"2LMR":function(t,e,n){"use strict";function r(t){return new u(t)}var o=(n("Rv9P"),n("/oeL")),i=n("bKpL"),s=n("AHF9"),a=n("13je"),u=(n("Pic8"),n("/zHi"),n("7u+W"),function(){function t(t){var e=this;this.app=t,this.auth=t.auth();var n=new i.Observable(function(t){return{unsubscribe:e.auth.onAuthStateChanged(t)}});this.authState=s.observeOn.call(n,new a.e(Zone.current));var r=new i.Observable(function(t){return{unsubscribe:e.auth.onIdTokenChanged(t)}}).switchMap(function(t){return t?i.Observable.fromPromise(t.getIdToken()):i.Observable.of(null)});this.idToken=s.observeOn.call(r,new a.e(Zone.current))}return t.decorators=[{type:o.u}],t.ctorParameters=function(){return[{type:a.b}]},t}()),c={provide:u,useFactory:r,deps:[a.b]},l=[c],h=function(){function t(){}return t.decorators=[{type:o.B,args:[{imports:[a.a],providers:[l]}]}],t.ctorParameters=function(){return[]},t}();n.d(e,"a",function(){return u}),n.d(e,"c",function(){return r}),n.d(e,!1,function(){return c}),n.d(e,!1,function(){return l}),n.d(e,"b",function(){return h})},"2Rhf":function(t,e,n){"use strict";function r(t){return this.lift(new a(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),s=n("ktfo");e.skipUntil=r;var a=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.notifier))},t}(),u=function(t){function e(e,n){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(s.subscribeToResult(this,n))}return o(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,o){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)},e}(i.OuterSubscriber)},"2UX5":function(t,e,n){"use strict";function r(t,e){void 0===e&&(e=i.async);var n=s.isDate(t),r=n?+t-e.now():Math.abs(t);return this.lift(new c(r,n,e,new u.TimeoutError))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("IhB/"),s=n("6jp4"),a=n("T14+"),u=n("0L2s");e.timeout=r;var c=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.scheduler=n,this.errorInstance=r}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},t}(),l=function(t){function e(e,n,r,o,i){t.call(this,e),this.absoluteTimeout=n,this.waitFor=r,this.scheduler=o,this.errorInstance=i,this.action=null,this.scheduleTimeout()}return o(e,t),e.dispatchTimeout=function(t){t.error(t.errorInstance)},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},e}(a.Subscriber)},"2kNe":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("dVae"),o=n("fvGz"),i=n("JEJ4"),s=n("p+VM"),a=n("/fob"),u=n("JEJ4"),c=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new r.ImmutableTree(n));var i=this.writeTree_.findRootMostValueAndPath(e);if(null!=i){var s=i.path,a=i.value,u=o.Path.relativePath(s,e);return a=a.updateChild(u,n),new t(this.writeTree_.set(s,a))}var c=new r.ImmutableTree(n);return new t(this.writeTree_.setTree(e,c))},t.prototype.addWrites=function(t,e){var n=this;return i.forEach(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,r.ImmutableTree.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(o.Path.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(a.PRIORITY_INDEX,function(e,n){t.push(new s.NamedNode(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new s.NamedNode(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new r.ImmutableTree(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(o.Path.Empty,this.writeTree_,e)},t.Empty=new t(new r.ImmutableTree(null)),t.applySubtreeWrite_=function(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var o=null;return n.children.inorderTraversal(function(n,i){".priority"===n?(u.assert(null!==i.value,"Priority writes must always be leaf nodes"),o=i.value):r=t.applySubtreeWrite_(e.child(n),i,r)}),r.getChild(e).isEmpty()||null===o||(r=r.updateChild(e.child(".priority"),o)),r},t}();e.CompoundWrite=c},"2mdx":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("EqqR");e.stringToByteArray=function(t){for(var e=[],n=0,o=0;o<t.length;o++){var i=t.charCodeAt(o);if(i>=55296&&i<=56319){var s=i-55296;o++,r.assert(o<t.length,"Surrogate pair missing trail surrogate.");i=65536+(s<<10)+(t.charCodeAt(o)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e}},"32XG":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.blockSize=-1}return t}();e.Hash=r},"3FiG":function(t,e,n){"use strict";function r(t){o=t}Object.defineProperty(e,"__esModule",{value:!0});var o,i=n("JEJ4"),s=n("F1yO"),a=n("JEJ4");e.setMaxNode=r,e.priorityHashText=function(t){return"number"==typeof t?"number:"+s.doubleToIEEE754String(t):"string:"+t},e.validatePriorityNode=function(t){if(t.isLeafNode()){var e=t.val();i.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&a.contains(e,".sv"),"Priority must be a string or number.")}else i.assert(t===o||t.isEmpty(),"priority of unexpected type.");i.assert(t===o||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")}},"3N4h":function(t,e,n){"use strict";function r(t){return this.lift(new u(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("rlar"),s=n("yW9Z"),a=n("ktfo");e.window=r;var u=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var n=new c(t),r=e.subscribe(n);return r.closed||n.add(a.subscribeToResult(n,this.windowBoundaries)),r},t}(),c=function(t){function e(e){t.call(this,e),this.window=new i.Subject,e.next(this.window)}return o(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,n=this.window=new i.Subject;e.next(n)},e}(s.OuterSubscriber)},"3lsR":function(t,e,n){"use strict";var r=n("bKpL"),o=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=o},"422b":function(t,e,n){"use strict";function r(t,e){return this.lift(new s(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.filter=r;var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.thisArg=r,this.count=0}return o(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.Subscriber)},"43Go":function(t,e,n){"use strict";function r(t,e){if(void 0===e&&(e=null),null===t)return o.ChildrenNode.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),u.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t){var n=t;return new i.LeafNode(n,r(e))}if(t instanceof Array||!f){var d=o.ChildrenNode.EMPTY_NODE,y=t;return a.forEach(y,function(t,e){if(a.contains(y,t)&&"."!==t.substring(0,1)){var n=r(e);!n.isLeafNode()&&n.isEmpty()||(d=d.updateImmediateChild(t,n))}}),d.updatePriority(r(e))}var v=[],m=!1,g=t;if(a.forEach(g,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=r(g[t]);n.isEmpty()||(m=m||!n.getPriority().isEmpty(),v.push(new s.NamedNode(t,n)))}}),0==v.length)return o.ChildrenNode.EMPTY_NODE;var b=c.buildChildSet(v,l.NAME_ONLY_COMPARATOR,function(t){return t.name},l.NAME_COMPARATOR);if(m){var _=c.buildChildSet(v,p.PRIORITY_INDEX.getCompare());return new o.ChildrenNode(b,r(e),new h.IndexMap({".priority":_},{".priority":p.PRIORITY_INDEX}))}return new o.ChildrenNode(b,r(e),h.IndexMap.Default)}Object.defineProperty(e,"__esModule",{value:!0});var o=n("R3TC"),i=n("04zk"),s=n("p+VM"),a=n("JEJ4"),u=n("JEJ4"),c=n("2BLv"),l=n("zFzr"),h=n("b5Wm"),p=n("/fob"),f=!0;e.nodeFromJSON=r,p.setNodeFromJSON(r)},"4JlW":function(t,e,n){"use strict";var r=n("bKpL"),o=n("QgC4");r.Observable.webSocket=o.webSocket},"56vs":function(t,e,n){"use strict";function r(t){return this.lift(new s(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.skipWhile=r;var s=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate))},t}(),a=function(t){function e(e,n){t.call(this,e),this.predicate=n,this.skipping=!0,this.index=0}return o(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(i.Subscriber)},"5p6H":function(t,e,n){"use strict";var r=n("bKpL"),o=n("TIdC");r.Observable.prototype.mergeAll=o.mergeAll},"5pXs":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("oyal"),i=n("EAgh"),s=n("F1yO"),a=n("sZ8A"),u=n("rB9K"),c=n("pHuv"),l=n("fvGz"),h=n("miEe"),p=n("xfHL"),f=n("JEJ4"),d=n("JEJ4"),y=n("uCc5"),v=function(t){function e(e,n){if(!(e instanceof c.Repo))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,h.QueryParams.DEFAULT,!1)||this}return r(e,t),e.prototype.getKey=function(){return f.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return f.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof l.Path||(null===this.path.getFront()?p.validateRootPathString("Reference.child",1,t,!1):p.validatePathString("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){f.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){f.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){f.validateArgCount("Reference.set",1,2,arguments.length),p.validateWritablePath("Reference.set",this.path),p.validateFirebaseDataArg("Reference.set",1,t,this.path,!1),f.validateCallback("Reference.set",2,e,!0);var n=new d.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(f.validateArgCount("Reference.update",1,2,arguments.length),p.validateWritablePath("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,s.warn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}p.validateFirebaseMergeDataArg("Reference.update",1,t,this.path,!1),f.validateCallback("Reference.update",2,e,!0);var o=new d.Deferred;return this.repo.update(this.path,t,o.wrapCallback(e)),o.promise},e.prototype.setWithPriority=function(t,e,n){if(f.validateArgCount("Reference.setWithPriority",2,3,arguments.length),p.validateWritablePath("Reference.setWithPriority",this.path),p.validateFirebaseDataArg("Reference.setWithPriority",1,t,this.path,!1),p.validatePriority("Reference.setWithPriority",2,e,!1),f.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new d.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return f.validateArgCount("Reference.remove",0,1,arguments.length),p.validateWritablePath("Reference.remove",this.path),f.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(f.validateArgCount("Reference.transaction",1,3,arguments.length),p.validateWritablePath("Reference.transaction",this.path),f.validateCallback("Reference.transaction",1,t,!1),f.validateCallback("Reference.transaction",2,e,!0),p.validateBoolean("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new d.Deferred;"function"==typeof e&&r.promise.catch(function(){});var o=function(t,n,o){t?r.reject(t):r.resolve(new i.TransactionResult(n,o)),"function"==typeof e&&e(t,n,o)};return this.repo.startTransaction(this.path,t,o,n),r.promise},e.prototype.setPriority=function(t,e){f.validateArgCount("Reference.setPriority",1,2,arguments.length),p.validateWritablePath("Reference.setPriority",this.path),p.validatePriority("Reference.setPriority",1,t,!1),f.validateCallback("Reference.setPriority",2,e,!0);var n=new d.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){f.validateArgCount("Reference.push",0,2,arguments.length),p.validateWritablePath("Reference.push",this.path),p.validateFirebaseDataArg("Reference.push",1,t,this.path,!0),f.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),o=a.nextPushId(r),i=this.child(o),s=this.child(o);return n=null!=t?i.set(t,e).then(function(){return s}):Promise.resolve(s),i.then=n.then.bind(n),i.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),i},e.prototype.onDisconnect=function(){return p.validateWritablePath("Reference.onDisconnect",this.path),new o.OnDisconnect(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(u.Query);e.Reference=v,u.Query.__referenceConstructor=v,y.SyncPoint.__referenceConstructor=v},"5uCp":function(t,e,n){"use strict";var r=n("bKpL"),o=n("Lqs2");r.Observable.prototype.take=o.take},"5v8a":function(t,e,n){"use strict";var r=n("bKpL"),o=n("lx+J");r.Observable.prototype.map=o.map},"60yU":function(t,e,n){"use strict";function r(t){return this.lift(new l(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("rlar"),s=n("RdI5"),a=n("XRvs"),u=n("yW9Z"),c=n("ktfo");e.repeatWhen=r;var l=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.notifier,e))},t}(),h=function(t){function e(e,n,r){t.call(this,e),this.notifier=n,this.source=r,this.sourceIsBeingSubscribedTo=!0}return o(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries){if(this.retriesSubscription.closed)return t.prototype.complete.call(this)}else this.subscribeToRetries();this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this,e=t.notifications,n=t.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),n&&(n.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this,n=e.notifications,r=e.retries,o=e.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,t.prototype._unsubscribeAndRecycle.call(this),this.notifications=n,this.retries=r,this.retriesSubscription=o,this},e.prototype.subscribeToRetries=function(){this.notifications=new i.Subject;var e=s.tryCatch(this.notifier)(this.notifications);if(e===a.errorObject)return t.prototype.complete.call(this);this.retries=e,this.retriesSubscription=c.subscribeToResult(this,e)},e}(u.OuterSubscriber)},"67Ck":function(t,e,n){"use strict";var r=n("bKpL"),o=n("56vs");r.Observable.prototype.skipWhile=o.skipWhile},"6DBm":function(t,e,n){"use strict";var r=n("bKpL"),o=n("+c7d");r.Observable.prototype.combineLatest=o.combineLatest},"6JjX":function(t,e,n){"use strict";function r(){return this.lift(new a)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),s=n("ktfo");e._switch=r;var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e),this.active=0,this.hasCompleted=!1}return o(e,t),e.prototype._next=function(t){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=s.subscribeToResult(this,t))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()},e.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var t=this.innerSubscription;t&&(t.unsubscribe(),this.remove(t))},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(i.OuterSubscriber)},"6NKQ":function(t,e,n){"use strict";var r=n("bKpL"),o=n("kkQ5");r.Observable.prototype.scan=o.scan},"6P86":function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null,r=null;return o.isScheduler(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&i.isArray(t[0])&&(t=t[0]),new s.ArrayObservable(t,r).lift(new a.CombineLatestOperator(n))}var o=n("MicL"),i=n("NSJx"),s=n("wZOE"),a=n("+c7d");e.combineLatest=r},"6Xbx":function(t,e,n){"use strict";function r(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}e.a=r;var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};Object.assign},"6jp4":function(t,e,n){"use strict";function r(t){return t instanceof Date&&!isNaN(+t)}e.isDate=r},"6nek":function(t,e,n){"use strict";var r=n("q+5A");e.interval=r.IntervalObservable.create},"6oqh":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("JEJ4"),i=n("F1yO"),s=n("JEJ4"),a=n("JEJ4"),u=n("JEJ4"),c=n("zzcx"),l=function(t){function e(e,n,r){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.log_=i.logWrapper("p:rest:"),o.listens_={},o}return r(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(o.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,o){var i=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,function(t,e){var n=e;if(404===t&&(n=null,t=null),null===t&&i.onDataUpdate_(s,n,!1,r),a.safeGet(i.listens_,u)===c){var l;l=t?401==t?"permission_denied":"rest_error:"+t:"ok",o(l,null)}})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(o){var a=o&&o.accessToken;a&&(e.auth=a);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?"+u.querystring(e);r.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var t=null;if(l.status>=200&&l.status<300){try{t=s.jsonEval(l.responseText)}catch(t){i.warn("Failed to parse JSON response for "+c+": "+l.responseText)}n(null,t)}else 401!==l.status&&404!==l.status&&i.warn("Got unsuccessful REST response for "+c+" Status: "+l.status),n(l.status);n=null}},l.open("GET",c,!0),l.send()})},e}(c.ServerActions);e.ReadonlyRestClient=l},"7JOC":function(t,e,n){"use strict";var r=n("OWbQ");e.from=r.FromObservable.create},"7Obz":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("I2Y9"),i=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<o&&(t=n.shift()));if(this.active=!1,e){for(;++r<o&&(t=n.shift());)t.unsubscribe();throw e}},e}(o.AsyncScheduler);e.AnimationFrameScheduler=i},"7PW3":function(t,e,n){"use strict";var r=n("T5Q1");e.using=r.UsingObservable.create},"7dLC":function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&s.isArray(t[0])&&(t=t[0]),this.lift.call(o.apply(void 0,[this].concat(t)))}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(1===t.length){if(!s.isArray(t[0]))return t[0];t=t[0]}return new a.ArrayObservable(t).lift(new l)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n("NSJx"),a=n("wZOE"),u=n("yW9Z"),c=n("ktfo");e.race=r,e.raceStatic=o;var l=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new h(t))},t}();e.RaceOperator=l;var h=function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return i(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],o=c.subscribeToResult(this,r,r,n);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,o){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==n){var s=this.subscriptions[i];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(u.OuterSubscriber);e.RaceSubscriber=h},"7kbP":function(t,e,n){"use strict";var r=n("Kt+M");e.concat=r.concatStatic},"7qHF":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mZoP"),o=n("xhf5"),i=n("+VeI"),s=n("j0qB");e.DataConnection=o.PersistentConnection,o.PersistentConnection.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},o.PersistentConnection.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},e.RealTimeConnection=s.Connection,e.hijackHash=function(t){var e=o.PersistentConnection.prototype.put;return o.PersistentConnection.prototype.put=function(n,r,o,i){void 0!==i&&(i=t()),e.call(this,n,r,o,i)},function(){o.PersistentConnection.prototype.put=e}},e.ConnectionTarget=r.RepoInfo,e.queryIdentifier=function(t){return t.queryIdentifier()},e.listens=function(t){return t.repo.persistentConnection_.listens_},e.forceRestClient=function(t){i.RepoManager.getInstance().forceRestClient(t)}},"7rqg":function(t,e,n){"use strict";var r=n("bKpL"),o=n("TQn8");r.Observable.prototype.concatMap=o.concatMap},"7u+W":function(t,e,n){"use strict";var r=n("bKpL"),o=n("QU9E");r.Observable.fromPromise=o.fromPromise},"82j9":function(t,e,n){"use strict";var r=n("bKpL"),o=n("nskO");r.Observable.prototype.toPromise=o.toPromise},"86mp":function(t,e,n){"use strict";var r=n("bKpL"),o=n("s6AU");r.Observable.prototype.takeWhile=o.takeWhile},"89am":function(t,e,n){"use strict";var r=n("bKpL"),o=n("vokw");r.Observable.prototype.expand=o.expand},"8Ben":function(t,e,n){"use strict";function r(t){return t(this)}e.letProto=r},"8Jh8":function(t,e,n){"use strict";function r(t){return this.lift(new a(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),s=n("ktfo");e.takeUntil=r;var a=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.notifier))},t}(),u=function(t){function e(e,n){t.call(this,e),this.notifier=n,this.add(s.subscribeToResult(this,n))}return o(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.complete()},e.prototype.notifyComplete=function(){},e}(i.OuterSubscriber)},"8UuO":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO"),o=n("PKQO"),i=n("fvGz"),s=n("5pXs"),a=n("pHuv"),u=n("+VeI"),c=n("JEJ4"),l=n("xfHL"),h=function(){function t(t){this.repo_=t,t instanceof a.Repo||r.fatal("Don't call new Database() directly - please use firebase.database()."),this.root_=new s.Reference(t,i.Path.Empty),this.INTERNAL=new p(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),c.validateArgCount("database.ref",0,1,arguments.length),void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),c.validateArgCount(e,1,1,arguments.length);var n=o.parseRepoInfo(t);l.validateUrl(e,1,n);var i=n.repoInfo;return i.host!==this.repo_.repoInfo_.host&&r.fatal(e+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&r.fatal("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){c.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){c.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}();e.Database=h;var p=function(){function t(t){this.database=t}return t.prototype.delete=function(){return this.database.checkDeleted_("delete"),u.RepoManager.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,Promise.resolve()},t}();e.DatabaseInternals=p},"8efI":function(t,e,n){"use strict";function r(t,e){return this.lift(new u(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),s=n("ktfo"),a=n("M11L");e.distinct=r;var u=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.keySelector,this.flushes))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.keySelector=n,this.values=new a.Set,r&&this.add(s.subscribeToResult(this,r))}return o(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(t){return void n.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))},e}(i.OuterSubscriber);e.DistinctSubscriber=c},"8pdA":function(t,e,n){"use strict";function r(t){var e=arguments.length,n=u.async;l.isScheduler(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return e>=3&&(o=arguments[2]),this.lift(new h(t,r,o,n))}function o(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function i(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,o=t.scheduler,i=r.openContext(),a=this;r.closed||(r.add(i.closeAction=o.schedule(s,n,{subscriber:r,context:i})),a.schedule(t,e))}function s(t){var e=t.subscriber,n=t.context;e.closeContext(n)}var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=n("IhB/"),c=n("T14+"),l=n("MicL");e.bufferTime=r;var h=function(){function t(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),p=function(){function t(){this.buffer=[]}return t}(),f=function(t){function e(e,n,r,a,u){t.call(this,e),this.bufferTimeSpan=n,this.bufferCreationInterval=r,this.maxBufferSize=a,this.scheduler=u,this.contexts=[];var c=this.openContext();if(this.timespanOnly=null==r||r<0,this.timespanOnly){var l={subscriber:this,context:c,bufferTimeSpan:n};this.add(c.closeAction=u.schedule(o,n,l))}else{var h={subscriber:this,context:c},p={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:this,scheduler:u};this.add(c.closeAction=u.schedule(s,n,h)),this.add(u.schedule(i,r,p))}}return a(e,t),e.prototype._next=function(t){for(var e,n=this.contexts,r=n.length,o=0;o<r;o++){var i=n[o],s=i.buffer;s.push(t),s.length==this.maxBufferSize&&(e=i)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this,n=e.contexts,r=e.destination;n.length>0;){var o=n.shift();r.next(o.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:t,bufferTimeSpan:n};this.add(t.closeAction=this.scheduler.schedule(o,n,r))}},e.prototype.openContext=function(){var t=new p;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(c.Subscriber)},"9ard":function(t,e,n){"use strict";(function(t){function r(t){f=t}Object.defineProperty(e,"__esModule",{value:!0});var o=n("XtH8"),i=n("JEJ4"),s=n("F1yO"),a=n("cm6g"),u=n("UcKF"),c=n("JEJ4"),l=n("Rgd9"),h=n("JEJ4"),p=n("JEJ4"),f=null;"undefined"!=typeof MozWebSocket?f=MozWebSocket:"undefined"!=typeof WebSocket&&(f=WebSocket),e.setWebSocketImpl=r;var d=function(){function e(t,n,r,o){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=s.logWrapper(this.connId),this.stats_=a.StatsManager.getCollection(n),this.connURL=e.connectionURL_(n,r,o)}return e.connectionURL_=function(t,e,n){var r={};return r[u.VERSION_PARAM]=u.PROTOCOL_VERSION,!p.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(u.FORGE_DOMAIN)&&(r[u.REFERER_PARAM]=u.FORGE_REF),e&&(r[u.TRANSPORT_SESSION_PARAM]=e),n&&(r[u.LAST_SESSION_PARAM]=n),t.connectionURL(u.WEBSOCKET,r)},e.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,l.PersistentStorage.set("previous_websocket_failure",!0);try{if(p.isNodeSdk()){var i=c.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",s={headers:{"User-Agent":"Firebase/"+u.PROTOCOL_VERSION+"/"+o.default.SDK_VERSION+"/"+t.platform+"/"+i}},a=t.env,h=0==this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;h&&(s.proxy={origin:h}),this.mySock=new f(this.connURL,[],s)}else this.mySock=new f(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var d=t.message||t.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&r.log_(e),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==f&&!e.forceDisallow_},e.previouslyFailed=function(){return l.PersistentStorage.isInMemoryStorage||!0===l.PersistentStorage.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){l.PersistentStorage.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=h.jsonEval(e);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(i.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(t){this.resetKeepAlive();var e=h.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=s.splitStringBySize(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();e.WebSocketConnection=d}).call(e,n("1WNV"))},"9jMf":function(t,e,n){"use strict";var r=n("bKpL"),o=n("Ohh6");r.Observable.prototype.startWith=o.startWith},"9kU/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("p+VM"),o=n("ertD"),i=n("JEJ4"),s=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],s=[];return t.forEach(function(t){t.type===o.Change.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push(o.Change.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(i,o.Change.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,o.Change.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,o.Change.CHILD_MOVED,s,n,e),this.generateEventsForType_(i,o.Change.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,o.Change.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,o){var i=this,s=n.filter(function(t){return t.type===e});s.sort(this.compareChanges_.bind(this)),s.forEach(function(e){var n=i.materializeSingleChange_(e,o);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,i.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw i.assertionError("Should only compare child_ events.");var n=new r.NamedNode(t.childName,t.snapshotNode),o=new r.NamedNode(e.childName,e.snapshotNode);return this.index_.compare(n,o)},t}();e.EventGenerator=s},"9lCb":function(t,e,n){"use strict";var r=n("bKpL"),o=n("GB+a");r.Observable.prototype.sequenceEqual=o.sequenceEqual},"9mSN":function(t,e,n){"use strict";var r=n("bKpL"),o=n("WAO4");r.Observable.prototype.timeoutWith=o.timeoutWith},"9mYp":function(t,e,n){"use strict";var r=n("Pf4u");e.onErrorResumeNext=r.onErrorResumeNextStatic},"9tb5":function(t,e,n){"use strict";function r(t,e){return this.lift(new a(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),s=n("ktfo");e.exhaustMap=r;var a=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.resultSelector=r,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return o(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,n=this.destination;try{var r=this.project(t,e);this.hasSubscription=!0,this.add(s.subscribeToResult(this,r,t,e))}catch(t){n.error(t)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){var i=this,s=i.resultSelector,a=i.destination;s?this.trySelectResult(t,e,n,r):a.next(e)},e.prototype.trySelectResult=function(t,e,n,r){var o=this,i=o.resultSelector,s=o.destination;try{var a=i(t,e,n,r);s.next(a)}catch(t){s.error(t)}},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber)},"9wNb":function(t,e,n){"use strict";var r=n("bKpL"),o=n("8efI");r.Observable.prototype.distinct=o.distinct},A1r7:function(t,e,n){"use strict";var r=n("bKpL"),o=n("buGu");r.Observable.prototype.defaultIfEmpty=o.defaultIfEmpty},A4jy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+r.stringify(this.snapshot.exportVal())},t}();e.DataEvent=o;var i=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();e.CancelEvent=i},ACG2:function(t,e,n){"use strict";var r=n("bKpL"),o=n("6nek");r.Observable.interval=o.interval},AHF9:function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=0),this.lift(new a(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("3lsR");e.observeOn=r;var a=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=a;var u=function(t){function e(e,n,r){void 0===r&&(r=0),t.call(this,e),this.scheduler=n,this.delay=r}return o(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new c(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(s.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(s.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete())},e}(i.Subscriber);e.ObserveOnSubscriber=u;var c=function(){function t(t,e){this.notification=t,this.destination=e}return t}();e.ObserveOnMessage=c},Af4u:function(t,e,n){"use strict";var r=n("bKpL"),o=n("YofN");r.Observable.race=o.race},AzAY:function(t,e,n){"use strict";function r(t,e,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY),i.multicast.call(this,new o.ReplaySubject(t,e,n))}var o=n("0imh"),i=n("gonN");e.publishReplay=r},"B/As":function(t,e,n){"use strict";var r=n("bKpL"),o=n("ltng");r.Observable.range=o.range},B2QA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=n("JEJ4"),i=n("fvGz"),s=n("2kNe"),a=n("/fob"),u=n("R3TC"),c=function(){function t(){this.visibleWrites_=s.CompoundWrite.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new l(t,this)},t.prototype.addOverwrite=function(t,e,n,r){o.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){o.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});o.assert(n>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[n];this.allWrites_.splice(n,1);for(var s=i.visible,a=!1,u=this.allWrites_.length-1;s&&u>=0;){var c=this.allWrites_[u];c.visible&&(u>=n&&this.recordContainsPath_(c,i.path)?s=!1:i.path.contains(c.path)&&(a=!0)),u--}if(s){if(a)return this.resetTree_(),!0;if(i.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(i.path);else{var l=i.children;r.forEach(l,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(i.path.child(t))})}return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,o){if(r||o){var s=this.visibleWrites_.childCompoundWrite(e);if(!o&&s.isEmpty())return n;if(o||null!=n||s.hasCompleteWrite(i.Path.Empty)){var a=function(t){return(t.visible||o)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},c=t.layerTree_(this.allWrites_,a,e),l=n||u.ChildrenNode.EMPTY_NODE;return c.apply(l)}return null}var h=this.visibleWrites_.getCompleteNode(e);if(null!=h)return h;var p=this.visibleWrites_.childCompoundWrite(e);if(p.isEmpty())return n;if(null!=n||p.hasCompleteWrite(i.Path.Empty)){var l=n||u.ChildrenNode.EMPTY_NODE;return p.apply(l)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=u.ChildrenNode.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(a.PRIORITY_INDEX,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var o=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(a.PRIORITY_INDEX,function(t,e){var r=o.childCompoundWrite(new i.Path(t)).apply(e);n=n.updateImmediateChild(t,r)}),o.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){o.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var s=this.visibleWrites_.childCompoundWrite(i);return s.isEmpty()?r.getChild(e):s.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),o=this.visibleWrites_.getCompleteNode(r);if(null!=o)return o;if(n.isCompleteForChild(e)){return this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e))}return null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,o,s){var a,u=this.visibleWrites_.childCompoundWrite(t),c=u.getCompleteNode(i.Path.Empty);if(null!=c)a=c;else{if(null==e)return[];a=u.apply(e)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];for(var l=[],h=s.getCompare(),p=o?a.getReverseIteratorFrom(n,s):a.getIteratorFrom(n,s),f=p.getNext();f&&l.length<r;)0!==h(f,n)&&l.push(f),f=p.getNext();return l},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!r.findKey(t.children,function(n,r){return t.path.child(r).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,i.Path.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var a=s.CompoundWrite.Empty,u=0;u<t.length;++u){var c=t[u];if(e(c)){var l=c.path,h=void 0;if(c.snap)n.contains(l)?(h=i.Path.relativePath(n,l),a=a.addWrite(h,c.snap)):l.contains(n)&&(h=i.Path.relativePath(l,n),a=a.addWrite(i.Path.Empty,c.snap.getChild(h)));else{if(!c.children)throw o.assertionError("WriteRecord should have .snap or .children");if(n.contains(l))h=i.Path.relativePath(n,l),a=a.addWrites(h,c.children);else if(l.contains(n))if(h=i.Path.relativePath(l,n),h.isEmpty())a=a.addWrites(i.Path.Empty,c.children);else{var p=r.safeGet(c.children,h.getFront());if(p){var f=p.getChild(h.popFront());a=a.addWrite(i.Path.Empty,f)}}}}}return a},t}();e.WriteTree=c;var l=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,o){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,o)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}();e.WriteTreeRef=l},BBvl:function(t,e,n){"use strict";var r=n("bKpL"),o=n("/9bB");r.Observable.prototype.materialize=o.materialize},BJqU:function(t,e,n){"use strict";function r(t,e,n){return void 0===e&&(e=a.async),void 0===n&&(n=u.defaultThrottleConfig),this.lift(new c(t,e,n.leading,n.trailing))}function o(t){t.subscriber.clearThrottle()}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n("T14+"),a=n("IhB/"),u=n("c2EU");e.throttleTime=r;var c=function(){function t(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),l=function(t){function e(e,n,r,o,i){t.call(this,e),this.duration=n,this.scheduler=r,this.leading=o,this.trailing=i,this._hasTrailingValue=!1,this._trailingValue=null}return i(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(o,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(s.Subscriber)},BbOI:function(t,e,n){"use strict";var r=n("f7+7");e.bindNodeCallback=r.BoundNodeCallbackObservable.create},BdLl:function(t,e,n){"use strict";var r=n("bKpL"),o=n("vioa");r.Observable.timer=o.timer},BkNc:function(t,e,n){"use strict";function r(t){return new qe(t)}function o(t){var e=Error("NavigationCancelingError: "+t);return e[We]=!0,e}function i(t){return t[We]}function s(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var o={},i=0;i<r.length;i++){var s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function a(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];u(r,c(e,r))}}function u(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==Be)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch){throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.")}if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&a(t.children,e)}function c(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function l(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!h(t[n],e[n]))return!1;return!0}function h(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var o,i=0;i<n.length;i++)if(o=n[i],t[o]!==e[o])return!1;return!0}function p(t){return Array.prototype.concat.apply([],t)}function f(t){return t.length>0?t[t.length-1]:null}function d(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function y(t,e){if(0===Object.keys(t).length)return Object(de.of)({});var n=[],r=[],o={};d(t,function(t,i){var s=be.map.call(e(i,t),function(t){return o[i]=t});i===Be?n.push(s):r.push(s)});var i=Se.concatAll.call(de.of.apply(void 0,n.concat(r))),s=ge.last.call(i);return be.map.call(s,function(){return o})}function v(t){var e=Ie.mergeAll.call(t);return ve.every.call(e,function(t){return!0===t})}function m(t){return Object(le._22)(t)?t:Object(le._23)(t)?Object(Te.fromPromise)(Promise.resolve(t)):Object(de.of)(t)}function g(){return new Ke(new Ge([],{}),{},null)}function b(t,e,n){return n?_(t.queryParams,e.queryParams)&&w(t.root,e.root):E(t.queryParams,e.queryParams)&&C(t.root,e.root)}function _(t,e){return h(t,e)}function w(t,e){if(!T(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!w(t.children[n],e.children[n]))return!1}return!0}function E(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}function C(t,e){return S(t,e,e.segments)}function S(t,e,n){if(t.segments.length>n.length){var r=t.segments.slice(0,n.length);return!!T(r,n)&&!e.hasChildren()}if(t.segments.length===n.length){if(!T(t.segments,n))return!1;for(var o in e.children){if(!t.children[o])return!1;if(!C(t.children[o],e.children[o]))return!1}return!0}var r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!T(t.segments,r)&&(!!t.children[Be]&&S(t.children[Be],e,i))}function O(t,e){return T(t,e)&&t.every(function(t,n){return h(t.parameters,e[n].parameters)})}function T(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function I(t,e){var n=[];return d(t.children,function(t,r){r===Be&&(n=n.concat(e(t,r)))}),d(t.children,function(t,r){r!==Be&&(n=n.concat(e(t,r)))}),n}function N(t){return t.segments.map(function(t){return x(t)}).join("/")}function A(t,e){if(!t.hasChildren())return N(t);if(e){var n=t.children[Be]?A(t.children[Be],!1):"",r=[];return d(t.children,function(t,e){e!==Be&&r.push(e+":"+A(t,!1))}),r.length>0?n+"("+r.join("//")+")":n}var o=I(t,function(e,n){return n===Be?[A(t.children[Be],!1)]:[n+":"+A(e,!1)]});return N(t)+"/("+o.join("//")+")"}function P(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}function R(t){return decodeURIComponent(t)}function x(t){return""+P(t.path)+k(t.parameters)}function k(t){return Object.keys(t).map(function(e){return";"+P(e)+"="+P(t[e])}).join("")}function D(t){var e=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return P(e)+"="+P(t)}).join("&"):P(e)+"="+P(n)});return e.length?"?"+e.join("&"):""}function M(t){var e=t.match(Ye);return e?e[0]:""}function L(t){var e=t.match(Ze);return e?e[0]:""}function j(t){var e=t.match($e);return e?e[0]:""}function F(t){return new Ee.Observable(function(e){return e.error(new en(t))})}function V(t){return new Ee.Observable(function(e){return e.error(new nn(t))})}function U(t){return new Ee.Observable(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}function B(t){return new Ee.Observable(function(e){return e.error(o("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}function q(t,e,n,r,o){return new rn(t,e,n,r,o).apply()}function W(t,e){var n=e.canLoad;return n&&0!==n.length?v(be.map.call(Object(fe.from)(n),function(n){var r=t.get(n);return m(r.canLoad?r.canLoad(e):r(e))})):Object(de.of)(!0)}function H(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=e.matcher||s,o=r(n,t,e);return o?{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,positionalParamSegments:o.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function K(t,e,n,r){if(n.length>0&&J(t,n,r)){var o=new Ge(e,z(r,new Ge(n,t.children)));return{segmentGroup:G(o),slicedSegments:[]}}if(0===n.length&&X(t,n,r)){var o=new Ge(t.segments,Q(t,n,r,t.children));return{segmentGroup:G(o),slicedSegments:n}}return{segmentGroup:t,slicedSegments:n}}function G(t){if(1===t.numberOfChildren&&t.children[Be]){var e=t.children[Be];return new Ge(t.segments.concat(e.segments),e.children)}return t}function Q(t,e,n,r){for(var o={},i=0,s=n;i<s.length;i++){var a=s[i];Y(t,e,a)&&!r[Z(a)]&&(o[Z(a)]=new Ge([],{}))}return Object.assign({},r,o)}function z(t,e){var n={};n[Be]=e;for(var r=0,o=t;r<o.length;r++){var i=o[r];""===i.path&&Z(i)!==Be&&(n[Z(i)]=new Ge([],{}))}return n}function J(t,e,n){return n.some(function(n){return Y(t,e,n)&&Z(n)!==Be})}function X(t,e,n){return n.some(function(n){return Y(t,e,n)})}function Y(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function Z(t){return t.outlet||Be}function $(t,e){if(t===e.value)return e;for(var n=0,r=e.children;n<r.length;n++){var o=r[n],i=$(t,o);if(i)return i}return null}function tt(t,e){if(t===e.value)return[e];for(var n=0,r=e.children;n<r.length;n++){var o=r[n],i=tt(t,o);if(i.length)return i.unshift(e),i}return[]}function et(t,e){var n=nt(t,e),r=new he.BehaviorSubject([new Qe("",{})]),o=new he.BehaviorSubject({}),i=new he.BehaviorSubject({}),s=new he.BehaviorSubject({}),a=new he.BehaviorSubject(""),u=new un(r,o,s,a,i,Be,e,n.root);return u.snapshot=n.root,new an(new sn(u,[]),n)}function nt(t,e){var n={},r={},o={},i=new cn([],n,o,"",r,Be,e,null,t.root,-1,{});return new ln("",new sn(i,[]))}function rt(t){for(var e=t.pathFromRoot,n=e.length-1;n>=1;){var r=e[n],o=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(o.component)break;n--}}return e.slice(n).reduce(function(t,e){return{params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}function ot(t,e){e.value._routerState=t,e.children.forEach(function(e){return ot(t,e)})}function it(t){var e=t.children.length>0?" { "+t.children.map(it).join(", ")+" } ":"";return""+t.value+e}function st(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,h(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),h(e.params,n.params)||t.params.next(n.params),l(e.url,n.url)||t.url.next(n.url),h(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function at(t,e){var n=h(t.params,e.params)&&O(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||at(t.parent,e.parent))}function ut(t,e,n){var r=ct(t,e._root,n?n._root:void 0);return new an(r,e)}function ct(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var o=ht(t,e,n);return new sn(r,o)}if(t.retrieve(e.value)){var i=t.retrieve(e.value).route;return lt(e,i),i}var r=pt(e.value),o=e.children.map(function(e){return ct(t,e)});return new sn(r,o)}function lt(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)lt(t.children[n],e.children[n])}function ht(t,e,n){return e.children.map(function(e){for(var r=0,o=n.children;r<o.length;r++){var i=o[r];if(t.shouldReuseRoute(i.value.snapshot,e.value))return ct(t,e,i)}return ct(t,e)})}function pt(t){return new un(new he.BehaviorSubject(t.url),new he.BehaviorSubject(t.params),new he.BehaviorSubject(t.queryParams),new he.BehaviorSubject(t.fragment),new he.BehaviorSubject(t.data),t.outlet,t.component,t)}function ft(t,e,n,r,o){if(0===n.length)return yt(e.root,e.root,e,r,o);var i=mt(n);if(i.toRoot())return yt(e.root,new Ge([],{}),e,r,o);var s=gt(i,e,t),a=s.processChildren?Ct(s.segmentGroup,s.index,i.commands):Et(s.segmentGroup,s.index,i.commands);return yt(s.segmentGroup,a,e,r,o)}function dt(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function yt(t,e,n,r,o){var i={};return r&&d(r,function(t,e){i[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),n.root===t?new Ke(e,i,o):new Ke(vt(n.root,t,e),i,o)}function vt(t,e,n){var r={};return d(t.children,function(t,o){r[o]=t===e?n:vt(t,e,n)}),new Ge(t.segments,r)}function mt(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new hn(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var i={};return d(r.outlets,function(t,e){i[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:i}])}if(r.segmentPath)return t.concat([r.segmentPath])}return"string"!=typeof r?t.concat([r]):0===o?(r.split("/").forEach(function(r,o){0==o&&"."===r||(0==o&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):t.concat([r])},[]);return new hn(n,e,r)}function gt(t,e,n){if(t.isAbsolute)return new pn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new pn(n.snapshot._urlSegment,!0,0);var r=dt(t.commands[0])?0:1,o=n.snapshot._lastPathIndex+r;return bt(n.snapshot._urlSegment,o,t.numberOfDoubleDots)}function bt(t,e,n){for(var r=t,o=e,i=n;i>o;){if(i-=o,!(r=r.parent))throw new Error("Invalid number of '../'");o=r.segments.length}return new pn(r,!1,o-i)}function _t(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Be]:""+t}function wt(t){return"object"!=typeof t[0]?(e={},e[Be]=t,e):void 0===t[0].outlets?(n={},n[Be]=t,n):t[0].outlets;var e,n}function Et(t,e,n){if(t||(t=new Ge([],{})),0===t.segments.length&&t.hasChildren())return Ct(t,e,n);var r=St(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var i=new Ge(t.segments.slice(0,r.pathIndex),{});return i.children[Be]=new Ge(t.segments.slice(r.pathIndex),t.children),Ct(i,0,o)}return r.match&&0===o.length?new Ge(t.segments,{}):r.match&&!t.hasChildren()?Ot(t,e,n):r.match?Ct(t,0,o):Ot(t,e,n)}function Ct(t,e,n){if(0===n.length)return new Ge(t.segments,{});var r=wt(n),o={};return d(r,function(n,r){null!==n&&(o[r]=Et(t.children[r],e,n))}),d(t.children,function(t,e){void 0===r[e]&&(o[e]=t)}),new Ge(t.segments,o)}function St(t,e,n){for(var r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};o<t.segments.length;){if(r>=n.length)return i;var s=t.segments[o],a=_t(n[r]),u=r<n.length-1?n[r+1]:null;if(o>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Nt(a,u,s))return i;r+=2}else{if(!Nt(a,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Ot(t,e,n){for(var r=t.segments.slice(0,e),o=0;o<n.length;){if("object"==typeof n[o]&&void 0!==n[o].outlets){var i=Tt(n[o].outlets);return new Ge(r,i)}if(0===o&&dt(n[0])){var s=t.segments[e];r.push(new Qe(s.path,n[0])),o++}else{var a=_t(n[o]),u=o<n.length-1?n[o+1]:null;a&&u&&dt(u)?(r.push(new Qe(a,It(u))),o+=2):(r.push(new Qe(a,{})),o++)}}return new Ge(r,{})}function Tt(t){var e={};return d(t,function(t,n){null!==t&&(e[n]=Ot(new Ge([],{}),0,t))}),e}function It(t){var e={};return d(t,function(t,n){return e[n]=""+t}),e}function Nt(t,e,n){return t==n.path&&h(e,n.parameters)}function At(t,e,n,r){return new dn(t,e,n,r).recognize()}function Pt(t){t.sort(function(t,e){return t.value.outlet===Be?-1:e.value.outlet===Be?1:t.value.outlet.localeCompare(e.value.outlet)})}function Rt(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}function xt(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new fn;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=e.matcher||s,o=r(n,t,e);if(!o)throw new fn;var i={};d(o.posParams,function(t,e){i[e]=t.path});var a=o.consumed.length>0?Object.assign({},i,o.consumed[o.consumed.length-1].parameters):i;return{consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:a}}function kt(t){var e={};t.forEach(function(t){var n=e[t.value.outlet];if(n){var r=n.url.map(function(t){return t.toString()}).join("/"),o=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+o+"'.")}e[t.value.outlet]=t.value})}function Dt(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Mt(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Lt(t,e,n,r){if(n.length>0&&Vt(t,n,r)){var o=new Ge(e,Ft(t,e,r,new Ge(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&Ut(t,n,r)){var i=new Ge(t.segments,jt(t,n,r,t.children));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}var s=new Ge(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function jt(t,e,n,r){for(var o={},i=0,s=n;i<s.length;i++){var a=s[i];if(Bt(t,e,a)&&!r[qt(a)]){var u=new Ge([],{});u._sourceSegment=t,u._segmentIndexShift=t.segments.length,o[qt(a)]=u}}return Object.assign({},r,o)}function Ft(t,e,n,r){var o={};o[Be]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(var i=0,s=n;i<s.length;i++){var a=s[i];if(""===a.path&&qt(a)!==Be){var u=new Ge([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,o[qt(a)]=u}}return o}function Vt(t,e,n){return n.some(function(n){return Bt(t,e,n)&&qt(n)!==Be})}function Ut(t,e,n){return n.some(function(n){return Bt(t,e,n)})}function Bt(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function qt(t){return t.outlet||Be}function Wt(t){return t.data||{}}function Ht(t){return t.resolve||{}}function Kt(t){throw t}function Gt(t){return Object(de.of)(null)}function Qt(t){st(t.value),t.children.forEach(Qt)}function zt(t){for(var e=t.parent;e;e=e.parent){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}function Jt(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}function Xt(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}function Yt(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}function Zt(t){return""===t||!!t}function $t(){return new le.F("Router",wn)}function te(t,e,n){return void 0===n&&(n={}),n.useHash?new ce.d(t,e):new ce.m(t,e)}function ee(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ne(t){return[{provide:le.a,multi:!0,useValue:t},{provide:mn,multi:!0,useValue:t}]}function re(t,e,n,r,o,i,s,a,u,c,l){void 0===u&&(u={});var h=new wn(null,e,n,r,o,i,s,p(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.enableTracing){var f=Object(Ne.t)();h.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return h}function oe(t){return t.routerState.root}function ie(t){return t.appInitializer.bind(t)}function se(t){return t.bootstrapListener.bind(t)}function ae(){return[qn,{provide:le.d,multi:!0,useFactory:ie,deps:[qn]},{provide:Wn,useFactory:se,deps:[qn]},{provide:le.b,multi:!0,useExisting:Wn}]}n.d(e,"l",function(){return Tn}),n.d(e,"m",function(){return In}),n.d(e,"o",function(){return Rn}),n.d(e,"j",function(){return yn}),n.d(e,"k",function(){return wn}),n.d(e,"i",function(){return mn}),n.d(e,"g",function(){return Fn}),n.d(e,"h",function(){return Wn}),n.d(e,"n",function(){return Bn}),n.d(e,"b",function(){return Pn}),n.d(e,"d",function(){return Mn}),n.d(e,"e",function(){return Dn}),n.d(e,"f",function(){return kn}),n.d(e,"p",function(){return Ln}),n.d(e,"a",function(){return un}),n.d(e,"q",function(){return bn}),n.d(e,"c",function(){return Je}),n.d(e,"r",function(){return ze}),n.d(e,"s",function(){return Vn}),n.d(e,"x",function(){return qn}),n.d(e,"y",function(){return ie}),n.d(e,"z",function(){return se}),n.d(e,"u",function(){return ee}),n.d(e,"w",function(){return oe}),n.d(e,"t",function(){return $t}),n.d(e,"v",function(){return re});var ue=n("6Xbx"),ce=n("qbdv"),le=n("/oeL"),he=n("gvep"),pe=(n.n(he),n("rlar")),fe=(n.n(pe),n("7JOC")),de=(n.n(fe),n("+zVg")),ye=(n.n(de),n("TQn8")),ve=(n.n(ye),n("THYR")),me=(n.n(ve),n("1eQ7")),ge=(n.n(me),n("WSkQ")),be=(n.n(ge),n("lx+J")),_e=(n.n(be),n("cPhF")),we=(n.n(_e),n("Tq0x")),Ee=(n.n(we),n("bKpL")),Ce=(n.n(Ee),n("ueUM")),Se=(n.n(Ce),n("I3ay")),Oe=(n.n(Se),n("TpsG")),Te=(n.n(Oe),n("QU9E")),Ie=(n.n(Te),n("TIdC")),Ne=(n.n(Ie),n("fc+i")),Ae=n("422b"),Pe=(n.n(Ae),function(){function t(t,e){this.id=t,this.url=e}return t.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},t}()),Re=function(){function t(t,e,n){this.id=t,this.url=e,this.urlAfterRedirects=n}return t.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},t}(),xe=function(){function t(t,e,n){this.id=t,this.url=e,this.reason=n}return t.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},t}(),ke=function(){function t(t,e,n){this.id=t,this.url=e,this.error=n}return t.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},t}(),De=function(){function t(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}return t.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),Me=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Le=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),je=function(){function t(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}return t.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),Fe=function(){function t(t,e,n,r,o){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o}return t.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},t}(),Ve=function(){function t(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}return t.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),Ue=function(){function t(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}return t.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),Be="primary",qe=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}(),We="ngNavigationCancelingError",He=function(){function t(t,e){this.routes=t,this.module=e}return t}(),Ke=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=r(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Xe.serialize(this)},t}(),Ge=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,d(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return N(this)},t}(),Qe=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=r(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return x(this)},t}(),ze=function(){function t(){}return t.prototype.parse=function(t){},t.prototype.serialize=function(t){},t}(),Je=function(){function t(){}return t.prototype.parse=function(t){var e=new tn(t);return new Ke(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){return"/"+A(t.root,!0)+D(t.queryParams)+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Xe=new Je,Ye=/^[^\/()?;=&#]+/,Ze=/^[^=?&#]+/,$e=/^[^?&#]+/,tn=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ge([],{}):new Ge([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURI(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Be]=new Ge(t,e)),n},t.prototype.parseSegment=function(){var t=M(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new Qe(R(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=M(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=M(this.remaining);r&&(n=r,this.capture(n))}t[R(e)]=R(n)}},t.prototype.parseQueryParam=function(t){var e=L(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=j(this.remaining);r&&(n=r,this.capture(n))}var o=R(e),i=R(n);if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=M(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var o=void 0;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Be);var i=this.parseChildren();e[o]=1===Object.keys(i).length?i[Be]:new Ge([],i),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),en=function(){function t(t){this.segmentGroup=t||null}return t}(),nn=function(){function t(t){this.urlTree=t}return t}(),rn=function(){function t(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(le.E)}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Be),n=be.map.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return Ce._catch.call(n,function(e){if(e instanceof nn)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof en)throw t.noMatchError(e);throw e})},t.prototype.match=function(t){var e=this,n=this.expandSegmentGroup(this.ngModule,this.config,t.root,Be),r=be.map.call(n,function(n){return e.createUrlTree(n,t.queryParams,t.fragment)});return Ce._catch.call(r,function(t){if(t instanceof en)throw e.noMatchError(t);throw t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r=t.segments.length>0?new Ge([],(o={},o[Be]=t,o)):t;return new Ke(r,e,n);var o},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?be.map.call(this.expandChildren(t,e,n),function(t){return new Ge([],t)}):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return y(n.children,function(n,o){return r.expandSegmentGroup(t,e,o,n)})},t.prototype.expandSegment=function(t,e,n,r,o,i){var s=this,a=de.of.apply(void 0,n),u=be.map.call(a,function(a){var u=s.expandSegmentAgainstRoute(t,e,n,a,r,o,i);return Ce._catch.call(u,function(t){if(t instanceof en)return Object(de.of)(null);throw t})}),c=Se.concatAll.call(u),l=me.first.call(c,function(t){return!!t});return Ce._catch.call(l,function(t,n){if(t instanceof Oe.EmptyError){if(s.noLeftoversInUrl(e,r,o))return Object(de.of)(new Ge([],{}));throw new en(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,o,i,s){return Z(r)!==i?F(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i):F(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var o=this,i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?V(i):_e.mergeMap.call(this.lineralizeSegments(n,i),function(n){var i=new Ge(n,{});return o.expandSegment(t,i,e,n,r,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,i){var s=this,a=H(e,r,o),u=a.matched,c=a.consumedSegments,l=a.lastChild,h=a.positionalParamSegments;if(!u)return F(e);var p=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?V(p):_e.mergeMap.call(this.lineralizeSegments(r,p),function(r){return s.expandSegment(t,e,n,r.concat(o.slice(l)),i,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var o=this;if("**"===n.path)return n.loadChildren?be.map.call(this.configLoader.load(t.injector,n),function(t){return n._loadedConfig=t,new Ge(r,{})}):Object(de.of)(new Ge(r,{}));var i=H(e,n,r),s=i.matched,a=i.consumedSegments,u=i.lastChild;if(!s)return F(e);var c=r.slice(u),l=this.getChildConfig(t,n);return _e.mergeMap.call(l,function(t){var n=t.module,r=t.routes,i=K(e,a,c,r),s=i.segmentGroup,u=i.slicedSegments;if(0===u.length&&s.hasChildren()){var l=o.expandChildren(n,r,s);return be.map.call(l,function(t){return new Ge(a,t)})}if(0===r.length&&0===u.length)return Object(de.of)(new Ge(a,{}));var h=o.expandSegment(n,s,r,u,Be,!0);return be.map.call(h,function(t){return new Ge(a.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?Object(de.of)(new He(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(de.of)(e._loadedConfig):_e.mergeMap.call(W(t.injector,e),function(r){return r?be.map.call(n.configLoader.load(t.injector,e),function(t){return e._loadedConfig=t,t}):B(e)}):Object(de.of)(new He([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(de.of)(n);if(r.numberOfChildren>1||!r.children[Be])return U(t.redirectTo);r=r.children[Be]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var o=this.createSegmentGroup(t,e.root,n,r);return new Ke(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return d(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var o=t.substring(1);n[r]=e[o]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var o=this,i=this.createSegments(t,e.segments,n,r),s={};return d(e.children,function(e,i){s[i]=o.createSegmentGroup(t,e,n,r)}),new Ge(i,s)},t.prototype.createSegments=function(t,e,n,r){var o=this;return e.map(function(e){return e.path.startsWith(":")?o.findPosParam(t,e,r):o.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){for(var n=0,r=0,o=e;r<o.length;r++){var i=o[r];if(i.path===t.path)return e.splice(n),i;n++}return t},t}(),on=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=$(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=$(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=tt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return tt(t,this._root).map(function(t){return t.value})},t}(),sn=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}(),an=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,ot(r,e),r}return ue.a(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(on),un=function(){function t(t,e,n,r,o,i,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=s,this._futureSnapshot=a}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=be.map.call(this.params,function(t){return r(t)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=be.map.call(this.queryParams,function(t){return r(t)})),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}(),cn=function(){function t(t,e,n,r,o,i,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=s,this._routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=r(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=r(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this._routeConfig?this._routeConfig.path:"")+"')"},t}(),ln=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,ot(r,n),r}return ue.a(e,t),e.prototype.toString=function(){return it(this._root)},e}(on),hn=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&dt(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==f(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),pn=function(){function t(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}return t}(),fn=function(){function t(){}return t}(),dn=function(){function t(t,e,n,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r}return t.prototype.recognize=function(){try{var t=Lt(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,Be),n=new cn([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},Be,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new sn(n,e),o=new ln(this.url,r);return this.inheritParamsAndData(o._root),Object(de.of)(o)}catch(t){return new Ee.Observable(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=rt(n);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n=this,r=I(e,function(e,r){return n.processSegmentGroup(t,e,r)});return kt(r),Pt(r),r},t.prototype.processSegment=function(t,e,n,r){for(var o=0,i=t;o<i.length;o++){var s=i[o];try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(t){if(!(t instanceof fn))throw t}}if(this.noLeftoversInUrl(e,n,r))return[];throw new fn},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new fn;if((t.outlet||Be)!==r)throw new fn;if("**"===t.path){var o=n.length>0?f(n).parameters:{},i=new cn(n,o,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,Wt(t),r,t.component,t,Dt(e),Mt(e)+n.length,Ht(t));return[new sn(i,[])]}var s=xt(e,t,n),a=s.consumedSegments,u=s.parameters,c=s.lastChild,l=n.slice(c),h=Rt(t),p=Lt(e,a,l,h),d=p.segmentGroup,y=p.slicedSegments,v=new cn(a,u,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,Wt(t),r,t.component,t,Dt(e),Mt(e)+a.length,Ht(t));if(0===y.length&&d.hasChildren()){var m=this.processChildren(h,d);return[new sn(v,m)]}if(0===h.length&&0===y.length)return[new sn(v,[])];var g=this.processSegment(h,d,y,Be);return[new sn(v,g)]},t}(),yn=function(){function t(){}return t.prototype.shouldDetach=function(t){},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){},t.prototype.retrieve=function(t){},t.prototype.shouldReuseRoute=function(t,e){},t}(),vn=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),mn=new le.v("ROUTES"),gn=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren);return be.map.call(r,function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var o=r.create(t);return new He(p(o.injector.get(mn)),o)})},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(Te.fromPromise)(this.loader.load(t)):_e.mergeMap.call(m(t()),function(t){return t instanceof le.C?Object(de.of)(t):Object(Te.fromPromise)(e.compiler.compileModuleAsync(t))})},t}(),bn=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){},t.prototype.extract=function(t){},t.prototype.merge=function(t,e){},t}(),_n=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}(),wn=function(){function t(t,e,n,r,o,i,s,a){var u=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.navigations=new he.BehaviorSubject(null),this.routerEvents=new pe.Subject,this.navigationId=0,this.errorHandler=Kt,this.navigated=!1,this.hooks={beforePreactivation:Gt,afterPreactivation:Gt},this.urlHandlingStrategy=new _n,this.routeReuseStrategy=new vn;var c=function(t){return u.triggerEvent(new Me(t))},l=function(t){return u.triggerEvent(new Le(t))};this.ngModule=o.get(le.E),this.resetConfig(a),this.currentUrlTree=g(),this.rawUrlTree=this.currentUrlTree,this.configLoader=new gn(i,s,c,l),this.currentRouterState=et(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.currentRouterState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(e){var n=t.urlSerializer.parse(e.url),r="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(n,r,{replaceUrl:!0})},0)})))},Object.defineProperty(t.prototype,"routerState",{get:function(){return this.currentRouterState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this.routerEvents},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.routerEvents.next(t)},t.prototype.resetConfig=function(t){a(t),this.config=t,this.navigated=!1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,r=e.queryParams,o=e.fragment,i=e.preserveQueryParams,s=e.queryParamsHandling,a=e.preserveFragment;Object(le._6)()&&i&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:o,l=null;if(s)switch(s){case"merge":l=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=i?this.currentUrlTree.queryParams:r||null;return ft(u,this.currentUrlTree,t,l,c)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof Ke?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),Yt(t),"object"==typeof e.queryParams&&null!==e.queryParams&&(e.queryParams=this.removeEmptyProps(e.queryParams)),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof Ke)return b(this.currentUrlTree,t,e);var n=this.urlSerializer.parse(t);return b(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;ye.concatMap.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):Object(de.of)(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n){var r=this.navigations.value;if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,i=null,s=new Promise(function(t,e){o=t,i=e}),a=++this.navigationId;return this.navigations.next({id:a,source:e,rawUrl:t,extras:n,resolve:o,reject:i,promise:s}),s.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,o=t.extras,i=t.resolve,s=t.reject,a=this.urlHandlingStrategy.extract(r),u=!this.navigated||a.toString()!==this.currentUrlTree.toString();u&&this.urlHandlingStrategy.shouldProcessUrl(r)?(this.routerEvents.next(new Pe(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,r,!!o.skipLocationChange,!!o.replaceUrl,n,null)}).then(i,s)):u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.routerEvents.next(new Pe(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,r,!1,!1,n,et(a,e.rootComponentType).snapshot)}).then(i,s)):(this.rawUrlTree=r,i(null))},t.prototype.runNavigate=function(t,e,n,r,o,s){var a=this;return o!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.routerEvents.next(new xe(o,this.serializeUrl(t),"Navigation ID "+o+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(u,c){var l;if(s)l=Object(de.of)({appliedUrl:t,snapshot:s});else{var h=a.ngModule.injector,p=q(h,a.configLoader,a.urlSerializer,t,a.config);l=_e.mergeMap.call(p,function(e){return be.map.call(At(a.rootComponentType,a.config,e,a.serializeUrl(e)),function(n){return a.routerEvents.next(new De(o,a.serializeUrl(t),a.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}})})}var f,d,y=_e.mergeMap.call(l,function(t){return be.map.call(a.hooks.beforePreactivation(t.snapshot),function(){return t})}),v=be.map.call(y,function(t){var e=t.appliedUrl,n=t.snapshot,r=a.ngModule.injector;return f=new Sn(n,a.currentRouterState.snapshot,r),f.traverse(a.rootContexts),{appliedUrl:e,snapshot:n}}),m=_e.mergeMap.call(v,function(e){var n=e.appliedUrl,r=e.snapshot;return a.navigationId!==o?Object(de.of)(!1):(a.triggerEvent(new je(o,a.serializeUrl(t),n,r)),be.map.call(f.checkGuards(),function(e){return a.triggerEvent(new Fe(o,a.serializeUrl(t),n,r,e)),{appliedUrl:n,snapshot:r,shouldActivate:e}}))}),g=_e.mergeMap.call(m,function(e){return a.navigationId!==o?Object(de.of)(!1):e.shouldActivate&&f.isActivating()?(a.triggerEvent(new Ve(o,a.serializeUrl(t),e.appliedUrl,e.snapshot)),be.map.call(f.resolveData(),function(){return a.triggerEvent(new Ue(o,a.serializeUrl(t),e.appliedUrl,e.snapshot)),e})):Object(de.of)(e)}),b=_e.mergeMap.call(g,function(t){return be.map.call(a.hooks.afterPreactivation(t.snapshot),function(){return t})}),_=be.map.call(b,function(t){var e=t.appliedUrl,n=t.snapshot,r=t.shouldActivate;if(r){return{appliedUrl:e,state:ut(a.routeReuseStrategy,n,a.currentRouterState),shouldActivate:r}}return{appliedUrl:e,state:null,shouldActivate:r}}),w=a.currentRouterState,E=a.currentUrlTree;_.forEach(function(t){var i=t.appliedUrl,s=t.state;if(!t.shouldActivate||o!==a.navigationId)return void(d=!1);if(a.currentUrlTree=i,a.rawUrlTree=a.urlHandlingStrategy.merge(a.currentUrlTree,e),a.currentRouterState=s,!n){var u=a.urlSerializer.serialize(a.rawUrlTree);a.location.isCurrentPathEqualTo(u)||r?a.location.replaceState(u):a.location.go(u)}new On(a.routeReuseStrategy,s,w).activate(a.rootContexts),d=!0}).then(function(){d?(a.navigated=!0,a.routerEvents.next(new Re(o,a.serializeUrl(t),a.serializeUrl(a.currentUrlTree))),u(!0)):(a.resetUrlToCurrentUrlTree(),a.routerEvents.next(new xe(o,a.serializeUrl(t),"")),u(!1))},function(n){if(i(n))a.resetUrlToCurrentUrlTree(),a.navigated=!0,a.routerEvents.next(new xe(o,a.serializeUrl(t),n.message)),u(!1);else{a.routerEvents.next(new ke(o,a.serializeUrl(t),n));try{u(a.errorHandler(n))}catch(t){c(t)}}a.currentRouterState=w,a.currentUrlTree=E,a.rawUrlTree=a.urlHandlingStrategy.merge(a.currentUrlTree,e),a.location.replaceState(a.serializeUrl(a.rawUrlTree))})})},t.prototype.resetUrlToCurrentUrlTree=function(){var t=this.urlSerializer.serialize(this.rawUrlTree);this.location.replaceState(t)},t}(),En=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),t}(),Cn=function(){function t(t,e){this.component=t,this.route=e}return t}(),Sn=function(){function t(t,e,n){this.future=t,this.curr=e,this.moduleInjector=n,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.traverse=function(t){var e=this.future._root,n=this.curr?this.curr._root:null;this.traverseChildRoutes(e,n,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(!this.isDeactivating()&&!this.isActivating())return Object(de.of)(!0);var e=this.runCanDeactivateChecks();return _e.mergeMap.call(e,function(e){return e?t.runCanActivateChecks():Object(de.of)(!1)})},t.prototype.resolveData=function(){var t=this;if(!this.isActivating())return Object(de.of)(null);var e=Object(fe.from)(this.canActivateChecks),n=ye.concatMap.call(e,function(e){return t.runResolve(e.route)});return we.reduce.call(n,function(t,e){return t})},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.traverseChildRoutes=function(t,e,n,r){var o=this,i=Xt(e);t.children.forEach(function(t){o.traverseRoutes(t,i[t.value.outlet],n,r.concat([t.value])),delete i[t.value.outlet]}),d(i,function(t,e){return o.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.traverseRoutes=function(t,e,n,r){var o=t.value,i=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(i&&o._routeConfig===i._routeConfig){var a=this.shouldRunGuardsAndResolvers(i,o,o._routeConfig.runGuardsAndResolvers);if(a?this.canActivateChecks.push(new En(r)):(o.data=i.data,o._resolvedData=i._resolvedData),o.component?this.traverseChildRoutes(t,e,s?s.children:null,r):this.traverseChildRoutes(t,e,n,r),a){var u=s.outlet;this.canDeactivateChecks.push(new Cn(u.component,i))}}else i&&this.deactivateRouteAndItsChildren(e,s),this.canActivateChecks.push(new En(r)),o.component?this.traverseChildRoutes(t,null,s?s.children:null,r):this.traverseChildRoutes(t,null,n,r)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!at(t,e)||!h(t.queryParams,e.queryParams);case"paramsChange":default:return!at(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,r=Xt(t),o=t.value;d(r,function(t,r){o.component?e?n.deactivateRouteAndItsChildren(t,e.children.getContext(r)):n.deactivateRouteAndItsChildren(t,null):n.deactivateRouteAndItsChildren(t,e)}),o.component&&e&&e.outlet&&e.outlet.isActivated?this.canDeactivateChecks.push(new Cn(e.outlet.component,o)):this.canDeactivateChecks.push(new Cn(null,o))},t.prototype.runCanDeactivateChecks=function(){var t=this,e=Object(fe.from)(this.canDeactivateChecks),n=_e.mergeMap.call(e,function(e){return t.runCanDeactivate(e.component,e.route)});return ve.every.call(n,function(t){return!0===t})},t.prototype.runCanActivateChecks=function(){var t=this,e=Object(fe.from)(this.canActivateChecks),n=ye.concatMap.call(e,function(e){return v(Object(fe.from)([t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))});return ve.every.call(n,function(t){return!0===t})},t.prototype.runCanActivate=function(t){var e=this,n=t._routeConfig?t._routeConfig.canActivate:null;return n&&0!==n.length?v(be.map.call(Object(fe.from)(n),function(n){var r,o=e.getToken(n,t);return r=m(o.canActivate?o.canActivate(t,e.future):o(t,e.future)),me.first.call(r)})):Object(de.of)(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return v(be.map.call(Object(fe.from)(r),function(t){return v(be.map.call(Object(fe.from)(t.guards),function(r){var o,i=e.getToken(r,t.node);return o=m(i.canActivateChild?i.canActivateChild(n,e.future):i(n,e.future)),me.first.call(o)}))}))},t.prototype.extractCanActivateChild=function(t){var e=t._routeConfig?t._routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,r=e&&e._routeConfig?e._routeConfig.canDeactivate:null;if(!r||0===r.length)return Object(de.of)(!0);var o=_e.mergeMap.call(Object(fe.from)(r),function(r){var o,i=n.getToken(r,e);return o=m(i.canDeactivate?i.canDeactivate(t,e,n.curr,n.future):i(t,e,n.curr,n.future)),me.first.call(o)});return ve.every.call(o,function(t){return!0===t})},t.prototype.runResolve=function(t){var e=t._resolve;return be.map.call(this.resolveNode(e,t),function(e){return t._resolvedData=e,t.data=Object.assign({},t.data,rt(t).resolve),null})},t.prototype.resolveNode=function(t,e){var n=this,r=Object.keys(t);if(0===r.length)return Object(de.of)({});if(1===r.length){var o=r[0];return be.map.call(this.getResolver(t[o],e),function(t){return e={},e[o]=t,e;var e})}var i={},s=_e.mergeMap.call(Object(fe.from)(r),function(r){return be.map.call(n.getResolver(t[r],e),function(t){return i[r]=t,t})});return be.map.call(ge.last.call(s),function(){return i})},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return m(n.resolve?n.resolve(e,this.future):n(e,this.future))},t.prototype.getToken=function(t,e){var n=Jt(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),On=function(){function t(t,e,n){this.routeReuseStrategy=t,this.futureState=e,this.currState=n}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),st(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,o=Xt(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,o[e],n),delete o[e]}),d(o,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,o=e?e.value:null;if(r===o)if(r.component){var i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:o})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var o=Xt(t),i=t.value.component?r.children:e;d(o,function(t,e){return n.deactivateRouteAndItsChildren(t,i)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,o=Xt(e);t.children.forEach(function(t){r.activateRoutes(t,o[t.value.outlet],n)})},t.prototype.activateRoutes=function(t,e,n){var r=t.value,o=e?e.value:null;if(st(r),r===o)if(r.component){var i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var i=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),i.children.onOutletReAttached(s.contexts),i.attachRef=s.componentRef,i.route=s.route.value,i.outlet&&i.outlet.attach(s.componentRef,s.route.value),Qt(s.route)}else{var a=zt(r.snapshot),u=a?a.module.componentFactoryResolver:null;i.route=r,i.resolver=u,i.outlet&&i.outlet.activateWith(r,u),this.activateChildRoutes(t,null,i.children)}}else this.activateChildRoutes(t,null,n)},t}(),Tn=function(){function t(t,e,n,r,o){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(o.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(le._6)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:Zt(this.skipLocationChange),replaceUrl:Zt(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Zt(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Zt(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();Tn.decorators=[{type:le.m,args:[{selector:":not(a)[routerLink]"}]}],Tn.ctorParameters=function(){return[{type:wn},{type:un},{type:void 0,decorators:[{type:le.h,args:["tabindex"]}]},{type:le.N},{type:le.n}]},Tn.propDecorators={queryParams:[{type:le.x}],fragment:[{type:le.x}],queryParamsHandling:[{type:le.x}],preserveFragment:[{type:le.x}],skipLocationChange:[{type:le.x}],replaceUrl:[{type:le.x}],routerLink:[{type:le.x}],preserveQueryParams:[{type:le.x}],onClick:[{type:le.s,args:["click"]}]};var In=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof Re&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(le._6)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:Zt(this.skipLocationChange),replaceUrl:Zt(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,o),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Zt(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Zt(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();In.decorators=[{type:le.m,args:[{selector:"a[routerLink]"}]}],In.ctorParameters=function(){return[{type:wn},{type:un},{type:ce.g}]},In.propDecorators={target:[{type:le.r,args:["attr.target"]},{type:le.x}],queryParams:[{type:le.x}],fragment:[{type:le.x}],queryParamsHandling:[{type:le.x}],preserveFragment:[{type:le.x}],skipLocationChange:[{type:le.x}],replaceUrl:[{type:le.x}],href:[{type:le.r}],routerLink:[{type:le.x}],preserveQueryParams:[{type:le.x}],onClick:[{type:le.s,args:["click",["$event.button","$event.ctrlKey","$event.metaKey","$event.shiftKey"]]}]};var Nn=function(){function t(t,e,n,r){var o=this;this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.classes=[],this.active=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof Re&&o.update()})}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this.active},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;if(this.links&&this.linksWithHrefs&&this.router.navigated){var e=this.hasActiveLinks();this.active!==e&&(this.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}),Promise.resolve(e).then(function(e){return t.active=e}))}},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t}();Nn.decorators=[{type:le.m,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive"}]}],Nn.ctorParameters=function(){return[{type:wn},{type:le.n},{type:le.N},{type:le.i}]},Nn.propDecorators={links:[{type:le.l,args:[Tn,{descendants:!0}]}],linksWithHrefs:[{type:le.l,args:[In,{descendants:!0}]}],routerLinkActiveOptions:[{type:le.x}],routerLinkActive:[{type:le.x}]};var An=function(){function t(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pn,this.attachRef=null}return t}(),Pn=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new An,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),Rn=function(){function t(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new le.p,this.deactivateEvents=new le.p,this.name=r||Be,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"locationInjector",{get:function(){return this.location.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationFactoryResolver",{get:function(){return this.resolver},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=t._futureSnapshot,r=n._routeConfig.component;e=e||this.resolver;var o=e.resolveComponentFactory(r),i=this.parentContexts.getOrCreateContext(this.name).children,s=new xn(t,i,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}();Rn.decorators=[{type:le.m,args:[{selector:"router-outlet",exportAs:"outlet"}]}],Rn.ctorParameters=function(){return[{type:Pn},{type:le.Z},{type:le.k},{type:void 0,decorators:[{type:le.h,args:["name"]}]},{type:le.i}]},Rn.propDecorators={activateEvents:[{type:le.I,args:["activate"]}],deactivateEvents:[{type:le.I,args:["deactivate"]}]};var xn=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===un?this.route:t===Pn?this.childContexts:this.parent.get(t,e)},t}(),kn=function(){function t(){}return t.prototype.preload=function(t,e){},t}(),Dn=function(){function t(){}return t.prototype.preload=function(t,e){return Ce._catch.call(e(),function(){return Object(de.of)(null)})},t}(),Mn=function(){function t(){}return t.prototype.preload=function(t,e){return Object(de.of)(null)},t}(),Ln=function(){function t(t,e,n,r,o){this.router=t,this.injector=r,this.preloadingStrategy=o;var i=function(e){return t.triggerEvent(new Me(e))},s=function(e){return t.triggerEvent(new Le(e))};this.loader=new gn(e,n,i,s)}return t.prototype.setUpPreloading=function(){var t=this,e=Ae.filter.call(this.router.events,function(t){return t instanceof Re});this.subscription=ye.concatMap.call(e,function(){return t.preload()}).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(le.E);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];if(i.loadChildren&&!i.canLoad&&i._loadedConfig){var s=i._loadedConfig;n.push(this.processRoutes(s.module,s.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children))}return Ie.mergeAll.call(Object(fe.from)(n))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){var r=n.loader.load(t.injector,e);return _e.mergeMap.call(r,function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})})},t}();Ln.decorators=[{type:le.u}],Ln.ctorParameters=function(){return[{type:wn},{type:le.D},{type:le.j},{type:le.w},{type:kn}]};var jn=[Rn,Tn,In,Nn],Fn=new le.v("ROUTER_CONFIGURATION"),Vn=new le.v("ROUTER_FORROOT_GUARD"),Un=[ce.f,{provide:ze,useClass:Je},{provide:wn,useFactory:re,deps:[le.g,ze,Pn,ce.f,le.w,le.D,le.j,mn,Fn,[bn,new le.H],[yn,new le.H]]},Pn,{provide:un,useFactory:oe,deps:[wn]},{provide:le.D,useClass:le.U},Ln,Mn,Dn,{provide:Fn,useValue:{enableTracing:!1}}],Bn=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[Un,ne(e),{provide:Vn,useFactory:ee,deps:[[wn,new le.H,new le.T]]},{provide:Fn,useValue:n||{}},{provide:ce.g,useFactory:te,deps:[ce.n,[new le.t(ce.a),new le.H],Fn]},{provide:kn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Mn},{provide:le.F,multi:!0,useFactory:$t},ae()]}},t.forChild=function(e){return{ngModule:t,providers:[ne(e)]}},t}();Bn.decorators=[{type:le.B,args:[{declarations:jn,exports:jn}]}],Bn.ctorParameters=function(){return[{type:void 0,decorators:[{type:le.H},{type:le.t,args:[Vn]}]},{type:wn,decorators:[{type:le.H}]}]};var qn=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new pe.Subject}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(ce.e,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(wn),o=t.injector.get(Fn);if(t.isLegacyDisabled(o)||t.isLegacyEnabled(o))e(!0);else if("disabled"===o.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==o.initialNavigation)throw new Error("Invalid initialNavigation options: '"+o.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Object(de.of)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Fn),n=this.injector.get(Ln),r=this.injector.get(wn),o=this.injector.get(le.g);t===o.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();qn.decorators=[{type:le.u}],qn.ctorParameters=function(){return[{type:le.w}]};var Wn=new le.v("Router Initializer");new le.Y("4.4.5")},CE6k:function(t,e,n){"use strict";function r(){return new s.Subject}function o(){return i.multicast.call(this,r).refCount()}var i=n("gonN"),s=n("rlar");e.share=o},"CH/r":function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=a.async),this.lift(new u(t,e))}function o(t){t.debouncedNext()}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n("T14+"),a=n("IhB/");e.debounceTime=r;var u=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.dueTime,this.scheduler))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.dueTime=n,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return i(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(o,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(s.Subscriber)},CIVu:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("YY8E"),i=n("JEJ4"),s=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return r(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return i.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(o.EventEmitter);e.VisibilityMonitor=s},COMn:function(t,e,n){"use strict";function r(t){var e=i;return i=t,e}Object.defineProperty(e,"__esModule",{value:!0});var o="FirebaseError",i=Error.captureStackTrace;e.patchCapture=r;var s=function(){function t(t,e){this.code=t,this.message=e;if(i)i(this,a.prototype.create);else{var n=Error.apply(this,arguments);this.name=o,Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}return t}();e.FirebaseError=s,s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s.prototype.name=o;var a=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],o=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+o+").";var i=new s(o,n);for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(i[a]=e[a]);return i},t}();e.ErrorFactory=a},CPp0:function(t,e,n){"use strict";function r(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return _.Get;case"POST":return _.Post;case"PUT":return _.Put;case"DELETE":return _.Delete;case"OPTIONS":return _.Options;case"HEAD":return _.Head;case"PATCH":return _.Patch}throw new Error('Invalid request method. The method "'+t+'" is not supported.')}function o(t){return"responseURL"in t?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}function i(t){for(var e=new Uint16Array(t.length),n=0,r=t.length;n<r;n++)e[n]=t.charCodeAt(n);return e.buffer}function s(t){void 0===t&&(t="");var e=new Map;if(t.length>0){t.split("&").forEach(function(t){var n=t.indexOf("="),r=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)],o=r[0],i=r[1],s=e.get(o)||[];s.push(i),e.set(o,s)})}return e}function a(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function u(){var t="object"==typeof window?window:{};return null===j&&(j=t[L]={}),j}function c(t){var e=new x;return Object.keys(t).forEach(function(n){var r=t[n];r&&Array.isArray(r)?r.forEach(function(t){return e.append(n,t.toString())}):e.append(n,r.toString())}),e}function l(t,e){return t.createConnection(e).response}function h(t,e,n,r){var o=t;return e?o.merge(new J({method:e.method||n,url:e.url||r,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType})):o.merge(new J({method:n,url:r}))}function p(){return new Q}function f(t,e){return new rt(t,e)}function d(t,e){return new ot(t,e)}n.d(e,"c",function(){return b}),n.d(e,"h",function(){return z}),n.d(e,"a",function(){return X}),n.d(e,"f",function(){return J}),n.d(e,"b",function(){return I}),n.d(e,"g",function(){return T}),n.d(e,"d",function(){return rt}),n.d(e,"e",function(){return it}),n.d(e,"i",function(){return A}),n.d(e,"j",function(){return p}),n.d(e,"k",function(){return f});var y=n("6Xbx"),v=n("/oeL"),m=n("bKpL"),g=(n.n(m),n("fc+i")),b=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}();b.decorators=[{type:v.u}],b.ctorParameters=function(){return[]};var _={};_.Get=0,_.Post=1,_.Put=2,_.Delete=3,_.Options=4,_.Head=5,_.Patch=6,_[_.Get]="Get",_[_.Post]="Post",_[_.Put]="Put",_[_.Delete]="Delete",_[_.Options]="Options",_[_.Head]="Head",_[_.Patch]="Patch";var w={};w.Unsent=0,w.Open=1,w.HeadersReceived=2,w.Loading=3,w.Done=4,w.Cancelled=5,w[w.Unsent]="Unsent",w[w.Open]="Open",w[w.HeadersReceived]="HeadersReceived",w[w.Loading]="Loading",w[w.Done]="Done",w[w.Cancelled]="Cancelled";var E={};E.Basic=0,E.Cors=1,E.Default=2,E.Error=3,E.Opaque=4,E[E.Basic]="Basic",E[E.Cors]="Cors",E[E.Default]="Default",E[E.Error]="Error",E[E.Opaque]="Opaque";var C={};C.NONE=0,C.JSON=1,C.FORM=2,C.FORM_DATA=3,C.TEXT=4,C.BLOB=5,C.ARRAY_BUFFER=6,C[C.NONE]="NONE",C[C.JSON]="JSON",C[C.FORM]="FORM",C[C.FORM_DATA]="FORM_DATA",C[C.TEXT]="TEXT",C[C.BLOB]="BLOB",C[C.ARRAY_BUFFER]="ARRAY_BUFFER";var S={};S.Text=0,S.Json=1,S.ArrayBuffer=2,S.Blob=3,S[S.Text]="Text",S[S.Json]="Json",S[S.ArrayBuffer]="ArrayBuffer",S[S.Blob]="Blob";var O=function(){function t(e){var n=this;if(this._headers=new Map,this._normalizedNames=new Map,e)return e instanceof t?void e.forEach(function(t,e){t.forEach(function(t){return n.append(e,t)})}):void Object.keys(e).forEach(function(t){var r=Array.isArray(e[t])?e[t]:[e[t]];n.delete(t),r.forEach(function(e){return n.append(t,e)})})}return t.fromResponseHeaderString=function(e){var n=new t;return e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),o=t.slice(e+1).trim();n.set(r,o)}}),n},t.prototype.append=function(t,e){var n=this.getAll(t);null===n?this.set(t,e):n.push(e)},t.prototype.delete=function(t){var e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)},t.prototype.forEach=function(t){var e=this;this._headers.forEach(function(n,r){return t(n,e._normalizedNames.get(r),e._headers)})},t.prototype.get=function(t){var e=this.getAll(t);return null===e?null:e.length>0?e[0]:null},t.prototype.has=function(t){return this._headers.has(t.toLowerCase())},t.prototype.keys=function(){return Array.from(this._normalizedNames.values())},t.prototype.set=function(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)},t.prototype.values=function(){return Array.from(this._headers.values())},t.prototype.toJSON=function(){var t=this,e={};return this._headers.forEach(function(n,r){var o=[];n.forEach(function(t){return o.push.apply(o,t.split(","))}),e[t._normalizedNames.get(r)]=o}),e},t.prototype.getAll=function(t){return this.has(t)?this._headers.get(t.toLowerCase())||null:null},t.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},t.prototype.mayBeSetNormalizedName=function(t){var e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)},t}(),T=function(){function t(t){void 0===t&&(t={});var e=t.body,n=t.status,r=t.headers,o=t.statusText,i=t.type,s=t.url;this.body=null!=e?e:null,this.status=null!=n?n:null,this.headers=null!=r?r:null,this.statusText=null!=o?o:null,this.type=null!=i?i:null,this.url=null!=s?s:null}return t.prototype.merge=function(e){return new t({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})},t}(),I=function(t){function e(){return t.call(this,{status:200,statusText:"Ok",type:E.Default,headers:new O})||this}return y.a(e,t),e}(T);I.decorators=[{type:v.u}],I.ctorParameters=function(){return[]};var N=function(){function t(){}return t.prototype.createConnection=function(t){},t}(),A=(function(){function t(){}}(),function(){function t(){}return t.prototype.configureRequest=function(t){},t}()),P=function(t){return t>=200&&t<300},R=function(){function t(){}return t.prototype.encodeKey=function(t){return a(t)},t.prototype.encodeValue=function(t){return a(t)},t}(),x=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=new R),this.rawParams=t,this.queryEncoder=e,this.paramsMap=s(t)}return t.prototype.clone=function(){var e=new t("",this.queryEncoder);return e.appendAll(this),e},t.prototype.has=function(t){return this.paramsMap.has(t)},t.prototype.get=function(t){var e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null},t.prototype.getAll=function(t){return this.paramsMap.get(t)||[]},t.prototype.set=function(t,e){if(void 0===e||null===e)return void this.delete(t);var n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)},t.prototype.setAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0,r.push(t[0]),e.paramsMap.set(n,r)})},t.prototype.append=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}},t.prototype.appendAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){for(var r=e.paramsMap.get(n)||[],o=0;o<t.length;++o)r.push(t[o]);e.paramsMap.set(n,r)})},t.prototype.replaceAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0;for(var o=0;o<t.length;++o)r.push(t[o]);e.paramsMap.set(n,r)})},t.prototype.toString=function(){var t=this,e=[];return this.paramsMap.forEach(function(n,r){n.forEach(function(n){return e.push(t.queryEncoder.encodeKey(r)+"="+t.queryEncoder.encodeValue(n))})}),e.join("&")},t.prototype.delete=function(t){this.paramsMap.delete(t)},t}(),k=function(){function t(){}return t.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},t.prototype.text=function(t){if(void 0===t&&(t="legacy"),this._body instanceof x)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(t){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+t)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},t.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:i(this.text())},t.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},t}(),D=function(t){function e(e){var n=t.call(this)||this;return n._body=e.body,n.status=e.status,n.ok=n.status>=200&&n.status<=299,n.statusText=e.statusText,n.headers=e.headers,n.type=e.type,n.url=e.url,n}return y.a(e,t),e.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},e}(k),M=0,L="__ng_jsonp__",j=null,F=function(){function t(){}return t.prototype.build=function(t){var e=document.createElement("script");return e.src=t,e},t.prototype.nextRequestID=function(){return"__req"+M++},t.prototype.requestCallback=function(t){return L+"."+t+".finished"},t.prototype.exposeConnection=function(t,e){u()[t]=e},t.prototype.removeConnection=function(t){u()[t]=null},t.prototype.send=function(t){document.body.appendChild(t)},t.prototype.cleanup=function(t){t.parentNode&&t.parentNode.removeChild(t)},t}();F.decorators=[{type:v.u}],F.ctorParameters=function(){return[]};var V="JSONP injected script did not invoke callback.",U="JSONP requests must use GET request method.",B=function(){function t(){}return t.prototype.finished=function(t){},t}(),q=function(t){function e(e,n,r){var o=t.call(this)||this;if(o._dom=n,o.baseResponseOptions=r,o._finished=!1,e.method!==_.Get)throw new TypeError(U);return o.request=e,o.response=new m.Observable(function(t){o.readyState=w.Loading;var i=o._id=n.nextRequestID();n.exposeConnection(i,o);var s=n.requestCallback(o._id),a=e.url;a.indexOf("=JSONP_CALLBACK&")>-1?a=a.replace("=JSONP_CALLBACK&","="+s+"&"):a.lastIndexOf("=JSONP_CALLBACK")===a.length-"=JSONP_CALLBACK".length&&(a=a.substring(0,a.length-"=JSONP_CALLBACK".length)+"="+s);var u=o._script=n.build(a),c=function(e){if(o.readyState!==w.Cancelled){if(o.readyState=w.Done,n.cleanup(u),!o._finished){var i=new T({body:V,type:E.Error,url:a});return r&&(i=r.merge(i)),void t.error(new D(i))}var s=new T({body:o._responseData,url:a});o.baseResponseOptions&&(s=o.baseResponseOptions.merge(s)),t.next(new D(s)),t.complete()}},l=function(e){if(o.readyState!==w.Cancelled){o.readyState=w.Done,n.cleanup(u);var i=new T({body:e.message,type:E.Error});r&&(i=r.merge(i)),t.error(new D(i))}};return u.addEventListener("load",c),u.addEventListener("error",l),n.send(u),function(){o.readyState=w.Cancelled,u.removeEventListener("load",c),u.removeEventListener("error",l),o._dom.cleanup(u)}}),o}return y.a(e,t),e.prototype.finished=function(t){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==w.Cancelled&&(this._responseData=t)},e}(B),W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y.a(e,t),e}(N),H=function(t){function e(e,n){var r=t.call(this)||this;return r._browserJSONP=e,r._baseResponseOptions=n,r}return y.a(e,t),e.prototype.createConnection=function(t){return new q(t,this._browserJSONP,this._baseResponseOptions)},e}(W);H.decorators=[{type:v.u}],H.ctorParameters=function(){return[{type:F},{type:T}]};var K=/^\)\]\}',?\n/,G=function(){function t(t,e,n){var r=this;this.request=t,this.response=new m.Observable(function(i){var s=e.build();s.open(_[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(s.withCredentials=t.withCredentials);var a=function(){var e=1223===s.status?204:s.status,r=null;204!==e&&"string"==typeof(r=void 0===s.response?s.responseText:s.response)&&(r=r.replace(K,"")),0===e&&(e=r?200:0);var a=O.fromResponseHeaderString(s.getAllResponseHeaders()),u=o(s)||t.url,c=s.statusText||"OK",l=new T({body:r,status:e,headers:a,statusText:c,url:u});null!=n&&(l=n.merge(l));var h=new D(l);if(h.ok=P(e),h.ok)return i.next(h),void i.complete();i.error(h)},u=function(t){var e=new T({body:t,type:E.Error,status:s.status,statusText:s.statusText});null!=n&&(e=n.merge(e)),i.error(new D(e))};if(r.setDetectedContentType(t,s),null==t.headers&&(t.headers=new O),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach(function(t,e){return s.setRequestHeader(e,t.join(","))}),null!=t.responseType&&null!=s.responseType)switch(t.responseType){case S.ArrayBuffer:s.responseType="arraybuffer";break;case S.Json:s.responseType="json";break;case S.Text:s.responseType="text";break;case S.Blob:s.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return s.addEventListener("load",a),s.addEventListener("error",u),s.send(r.request.getBody()),function(){s.removeEventListener("load",a),s.removeEventListener("error",u),s.abort()}})}return t.prototype.setDetectedContentType=function(t,e){if(null==t.headers||null==t.headers.get("Content-Type"))switch(t.contentType){case C.NONE:break;case C.JSON:e.setRequestHeader("content-type","application/json");break;case C.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case C.TEXT:e.setRequestHeader("content-type","text/plain");break;case C.BLOB:var n=t.blob();n.type&&e.setRequestHeader("content-type",n.type)}},t}(),Q=function(){function t(t,e){void 0===t&&(t="XSRF-TOKEN"),void 0===e&&(e="X-XSRF-TOKEN"),this._cookieName=t,this._headerName=e}return t.prototype.configureRequest=function(t){var e=Object(g.t)().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)},t}(),z=function(){function t(t,e,n){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=n}return t.prototype.createConnection=function(t){return this._xsrfStrategy.configureRequest(t),new G(t,this._browserXHR,this._baseResponseOptions)},t}();z.decorators=[{type:v.u}],z.ctorParameters=function(){return[{type:b},{type:T},{type:A}]};var J=function(){function t(t){void 0===t&&(t={});var e=t.method,n=t.headers,o=t.body,i=t.url,s=t.search,a=t.params,u=t.withCredentials,c=t.responseType;this.method=null!=e?r(e):null,this.headers=null!=n?n:null,this.body=null!=o?o:null,this.url=null!=i?i:null,this.params=this._mergeSearchParams(a||s),this.withCredentials=null!=u?u:null,this.responseType=null!=c?c:null}return Object.defineProperty(t.prototype,"search",{get:function(){return this.params},set:function(t){this.params=t},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){return new t({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new O(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,params:e&&this._mergeSearchParams(e.params||e.search),withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})},t.prototype._mergeSearchParams=function(t){return t?t instanceof x?t.clone():"string"==typeof t?new x(t):this._parseParams(t):this.params},t.prototype._parseParams=function(t){var e=this;void 0===t&&(t={});var n=new x;return Object.keys(t).forEach(function(r){var o=t[r];Array.isArray(o)?o.forEach(function(t){return e._appendParam(r,t,n)}):e._appendParam(r,o,n)}),n},t.prototype._appendParam=function(t,e,n){"string"!=typeof e&&(e=JSON.stringify(e)),n.append(t,e)},t}(),X=function(t){function e(){return t.call(this,{method:_.Get,headers:new O})||this}return y.a(e,t),e}(J);X.decorators=[{type:v.u}],X.ctorParameters=function(){return[]};var Y=function(t){function e(e){var n=t.call(this)||this,o=e.url;n.url=e.url;var i=e.params||e.search;if(i){var s=void 0;if(s="object"!=typeof i||i instanceof x?i.toString():c(i).toString(),s.length>0){var a="?";-1!=n.url.indexOf("?")&&(a="&"==n.url[n.url.length-1]?"":"&"),n.url=o+a+s}}return n._body=e.body,n.method=r(e.method),n.headers=new O(e.headers),n.contentType=n.detectContentType(),n.withCredentials=e.withCredentials,n.responseType=e.responseType,n}return y.a(e,t),e.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return C.JSON;case"application/x-www-form-urlencoded":return C.FORM;case"multipart/form-data":return C.FORM_DATA;case"text/plain":case"text/html":return C.TEXT;case"application/octet-stream":return this._body instanceof nt?C.ARRAY_BUFFER:C.BLOB;default:return this.detectContentTypeFromBody()}},e.prototype.detectContentTypeFromBody=function(){return null==this._body?C.NONE:this._body instanceof x?C.FORM:this._body instanceof tt?C.FORM_DATA:this._body instanceof et?C.BLOB:this._body instanceof nt?C.ARRAY_BUFFER:this._body&&"object"==typeof this._body?C.JSON:C.TEXT},e.prototype.getBody=function(){switch(this.contentType){case C.JSON:case C.FORM:return this.text();case C.FORM_DATA:return this._body;case C.TEXT:return this.text();case C.BLOB:return this.blob();case C.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},e}(k),Z=function(){},$="object"==typeof window?window:Z,tt=$.FormData||Z,et=$.Blob||Z,nt=$.ArrayBuffer||Z,rt=function(){function t(t,e){this._backend=t,this._defaultOptions=e}return t.prototype.request=function(t,e){var n;if("string"==typeof t)n=l(this._backend,new Y(h(this._defaultOptions,e,_.Get,t)));else{if(!(t instanceof Y))throw new Error("First argument must be a url string or Request instance.");n=l(this._backend,t)}return n},t.prototype.get=function(t,e){return this.request(new Y(h(this._defaultOptions,e,_.Get,t)))},t.prototype.post=function(t,e,n){return this.request(new Y(h(this._defaultOptions.merge(new J({body:e})),n,_.Post,t)))},t.prototype.put=function(t,e,n){return this.request(new Y(h(this._defaultOptions.merge(new J({body:e})),n,_.Put,t)))},t.prototype.delete=function(t,e){return this.request(new Y(h(this._defaultOptions,e,_.Delete,t)))},t.prototype.patch=function(t,e,n){return this.request(new Y(h(this._defaultOptions.merge(new J({body:e})),n,_.Patch,t)))},t.prototype.head=function(t,e){return this.request(new Y(h(this._defaultOptions,e,_.Head,t)))},t.prototype.options=function(t,e){return this.request(new Y(h(this._defaultOptions,e,_.Options,t)))},t}();rt.decorators=[{type:v.u}],rt.ctorParameters=function(){return[{type:N},{type:J}]};var ot=function(t){function e(e,n){return t.call(this,e,n)||this}return y.a(e,t),e.prototype.request=function(t,e){if("string"==typeof t&&(t=new Y(h(this._defaultOptions,e,_.Get,t))),!(t instanceof Y))throw new Error("First argument must be a url string or Request instance.");if(t.method!==_.Get)throw new Error("JSONP requests must use GET request method.");return l(this._backend,t)},e}(rt);ot.decorators=[{type:v.u}],ot.ctorParameters=function(){return[{type:N},{type:J}]};var it=function(){function t(){}return t}();it.decorators=[{type:v.B,args:[{providers:[{provide:rt,useFactory:f,deps:[z,J]},b,{provide:J,useClass:X},{provide:T,useClass:I},z,{provide:A,useFactory:p}]}]}],it.ctorParameters=function(){return[]};var st=function(){function t(){}return t}();st.decorators=[{type:v.B,args:[{providers:[{provide:ot,useFactory:d,deps:[W,J]},F,{provide:J,useClass:X},{provide:T,useClass:I},{provide:W,useClass:H}]}]}],st.ctorParameters=function(){return[]};new v.Y("4.4.5")},CQyF:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=function(t){function e(e,n){t.call(this),this.error=e,this.scheduler=n}return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.error;t.subscriber.error(e)},e.prototype._subscribe=function(t){var n=this.error,r=this.scheduler;if(t.syncErrorThrowable=!0,r)return r.schedule(e.dispatch,0,{error:n,subscriber:t});t.error(n)},e}(o.Observable);e.ErrorObservable=i},CXR1:function(t,e,n){"use strict";var r=n("bKpL"),o=n("tpuU");r.Observable.prototype.zipAll=o.zipAll},Cipy:function(t,e,n){"use strict";function r(t,e,n){var r;return o.multicast.call(this,function(){return this._isComplete?r:r=new i.ReplaySubject(t,e,n)}).refCount()}var o=n("gonN"),i=n("0imh");e.shareReplay=r},D84Q:function(t,e,n){"use strict";var r=n("bKpL"),o=n("NUku");r.Observable.prototype.buffer=o.buffer},DP67:function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var o=n("zijX");e.getSymbolObservable=r,e.observable=r(o.root),e.$$observable=e.observable},De29:function(t,e,n){"use strict";var r=n("bKpL"),o=n("NgMz");r.Observable.prototype.findIndex=o.findIndex},Dqrr:function(t,e,n){"use strict";var r=n("rlar");e.Subject=r.Subject,e.AnonymousSubject=r.AnonymousSubject;var o=n("bKpL");e.Observable=o.Observable,n("amjc"),n("p3u8"),n("vJ3t"),n("JSgX"),n("VsKd"),n("hbO+"),n("GPwi"),n("XL2q"),n("Xtvq"),n("ZXBV"),n("7u+W"),n("d3kC"),n("okgN"),n("ACG2"),n("JNTq"),n("Af4u"),n("dyFf"),n("/zHi"),n("bprQ"),n("mjW1"),n("B/As"),n("W5L8"),n("S7im"),n("BdLl"),n("tcot"),n("o/OZ"),n("4JlW"),n("D84Q"),n("i4mq"),n("t8nJ"),n("LTTx"),n("UVHa"),n("xpf9"),n("rp90"),n("6DBm"),n("R0J0"),n("+Ve+"),n("7rqg"),n("oOL0"),n("vKg+"),n("E2ib"),n("p3bn"),n("azLz"),n("A1r7"),n("l3Q+"),n("TnjP"),n("9wNb"),n("MBEm"),n("mDYJ"),n("eqpX"),n("ptvE"),n("h+is"),n("89am"),n("afTc"),n("gbhw"),n("zc4d"),n("MaQZ"),n("De29"),n("ZQKz"),n("zZnE"),n("IpZT"),n("StS+"),n("pkLr"),n("qNQE"),n("dy5W"),n("ykQW"),n("r+/7"),n("5v8a"),n("iwys"),n("BBvl"),n("ScG9"),n("ub06"),n("5p6H"),n("RpuY"),n("srZQ"),n("SKRq"),n("pHO4"),n("PatI"),n("XR71"),n("NOvV"),n("Uvlg"),n("Lssd"),n("Ozq5"),n("VML3"),n("LClL"),n("HUu4"),n("vtHn"),n("dgXD"),n("Plqt"),n("UD+B"),n("/amm"),n("v6xs"),n("svCP"),n("+0Ji"),n("VXtB"),n("6NKQ"),n("9lCb"),n("qm+V"),n("g3vg"),n("z69B"),n("vfw3"),n("zdWg"),n("j8RC"),n("67Ck"),n("9jMf"),n("kIyd"),n("mvrJ"),n("Pic8"),n("1pbG"),n("5uCp"),n("bN7U"),n("q07K"),n("86mp"),n("OGSH"),n("YFUQ"),n("UbPm"),n("uGEk"),n("9mSN"),n("vNV3"),n("IUpl"),n("82j9"),n("Z2Sm"),n("eumZ"),n("RNRn"),n("sSYo"),n("kAWK"),n("asHm"),n("ItUe"),n("CXR1");var i=n("xFbG");e.Subscription=i.Subscription;var s=n("T14+");e.Subscriber=s.Subscriber;var a=n("l6Wf");e.AsyncSubject=a.AsyncSubject;var u=n("0imh");e.ReplaySubject=u.ReplaySubject;var c=n("gvep");e.BehaviorSubject=c.BehaviorSubject;var l=n("xKl2");e.ConnectableObservable=l.ConnectableObservable;var h=n("3lsR");e.Notification=h.Notification;var p=n("TpsG");e.EmptyError=p.EmptyError;var f=n("uT+d");e.ArgumentOutOfRangeError=f.ArgumentOutOfRangeError;var d=n("Lhvy");e.ObjectUnsubscribedError=d.ObjectUnsubscribedError;var y=n("0L2s");e.TimeoutError=y.TimeoutError;var v=n("Emqh");e.UnsubscriptionError=v.UnsubscriptionError;var m=n("H9QY");e.TimeInterval=m.TimeInterval;var g=n("olOS");e.Timestamp=g.Timestamp;var b=n("MIR9");e.TestScheduler=b.TestScheduler;var _=n("I64N");e.VirtualTimeScheduler=_.VirtualTimeScheduler;var w=n("HPkd");e.AjaxResponse=w.AjaxResponse,e.AjaxError=w.AjaxError,e.AjaxTimeoutError=w.AjaxTimeoutError;var E=n("wEhC"),C=n("IhB/"),S=n("yR50"),O=n("ruZE"),T=n("dkwD"),I=n("2B7B"),N=n("DP67"),A={asap:E.asap,queue:S.queue,animationFrame:O.animationFrame,async:C.async};e.Scheduler=A;var P={rxSubscriber:T.rxSubscriber,observable:N.observable,iterator:I.iterator};e.Symbol=P},Dvgu:function(t,e,n){t.exports=n("tYwN")},E2ib:function(t,e,n){"use strict";var r=n("bKpL"),o=n("SJ56");r.Observable.prototype.dematerialize=o.dematerialize},EAgh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return r.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();e.TransactionResult=o},Emqh:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(e,t),e}(Error);e.UnsubscriptionError=o},EqqR:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("/byE");e.assert=function(t,n){if(!t)throw e.assertionError(n)},e.assertionError=function(t){return new Error("Firebase Database ("+r.CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)}},EsGe:function(t,e,n){"use strict";function r(t){return!o.isArray(t)&&t-parseFloat(t)+1>=0}var o=n("NSJx");e.isNumeric=r},"F/7+":function(t,e,n){"use strict";var r=n("0I3B");e.zip=r.zipStatic},F1yO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=n("JEJ4"),i=n("JEJ4"),s=n("JEJ4"),a=n("JEJ4"),u=n("JEJ4"),c=n("Rgd9"),l=n("JEJ4");e.LUIDGenerator=function(){var t=1;return function(){return t++}}(),e.sha1=function(t){var e=a.stringToByteArray(t),n=new s.Sha1;n.update(e);var r=n.digest();return i.base64.encodeByteArray(r)};var h=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++)Array.isArray(t[r])||t[r]&&"object"==typeof t[r]&&"number"==typeof t[r].length?n+=h.apply(null,t[r]):"object"==typeof t[r]?n+=u.stringify(t[r]):n+=t[r],n+=" ";return n};e.logger=null;var p=!0;e.enableLogging=function(t,n){r.assert(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?("undefined"!=typeof console&&("function"==typeof console.log?e.logger=console.log.bind(console):"object"==typeof console.log&&(e.logger=function(t){console.log(t)})),n&&c.SessionStorage.set("logging_enabled",!0)):"function"==typeof t?e.logger=t:(e.logger=null,c.SessionStorage.remove("logging_enabled"))},e.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!0===p&&(p=!1,null===e.logger&&!0===c.SessionStorage.get("logging_enabled")&&e.enableLogging(!0)),e.logger){var r=h.apply(null,t);e.logger(r)}},e.logWrapper=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.log.apply(void 0,[t].concat(n))}},e.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if("undefined"!=typeof console){var n="FIREBASE INTERNAL ERROR: "+h.apply(void 0,t);void 0!==console.error?console.error(n):console.log(n)}},e.fatal=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=h.apply(void 0,t);throw new Error("FIREBASE FATAL ERROR: "+n)},e.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if("undefined"!=typeof console){var n="FIREBASE WARNING: "+h.apply(void 0,t);void 0!==console.warn?console.warn(n):console.log(n)}},e.warnIfPageIsSecure=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&e.warn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},e.warnAboutUnsupportedMethod=function(t){e.warn(t+" is unsupported and will likely change soon.  Please do not use.")},e.isInvalidJSONNumber=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},e.executeWhenDOMReady=function(t){if(l.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){if(!document.body)return void setTimeout(n,Math.floor(10));e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},e.MIN_NAME="[MIN_NAME]",e.MAX_NAME="[MAX_NAME]",e.nameCompare=function(t,n){if(t===n)return 0;if(t===e.MIN_NAME||n===e.MAX_NAME)return-1;if(n===e.MIN_NAME||t===e.MAX_NAME)return 1;var r=e.tryParseInt(t),o=e.tryParseInt(n);return null!==r?null!==o?r-o==0?t.length-n.length:r-o:-1:null!==o?1:t<n?-1:1},e.stringCompare=function(t,e){return t===e?0:t<e?-1:1},e.requireKey=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+u.stringify(e))},e.ObjectToUniqueKey=function(t){if("object"!=typeof t||null===t)return u.stringify(t);var n=[];for(var r in t)n.push(r);n.sort();for(var o="{",i=0;i<n.length;i++)0!==i&&(o+=","),o+=u.stringify(n[i]),o+=":",o+=e.ObjectToUniqueKey(t[n[i]]);return o+="}"},e.splitStringBySize=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r},e.each=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else o.forEach(t,function(t,n){return e(n,t)})},e.bindCallback=function(t,e){return e?t.bind(e):t},e.doubleToIEEE754String=function(t){r.assert(!e.isInvalidJSONNumber(t),"Invalid JSON number");var n,o,i,s,a,u,c;for(0===t?(o=0,i=0,n=1/t==-1/0?1:0):(n=t<0,t=Math.abs(t),t>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),o=s+1023,i=Math.round(t*Math.pow(2,52-s)-Math.pow(2,52))):(o=0,i=Math.round(t/Math.pow(2,-1074)))),u=[],a=52;a;a-=1)u.push(i%2?1:0),i=Math.floor(i/2);for(a=11;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(n?1:0),u.reverse(),c=u.join("");var l="";for(a=0;a<64;a+=8){var h=parseInt(c.substr(a,8),2).toString(16);1===h.length&&(h="0"+h),l+=h}return l.toLowerCase()},e.isChromeExtensionContentScript=function(){return!("object"!=typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},e.isWindowsStoreApp=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI},e.errorForServerCode=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},e.INTEGER_REGEXP_=new RegExp("^-?\\d{1,10}$"),e.tryParseInt=function(t){if(e.INTEGER_REGEXP_.test(t)){var n=Number(t);if(n>=-2147483648&&n<=2147483647)return n}return null},e.exceptionGuard=function(t){try{t()}catch(t){setTimeout(function(){var n=t.stack||"";throw e.warn("Exception was thrown by user callback.",n),t},Math.floor(0))}},e.callUserCallback=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];"function"==typeof t&&e.exceptionGuard(function(){t.apply(void 0,n)})},e.beingCrawled=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},e.exportPropGetter=function(t,e,n){Object.defineProperty(t,e,{get:n})},e.setTimeoutNonBlocking=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n}},FGYS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("qYrH"),o=n("9ard"),i=n("F1yO"),s=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[r.BrowserPollConnection,o.WebSocketConnection]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=o.WebSocketConnection&&o.WebSocketConnection.isAvailable(),r=n&&!o.WebSocketConnection.previouslyFailed();if(e.webSocketOnly&&(n||i.warn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[o.WebSocketConnection];else{var s=this.transports_=[];i.each(t.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&s.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();e.TransportManager=s},FOvx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("fvGz"),o=n("gOHv"),i=function(){function t(t,e){this.source=t,this.path=e,this.type=o.OperationType.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,r.Path.Empty):new t(this.source,this.path.popFront())},t}();e.ListenComplete=i},Fhmd:function(t,e,n){"use strict";var r=n("jUlM");e.forkJoin=r.ForkJoinObservable.create},Fi2k:function(t,e,n){"use strict";function r(t,e){return this.lift(new h(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("rlar"),s=n("xFbG"),a=n("RdI5"),u=n("XRvs"),c=n("yW9Z"),l=n("ktfo");e.windowToggle=r;var h=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.openings,this.closingSelector))},t}(),p=function(t){function e(e,n,r){t.call(this,e),this.openings=n,this.closingSelector=r,this.contexts=[],this.add(this.openSubscription=l.subscribeToResult(this,n,n))}return o(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var n=e.length,r=0;r<n;r++)e[r].window.next(t)},e.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,o=-1;++o<r;){var i=n[o];i.window.error(e),i.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,r=-1;++r<n;){var o=e[r];o.window.complete(),o.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,n=-1;++n<e;){var r=t[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,n,r,o){if(t===this.openings){var c=this.closingSelector,h=a.tryCatch(c)(e);if(h===u.errorObject)return this.error(u.errorObject.e);var p=new i.Subject,f=new s.Subscription,d={window:p,subscription:f};this.contexts.push(d);var y=l.subscribeToResult(this,h,d);y.closed?this.closeWindow(this.contexts.length-1):(y.context=d,f.add(y)),this.destination.next(p)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,n=e[t],r=n.window,o=n.subscription;e.splice(t,1),r.complete(),o.unsubscribe()}},e}(c.OuterSubscriber)},Fpv1:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("Io40"),i=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return r(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(o.AsyncAction);e.QueueAction=i},Fq81:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("fclq"),i=n("bKpL"),s=n("xFbG"),a=function(t){function e(e,n,r){t.call(this),this.addHandler=e,this.removeHandler=n,this.selector=r}return r(e,t),e.create=function(t,n,r){return new e(t,n,r)},e.prototype._subscribe=function(t){var e=this,n=this.removeHandler,r=this.selector?function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];e._callSelector(t,n)}:function(e){t.next(e)},i=this._callAddHandler(r,t);o.isFunction(n)&&t.add(new s.Subscription(function(){n(r,i)}))},e.prototype._callSelector=function(t,e){try{var n=this.selector.apply(this,e);t.next(n)}catch(e){t.error(e)}},e.prototype._callAddHandler=function(t,e){try{return this.addHandler(t)||null}catch(t){e.error(t)}},e}(i.Observable);e.FromEventPatternObservable=a},Fwmd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return r.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}();e.MemoryStorage=o},G0Qy:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("JEJ4"),i=n("F1yO"),s=n("GboV"),a=n("R3TC"),u=n("p+VM"),c=n("43Go"),l=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,o.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return r(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),o=n.compareTo(r);return 0===o?i.nameCompare(t.name,e.name):o},e.prototype.makePost=function(t,e){var n=c.nodeFromJSON(t),r=a.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,n);return new u.NamedNode(e,r)},e.prototype.maxPost=function(){var t=a.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,a.MAX_NODE);return new u.NamedNode(i.MAX_NAME,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(s.Index);e.PathIndex=l},"GB+a":function(t,e,n){"use strict";function r(t,e){return this.lift(new u(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("RdI5"),a=n("XRvs");e.sequenceEqual=r;var u=function(){function t(t,e){this.compareTo=t,this.comparor=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.compareTo,this.comparor))},t}();e.SequenceEqualOperator=u;var c=function(t){function e(e,n,r){t.call(this,e),this.compareTo=n,this.comparor=r,this._a=[],this._b=[],this._oneComplete=!1,this.add(n.subscribe(new l(e,this)))}return o(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e.prototype.checkValues=function(){for(var t=this,e=t._a,n=t._b,r=t.comparor;e.length>0&&n.length>0;){var o=e.shift(),i=n.shift(),u=!1;r?(u=s.tryCatch(r)(o,i))===a.errorObject&&this.destination.error(a.errorObject.e):u=o===i,u||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e}(i.Subscriber);e.SequenceEqualSubscriber=c;var l=function(t){function e(e,n){t.call(this,e),this.parent=n}return o(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t)},e.prototype._complete=function(){this.parent._complete()},e}(i.Subscriber)},GEki:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("y8hQ"),o=function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}();e.NoCompleteChildSource_=o,e.NO_COMPLETE_CHILD_SOURCE=new o;var i=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new r.CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),o=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===o.length?null:o[0]},t}();e.WriteTreeCompleteChildSource=i},GPwi:function(t,e,n){"use strict";var r=n("bKpL"),o=n("Fhmd");r.Observable.forkJoin=o.forkJoin},GboV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("p+VM"),o=n("F1yO"),i=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new r.NamedNode(o.MIN_NAME,t),i=new r.NamedNode(o.MIN_NAME,e);return 0!==this.compare(n,i)},t.prototype.minPost=function(){return r.NamedNode.MIN},t}();e.Index=i},GnQ5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=n("xfHL"),i=n("fvGz"),s=n("/fob"),a=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return r.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return r.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return r.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return r.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){r.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),o.validatePathString("DataSnapshot.child",1,e,!1);var n=new i.Path(e),a=this.ref_.child(n);return new t(this.node_.getChild(n),a,s.PRIORITY_INDEX)},t.prototype.hasChild=function(t){r.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),o.validatePathString("DataSnapshot.hasChild",1,t,!1);var e=new i.Path(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return r.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return r.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),r.validateCallback("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,o){return e(new t(o,n.ref_.child(r),s.PRIORITY_INDEX))})},t.prototype.hasChildren=function(){return r.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return r.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return r.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}();e.DataSnapshot=a},GoZW:function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return i.map.call(this,o(t,n))}function o(t,e){return function(n){for(var r=n,o=0;o<e;o++){var i=r[t[o]];if(void 0===i)return;r=i}return r}}var i=n("lx+J");e.pluck=r},H6Sg:function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}e.isObject=r},H9QY:function(t,e,n){"use strict";function r(t){return void 0===t&&(t=s.async),this.lift(new u(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("IhB/");e.timeInterval=r;var a=function(){function t(t,e){this.value=t,this.interval=e}return t}();e.TimeInterval=a;var u=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.scheduler))},t}(),c=function(t){function e(e,n){t.call(this,e),this.scheduler=n,this.lastTime=0,this.lastTime=n.now()}return o(e,t),e.prototype._next=function(t){var e=this.scheduler.now(),n=e-this.lastTime;this.lastTime=e,this.destination.next(new a(t,n))},e}(i.Subscriber)},HAwn:function(t,e,n){"use strict";function r(t){return"string"==typeof t}function o(t){return"function"==typeof t.exportVal}function i(t){return void 0===t||null===t}function s(t){return"function"==typeof t.set}function a(t,e){return s(e)?e:t.database().ref(e)}function u(t,e){if(r(t))return e.stringCase();if(s(t))return e.firebaseCase();if(o(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function c(t,e,n){void 0===n&&(n="on");var r=new P.Observable(function(r){var o=t[n](e,function(t,e){r.next({snapshot:t,prevKey:e}),"once"==n&&r.complete()},r.error.bind(r));return"on"==n?{unsubscribe:function(){t.off(e,o)}}:{unsubscribe:function(){}}}).map(function(t){var n=t.snapshot,r=t.prevKey,o=null;return n.exists()&&(o=n.key),{type:e,payload:n,prevKey:r,key:o}}).delay(0);return R.observeOn.call(r,new A.e(Zone.current)).share()}function l(t,e){return c(t,"value","once").switchMap(function(n){var r=[P.Observable.of(n)];return e.forEach(function(e){return r.push(c(t,e))}),P.Observable.merge.apply(P.Observable,r).scan(f,[])}).distinctUntilChanged()}function h(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function p(t,e){if(i(e))return 0;var n=h(t,e);return-1===n?t.length:n+1}function f(t,e){var n=e.payload,r=(e.type,e.prevKey),o=e.key,i=h(t,o),s=p(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){var a=null;e.payload.forEach(function(e){var n={payload:e,type:"value",prevKey:a,key:e.key};return a=e.key,t=t.concat([n]),!1})}return t;case"child_added":if(i>-1){var u=t[i-1];(u&&u.key||null)!=r&&(t=t.filter(function(t){return t.payload.key!==n.key}),t.splice(s,0,e))}else{if(null==r)return[e].concat(t);t=t.slice(),t.splice(s,0,e)}return t;case"child_removed":return t.filter(function(t){return t.payload.key!==n.key});case"child_changed":return t.map(function(t){return t.payload.key===o?e:t});case"child_moved":if(i>-1){var c=t.splice(i,1)[0];return t=t.slice(),t.splice(s,0,c),t}return t;default:return t}}function d(t){return(i(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function y(t,e){return e=d(e),l(t,e)}function v(t){return function(e){return m(t,e)}}function m(t,e){e=d(e);var n=e.map(function(e){return c(t,e)});return P.Observable.merge.apply(P.Observable,n)}function g(t){return function(e){return b(t,e)}}function b(t,e){return w(t,m(t,e).scan(function(t,e){return t.concat([e])},[]))}function _(t){return c(t,"value").map(function(t){var e;return t.payload.forEach(function(t){return e=t.key,!1}),{data:t,lastKeyToLoad:e}})}function w(t,e){return _(t).withLatestFrom(e).map(function(t){var e=t[0],n=t[1];return{actions:n,lastKeyToLoad:e.lastKeyToLoad,loadedKeys:n.map(function(t){return t.key})}}).skipWhile(function(t){return-1===t.loadedKeys.indexOf(t.lastKeyToLoad)}).map(function(t){return t.actions})}function E(t,e){return function(n,r){return u(n,{stringCase:function(){return t.child(n)[e](r)},firebaseCase:function(){return n[e](r)},snapshotCase:function(){return n.ref[e](r)}})}}function C(t){return function(e){return e?u(e,{stringCase:function(){return t.child(e).remove()},firebaseCase:function(){return e.remove()},snapshotCase:function(){return e.ref.remove()}}):t.remove()}}function S(t){return{query:t,update:E(t.ref,"update"),set:E(t.ref,"set"),push:function(e){return t.ref.push(e)},remove:C(t.ref),snapshotChanges:function(e){return y(t,e)},stateChanges:v(t),auditTrail:g(t),valueChanges:function(e){return y(t,e).map(function(t){return t.map(function(t){return t.payload.val()})})}}}function O(t){return function(){return c(t,"value")}}function T(t){return{query:t,snapshotChanges:O(t),update:function(e){return t.ref.update(e)},set:function(e){return t.ref.set(e)},remove:function(){return t.ref.remove()},valueChanges:function(){return O(t)().map(function(t){return t.payload.exists()?t.payload.val():null})}}}function I(t){return new x(t)}var N=n("/oeL"),A=(n("Dvgu"),n("13je")),P=n("bKpL"),R=n("AHF9"),x=(n("5v8a"),n("l3Q+"),n("qm+V"),n("6NKQ"),n("JNTq"),n("/zHi"),n("Pic8"),n("gbhw"),n("MBEm"),n("67Ck"),n("asHm"),function(){function t(t){this.app=t,this.database=t.database()}return t.prototype.list=function(t,e){var n=a(this.app,t),r=n;return e&&(r=e(n)),S(r)},t.prototype.object=function(t){return T(a(this.app,t))},t.prototype.createPushId=function(){return this.database.ref().push().key},t.decorators=[{type:N.u}],t.ctorParameters=function(){return[{type:A.b}]},t}()),k={provide:x,useFactory:I,deps:[A.b]},D=[k],M=function(){function t(){}return t.decorators=[{type:N.B,args:[{imports:[A.a],providers:[D]}]}],t.ctorParameters=function(){return[]},t}();n.d(e,"a",function(){return x}),n.d(e,!1,function(){return l}),n.d(e,!1,function(){return S}),n.d(e,!1,function(){return y}),n.d(e,!1,function(){return v}),n.d(e,!1,function(){return m}),n.d(e,!1,function(){return g}),n.d(e,!1,function(){return b}),n.d(e,!1,function(){return c}),n.d(e,"c",function(){return I}),n.d(e,!1,function(){return k}),n.d(e,!1,function(){return D}),n.d(e,"b",function(){return M})},HHMl:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("I2Y9"),i=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(o.AsyncScheduler);e.QueueScheduler=i},HPkd:function(t,e,n){"use strict";function r(){if(p.root.XMLHttpRequest)return new p.root.XMLHttpRequest;if(p.root.XDomainRequest)return new p.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function o(){if(p.root.XMLHttpRequest)return new p.root.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(t=e[n],new p.root.ActiveXObject(t))break}catch(t){}return new p.root.ActiveXObject(t)}catch(t){throw new Error("XMLHttpRequest is not supported by your browser")}}function i(t,e){return void 0===e&&(e=null),new g({method:"GET",url:t,headers:e})}function s(t,e,n){return new g({method:"POST",url:t,body:e,headers:n})}function a(t,e){return new g({method:"DELETE",url:t,headers:e})}function u(t,e,n){return new g({method:"PUT",url:t,body:e,headers:n})}function c(t,e,n){return new g({method:"PATCH",url:t,body:e,headers:n})}function l(t,e){return new g({method:"GET",url:t,responseType:"json",headers:e}).lift(new m.MapOperator(function(t,e){return t.response},null))}var h=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},p=n("zijX"),f=n("RdI5"),d=n("XRvs"),y=n("bKpL"),v=n("T14+"),m=n("lx+J");e.ajaxGet=i,e.ajaxPost=s,e.ajaxDelete=a,e.ajaxPut=u,e.ajaxPatch=c,e.ajaxGetJSON=l;var g=function(t){function e(e){t.call(this);var n={async:!0,createXHR:function(){return this.crossDomain?r.call(this):o()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)n.url=e;else for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);this.request=n}return h(e,t),e.prototype._subscribe=function(t){return new b(t,this.request)},e.create=function(){var t=function(t){return new e(t)};return t.get=i,t.post=s,t.delete=a,t.put=u,t.patch=c,t.getJSON=l,t}(),e}(y.Observable);e.AjaxObservable=g;var b=function(t){function e(e,n){t.call(this,e),this.request=n,this.done=!1;var r=n.headers=n.headers||{};n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in r||p.root.FormData&&n.body instanceof p.root.FormData||void 0===n.body||(r["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=this.serializeBody(n.body,n.headers["Content-Type"]),this.send()}return h(e,t),e.prototype.next=function(t){this.done=!0;var e=this,n=e.xhr,r=e.request,o=e.destination,i=new _(t,n,r);o.next(i)},e.prototype.send=function(){var t=this,e=t.request,n=t.request,r=n.user,o=n.method,i=n.url,s=n.async,a=n.password,u=n.headers,c=n.body,l=e.createXHR,h=f.tryCatch(l).call(e);if(h===d.errorObject)this.error(d.errorObject.e);else{this.xhr=h,this.setupEvents(h,e);if((r?f.tryCatch(h.open).call(h,o,i,s,r,a):f.tryCatch(h.open).call(h,o,i,s))===d.errorObject)return this.error(d.errorObject.e),null;if(s&&(h.timeout=e.timeout,h.responseType=e.responseType),"withCredentials"in h&&(h.withCredentials=!!e.withCredentials),this.setHeaders(h,u),(c?f.tryCatch(h.send).call(h,c):f.tryCatch(h.send).call(h))===d.errorObject)return this.error(d.errorObject.e),null}return h},e.prototype.serializeBody=function(t,e){if(!t||"string"==typeof t)return t;if(p.root.FormData&&t instanceof p.root.FormData)return t;if(e){var n=e.indexOf(";");-1!==n&&(e=e.substring(0,n))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(e){return encodeURI(e)+"="+encodeURI(t[e])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},e.prototype.setHeaders=function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setRequestHeader(n,e[n])},e.prototype.setupEvents=function(t,e){function n(t){var e=n,r=e.subscriber,o=e.progressSubscriber,i=e.request;o&&o.error(t),r.error(new E(this,i))}function r(t){var e=r,n=e.subscriber,o=e.progressSubscriber,i=e.request;if(4===this.readyState){var s=1223===this.status?204:this.status,a="text"===this.responseType?this.response||this.responseText:this.response;0===s&&(s=a?200:0),200<=s&&s<300?(o&&o.complete(),n.next(t),n.complete()):(o&&o.error(t),n.error(new w("ajax error "+s,this,i)))}}var o=e.progressSubscriber;if(t.ontimeout=n,n.request=e,n.subscriber=this,n.progressSubscriber=o,t.upload&&"withCredentials"in t){if(o){var i;i=function(t){i.progressSubscriber.next(t)},p.root.XDomainRequest?t.onprogress=i:t.upload.onprogress=i,i.progressSubscriber=o}var s;s=function(t){var e=s,n=e.progressSubscriber,r=e.subscriber,o=e.request;n&&n.error(t),r.error(new w("ajax error",this,o))},t.onerror=s,s.request=e,s.subscriber=this,s.progressSubscriber=o}t.onreadystatechange=r,r.subscriber=this,r.progressSubscriber=o,r.request=e},e.prototype.unsubscribe=function(){var e=this,n=e.done,r=e.xhr;!n&&r&&4!==r.readyState&&"function"==typeof r.abort&&r.abort(),t.prototype.unsubscribe.call(this)},e}(v.Subscriber);e.AjaxSubscriber=b;var _=function(){function t(t,e,n){switch(this.originalEvent=t,this.xhr=e,this.request=n,this.status=e.status,this.responseType=e.responseType||n.responseType,this.responseType){case"json":this.response="response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null");break;case"xml":this.response=e.responseXML;break;case"text":default:this.response="response"in e?e.response:e.responseText}}return t}();e.AjaxResponse=_;var w=function(t){function e(e,n,r){t.call(this,e),this.message=e,this.xhr=n,this.request=r,this.status=n.status}return h(e,t),e}(Error);e.AjaxError=w;var E=function(t){function e(e,n){t.call(this,"ajax timeout",e,n)}return h(e,t),e}(w);e.AjaxTimeoutError=E},HTfL:function(t,e,n){"use strict";var r=n("CQyF");e._throw=r.ErrorObservable.create},HUu4:function(t,e,n){"use strict";var r=n("bKpL"),o=n("AzAY");r.Observable.prototype.publishReplay=o.publishReplay},Htcq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=n("F1yO"),i=n("rbSf"),s=n("R3TC"),a=n("JEJ4"),u=n("dVae"),c=n("FOvx"),l=n("/68J"),h=n("gOHv"),p=n("kCHx"),f=n("fvGz"),d=n("uCc5"),y=n("B2QA"),v=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=u.ImmutableTree.Empty,this.pendingWriteTree_=new y.WriteTree,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new p.Overwrite(h.OperationSource.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=u.ImmutableTree.fromObject(e);return this.applyOperationToSyncPoints_(new l.Merge(h.OperationSource.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=u.ImmutableTree.Empty;return null!=n.snap?r=r.set(f.Path.Empty,!0):a.forEach(n.children,function(t,e){r=r.set(new f.Path(t),e)}),this.applyOperationToSyncPoints_(new i.AckUserWrite(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new p.Overwrite(h.OperationSource.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=u.ImmutableTree.fromObject(e);return this.applyOperationToSyncPoints_(new l.Merge(h.OperationSource.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new c.ListenComplete(h.OperationSource.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var o=this.queryKeyForTag_(r);if(null!=o){var i=t.parseQueryKey_(o),s=i.path,a=i.queryId,u=f.Path.relativePath(s,e),c=new p.Overwrite(h.OperationSource.forServerTaggedQuery(a),u,n);return this.applyTaggedOperation_(s,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var o=this.queryKeyForTag_(r);if(o){var i=t.parseQueryKey_(o),s=i.path,a=i.queryId,c=f.Path.relativePath(s,e),p=u.ImmutableTree.fromObject(n),d=new l.Merge(h.OperationSource.forServerTaggedQuery(a),c,p);return this.applyTaggedOperation_(s,d)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var o=t.parseQueryKey_(r),i=o.path,s=o.queryId,a=f.Path.relativePath(i,e),u=new c.ListenComplete(h.OperationSource.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(i,u)}return[]},t.prototype.addEventRegistration=function(e,n){var o=e.path,i=null,a=!1;this.syncPointTree_.foreachOnPath(o,function(t,e){var n=f.Path.relativePath(t,o);i=i||e.getCompleteServerCache(n),a=a||e.hasCompleteView()});var u=this.syncPointTree_.get(o);u?(a=a||u.hasCompleteView(),i=i||u.getCompleteServerCache(f.Path.Empty)):(u=new d.SyncPoint,this.syncPointTree_=this.syncPointTree_.set(o,u));var c;if(null!=i)c=!0;else{c=!1,i=s.ChildrenNode.EMPTY_NODE;this.syncPointTree_.subtree(o).foreachChild(function(t,e){var n=e.getCompleteServerCache(f.Path.Empty);n&&(i=i.updateImmediateChild(t,n))})}var l=u.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var h=t.makeQueryKey_(e);r.assert(!(h in this.queryToTagMap_),"View does not exist, but we have a tag");var p=t.getNextQueryTag_();this.queryToTagMap_[h]=p,this.tagToQueryMap_["_"+p]=h}var y=this.pendingWriteTree_.childWrites(o),v=u.addEventRegistration(e,n,y,i,c);if(!l&&!a){var m=u.viewForQuery(e);v=v.concat(this.setupListener_(e,m))}return v},t.prototype.removeEventRegistration=function(e,n,r){var o=this,i=e.path,s=this.syncPointTree_.get(i),a=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var u=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(i));var c=u.removed;a=u.events;var l=-1!==c.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(i,function(t,e){return e.hasCompleteView()});if(l&&!h){var p=this.syncPointTree_.subtree(i);if(!p.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(p),d=0;d<f.length;++d){var y=f[d],v=y.getQuery(),m=this.createListenerForView_(y);this.listenProvider_.startListening(t.queryForListening_(v),this.tagForQuery_(v),m.hashFn,m.onComplete)}}if(!h&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else c.forEach(function(e){var n=o.queryToTagMap_[t.makeQueryKey_(e)];o.listenProvider_.stopListening(t.queryForListening_(e),n)});this.removeTags_(c)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=f.Path.relativePath(e,t),o=n.getCompleteServerCache(r);if(o)return o});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView()){return[e.getCompleteView()]}var r=[];return e&&(r=e.getQueryViews()),a.forEach(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var o=t.makeQueryKey_(r),i=this.queryToTagMap_[o];delete this.queryToTagMap_[o],delete this.tagToQueryMap_["_"+i]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var o=e.path,i=this.tagForQuery_(e),s=this.createListenerForView_(n),u=this.listenProvider_.startListening(t.queryForListening_(e),i,s.hashFn,s.onComplete),c=this.syncPointTree_.subtree(o);if(i)r.assert(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),a.forEach(n,function(t,e){r=r.concat(e)}),r}),h=0;h<l.length;++h){var p=l[h];this.listenProvider_.stopListening(t.queryForListening_(p),this.tagForQuery_(p))}return u},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||s.ChildrenNode.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=o.errorForServerCode(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return r.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new f.Path(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return a.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);r.assert(n,"Missing sync point for query tag that we're tracking");var o=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,o,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(f.Path.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var o=e.get(f.Path.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(f.Path.Empty));var i=[],s=t.path.getFront(),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=r.child(s);i=i.concat(this.applyOperationHelper_(a,u,c,l))}return o&&(i=i.concat(o.applyOperation(t,r,n))),i},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var o=this,i=e.get(f.Path.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(f.Path.Empty));var s=[];return e.children.inorderTraversal(function(e,i){var a=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(s=s.concat(o.applyOperationDescendantsHelper_(c,i,a,u)))}),i&&(s=s.concat(i.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}();e.SyncTree=v},HyAm:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("I2Y9"),i=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<o&&(t=n.shift()));if(this.active=!1,e){for(;++r<o&&(t=n.shift());)t.unsubscribe();throw e}},e}(o.AsyncScheduler);e.AsapScheduler=i},Hyt9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();e.Deferred=r},I2Y9:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("1VPd"),i=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return r(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}},e}(o.Scheduler);e.AsyncScheduler=i},I3ay:function(t,e,n){"use strict";function r(){return this.lift(new o.MergeAllOperator(1))}var o=n("TIdC");e.concatAll=r},I64N:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("Io40"),i=n("I2Y9"),s=function(t){function e(e,n){var r=this;void 0===e&&(e=a),void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this,e,function(){return r.frame}),this.maxFrames=n,this.frame=0,this.index=-1}return r(e,t),e.prototype.flush=function(){for(var t,e,n=this,r=n.actions,o=n.maxFrames;(e=r.shift())&&(this.frame=e.delay)<=o&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=r.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(i.AsyncScheduler);e.VirtualTimeScheduler=s;var a=function(t){function e(e,n,r){void 0===r&&(r=e.index+=1),t.call(this,e,n),this.scheduler=e,this.work=n,this.index=r,this.active=!0,this.index=e.index=r}return r(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var o=new e(this.scheduler,this.work);return this.add(o),o.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var o=t.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(o.AsyncAction);e.VirtualAction=a},IOeT:function(t,e,n){"use strict";function r(t){return this.lift(new o.CombineLatestOperator(t))}var o=n("+c7d");e.combineAll=r},IUpl:function(t,e,n){"use strict";var r=n("bKpL"),o=n("Y+l6");r.Observable.prototype.toArray=o.toArray},"IhB/":function(t,e,n){"use strict";var r=n("Io40"),o=n("I2Y9");e.async=new o.AsyncScheduler(r.AsyncAction)},Io40:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("zijX"),i=n("XNum"),s=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n,this.pending=!1}return r(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),o.root.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){return void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending?e:o.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(i.Action);e.AsyncAction=s},IpZT:function(t,e,n){"use strict";var r=n("bKpL"),o=n("ZQVD");r.Observable.prototype.ignoreElements=o.ignoreElements},IqVs:function(t,e,n){"use strict";var r=n("zijX"),o=function(){function t(t){t.requestAnimationFrame?(this.cancelAnimationFrame=t.cancelAnimationFrame.bind(t),this.requestAnimationFrame=t.requestAnimationFrame.bind(t)):t.mozRequestAnimationFrame?(this.cancelAnimationFrame=t.mozCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.mozRequestAnimationFrame.bind(t)):t.webkitRequestAnimationFrame?(this.cancelAnimationFrame=t.webkitCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.webkitRequestAnimationFrame.bind(t)):t.msRequestAnimationFrame?(this.cancelAnimationFrame=t.msCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.msRequestAnimationFrame.bind(t)):t.oRequestAnimationFrame?(this.cancelAnimationFrame=t.oCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.oRequestAnimationFrame.bind(t)):(this.cancelAnimationFrame=t.clearTimeout.bind(t),this.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)})}return t}();e.RequestAnimationFrameDefinition=o,e.AnimationFrame=new o(r.root)},ItUe:function(t,e,n){"use strict";var r=n("bKpL"),o=n("0I3B");r.Observable.prototype.zip=o.zipProto},JCUt:function(t,e,n){"use strict";function r(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&(t[r]=o(t[r],e[r]));return t}function i(t,e,n){t[e]=n}Object.defineProperty(e,"__esModule",{value:!0}),e.deepCopy=r,e.deepExtend=o,e.patchProperty=i},JCyH:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("qIlB"),i=n("Io40"),s=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return r(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=o.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(o.Immediate.clearImmediate(n),e.scheduled=void 0)},e}(i.AsyncAction);e.AsapAction=s},JEJ4:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("EqqR")),r(n("e9+7")),r(n("/byE")),r(n("JCUt")),r(n("Hyt9")),r(n("U4XL")),r(n("COMn")),r(n("WH8D")),r(n("NYZW")),r(n("/ygB")),r(n("NeHU")),r(n("uzI5")),r(n("Xp63")),r(n("Tmcl")),r(n("2mdx"))},JNTq:function(t,e,n){"use strict";var r=n("bKpL"),o=n("LEug");r.Observable.merge=o.merge},JSgX:function(t,e,n){"use strict";var r=n("bKpL"),o=n("7kbP");r.Observable.concat=o.concat},K5Xx:function(t,e,n){"use strict";function r(t){return t?i.multicast.call(this,function(){return new o.Subject},t):i.multicast.call(this,new o.Subject)}var o=n("rlar"),i=n("gonN");e.publish=r},KH1l:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gOHv"),o=n("JEJ4"),i=n("/0OS"),s=n("ertD"),a=n("R3TC"),u=n("stu6"),c=n("dVae"),l=n("fvGz"),h=n("GEki"),p=function(){function t(t,e){this.viewCache=t,this.changes=e}return t}();e.ProcessorResult=p;var f=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){o.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),o.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,s,a){var u,c,l=new i.ChildChangeAccumulator;if(n.type===r.OperationType.OVERWRITE){var h=n;h.source.fromUser?u=this.applyUserOverwrite_(e,h.path,h.snap,s,a,l):(o.assert(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.getServerCache().isFiltered()&&!h.path.isEmpty(),u=this.applyServerOverwrite_(e,h.path,h.snap,s,a,c,l))}else if(n.type===r.OperationType.MERGE){var f=n;f.source.fromUser?u=this.applyUserMerge_(e,f.path,f.children,s,a,l):(o.assert(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.getServerCache().isFiltered(),u=this.applyServerMerge_(e,f.path,f.children,s,a,c,l))}else if(n.type===r.OperationType.ACK_USER_WRITE){var d=n;u=d.revert?this.revertUserWrite_(e,d.path,s,a,l):this.ackUserWrite_(e,d.path,d.affectedTree,s,a,l)}else{if(n.type!==r.OperationType.LISTEN_COMPLETE)throw o.assertionError("Unknown operation type: "+n.type);u=this.listenComplete_(e,n.path,s,l)}var y=l.getChanges();return t.maybeAddValueEvent_(e,u,y),new p(u,y)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(s.Change.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var s=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var u=void 0,c=void 0;if(e.isEmpty())if(o.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var l=t.getCompleteServerSnap(),h=l instanceof a.ChildrenNode?l:a.ChildrenNode.EMPTY_NODE,p=n.calcCompleteEventChildren(h);u=this.filter_.updateFullNode(t.getEventCache().getNode(),p,i)}else{var f=n.calcCompleteEventCache(t.getCompleteServerSnap());u=this.filter_.updateFullNode(t.getEventCache().getNode(),f,i)}else{var d=e.getFront();if(".priority"==d){o.assert(1==e.getLength(),"Can't have a priority with additional path components");var y=s.getNode();c=t.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(e,y,c);u=null!=v?this.filter_.updatePriority(y,v):s.getNode()}else{var m=e.popFront(),g=void 0;if(s.isCompleteForChild(d)){c=t.getServerCache().getNode();var b=n.calcEventCacheAfterServerOverwrite(e,s.getNode(),c);g=null!=b?s.getNode().getImmediateChild(d).updateChild(m,b):s.getNode().getImmediateChild(d)}else g=n.calcCompleteChild(d,t.getServerCache());u=null!=g?this.filter_.updateChild(s.getNode(),d,g,m,r,i):s.getNode()}}return t.updateEventSnap(u,s.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,o,i,s){var a,u=t.getServerCache(),c=i?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);a=c.updateFullNode(u.getNode(),l,null)}else{var p=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),d=u.getNode().getImmediateChild(p),y=d.updateChild(f,n);a=".priority"==p?c.updatePriority(u.getNode(),y):c.updateChild(u.getNode(),p,y,f,h.NO_COMPLETE_CHILD_SOURCE,null)}var v=t.updateServerSnap(a,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),m=new h.WriteTreeCompleteChildSource(r,v,o);return this.generateEventCacheAfterServerEvent_(v,e,r,m,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,o,i){var s,u,c=t.getEventCache(),l=new h.WriteTreeCompleteChildSource(r,t,o);if(e.isEmpty())u=this.filter_.updateFullNode(t.getEventCache().getNode(),n,i),s=t.updateEventSnap(u,!0,this.filter_.filtersNodes());else{var p=e.getFront();if(".priority"===p)u=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(u,c.isFullyInitialized(),c.isFiltered());else{var f=e.popFront(),d=c.getNode().getImmediateChild(p),y=void 0;if(f.isEmpty())y=n;else{var v=l.getCompleteChild(p);y=null!=v?".priority"===f.getBack()&&v.getChild(f.parent()).isEmpty()?v:v.updateChild(f,n):a.ChildrenNode.EMPTY_NODE}if(d.equals(y))s=t;else{var m=this.filter_.updateChild(c.getNode(),p,y,f,l,i);s=t.updateEventSnap(m,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,o,i,s){var a=this,u=e;return r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=a.applyUserOverwrite_(u,l,c,o,i,s))}),r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=a.applyUserOverwrite_(u,l,c,o,i,s))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,o,i,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,h=t;u=e.isEmpty()?n:c.ImmutableTree.Empty.setTree(e,n);var p=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(p.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),c=a.applyMerge_(u,n);h=a.applyServerOverwrite_(h,new l.Path(e),c,r,o,i,s)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!p.hasChild(e)&&!u){var c=t.getServerCache().getNode().getImmediateChild(e),f=a.applyMerge_(c,n);h=a.applyServerOverwrite_(h,new l.Path(e),f,r,o,i,s)}}),h},t.prototype.ackUserWrite_=function(t,e,n,r,o,i){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,o,s,i);if(e.isEmpty()){var h=c.ImmutableTree.Empty;return a.getNode().forEachChild(u.KEY_INDEX,function(t,e){h=h.set(new l.Path(t),e)}),this.applyServerMerge_(t,e,h,r,o,s,i)}return t}var p=c.ImmutableTree.Empty;return n.foreach(function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(p=p.set(t,a.getNode().getChild(r)))}),this.applyServerMerge_(t,e,p,r,o,s,i)},t.prototype.listenComplete_=function(t,e,n,r){var o=t.getServerCache(),i=t.updateServerSnap(o.getNode(),o.isFullyInitialized()||e.isEmpty(),o.isFiltered());return this.generateEventCacheAfterServerEvent_(i,e,n,h.NO_COMPLETE_CHILD_SOURCE,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var s;if(null!=n.shadowingWrite(e))return t;var u=new h.WriteTreeCompleteChildSource(n,t,r),c=t.getEventCache().getNode(),p=void 0;if(e.isEmpty()||".priority"===e.getFront()){var f=void 0;if(t.getServerCache().isFullyInitialized())f=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var d=t.getServerCache().getNode();o.assert(d instanceof a.ChildrenNode,"serverChildren would be complete if leaf node"),f=n.calcCompleteEventChildren(d)}f=f,p=this.filter_.updateFullNode(c,f,i)}else{var y=e.getFront(),v=n.calcCompleteChild(y,t.getServerCache());null==v&&t.getServerCache().isCompleteForChild(y)&&(v=c.getImmediateChild(y)),p=null!=v?this.filter_.updateChild(c,y,v,e.popFront(),u,i):t.getEventCache().getNode().hasChild(y)?this.filter_.updateChild(c,y,a.ChildrenNode.EMPTY_NODE,e.popFront(),u,i):c,p.isEmpty()&&t.getServerCache().isFullyInitialized()&&(s=n.calcCompleteEventCache(t.getCompleteServerSnap()),s.isLeafNode()&&(p=this.filter_.updateFullNode(p,s,i)))}return s=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(l.Path.Empty),t.updateEventSnap(p,s,this.filter_.filtersNodes())},t}();e.ViewProcessor=f},"Kt+M":function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(o.apply(void 0,[this].concat(t)))}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null,r=t;return s.isScheduler(r[t.length-1])&&(n=r.pop()),null===n&&1===t.length&&t[0]instanceof i.Observable?t[0]:new a.ArrayObservable(t,n).lift(new u.MergeAllOperator(1))}var i=n("bKpL"),s=n("MicL"),a=n("wZOE"),u=n("TIdC");e.concat=r,e.concatStatic=o},Kuy3:function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=0),this.lift(new i(t,e))}var o=n("P+lj");e.subscribeOn=r;var i=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new o.SubscribeOnObservable(e,this.delay,this.scheduler).subscribe(t)},t}()},LBqD:function(t,e,n){"use strict";function r(){return this.lift(new s)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.pairwise=r;var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){t.call(this,e),this.hasPrev=!1}return o(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(i.Subscriber)},LClL:function(t,e,n){"use strict";var r=n("bKpL"),o=n("saEi");r.Observable.prototype.publishBehavior=o.publishBehavior},LEug:function(t,e,n){"use strict";var r=n("ViUi");e.merge=r.mergeStatic},LTTx:function(t,e,n){"use strict";var r=n("bKpL"),o=n("xAqS");r.Observable.prototype.bufferToggle=o.bufferToggle},Lhvy:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ObjectUnsubscribedError=o},LiYJ:function(t,e,n){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},Lqs2:function(t,e,n){"use strict";function r(t){return 0===t?new a.EmptyObservable:this.lift(new u(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("uT+d"),a=n("fcnB");e.take=r;var u=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}return o(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(i.Subscriber)},Lssd:function(t,e,n){"use strict";var r=n("bKpL"),o=n("WmO6");r.Observable.prototype.partition=o.partition},M11L:function(t,e,n){"use strict";function r(){return function(){function t(){this._values=[]}return t.prototype.add=function(t){this.has(t)||this._values.push(t)},t.prototype.has=function(t){return-1!==this._values.indexOf(t)},Object.defineProperty(t.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._values.length=0},t}()}var o=n("zijX");e.minimalSetImpl=r,e.Set=o.root.Set||r()},MBEm:function(t,e,n){"use strict";var r=n("bKpL"),o=n("kGJb");r.Observable.prototype.distinctUntilChanged=o.distinctUntilChanged},MIR9:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=n("3lsR"),s=n("iH09"),a=n("XR5H"),u=n("OXmC"),c=n("I64N"),l=750,h=function(t){function e(e){t.call(this,c.VirtualAction,l),this.assertDeepEqual=e,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return r(e,t),e.prototype.createTime=function(t){var n=t.indexOf("|");if(-1===n)throw new Error('marble diagram for time should have a completion marker "|"');return n*e.frameTimeFactor},e.prototype.createColdObservable=function(t,n,r){if(-1!==t.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==t.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');var o=e.parseMarbles(t,n,r),i=new s.ColdObservable(o,this);return this.coldObservables.push(i),i},e.prototype.createHotObservable=function(t,n,r){if(-1!==t.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');var o=e.parseMarbles(t,n,r),i=new a.HotObservable(o,this);return this.hotObservables.push(i),i},e.prototype.materializeInnerObservable=function(t,e){var n=this,r=[];return t.subscribe(function(t){r.push({frame:n.frame-e,notification:i.Notification.createNext(t)})},function(t){r.push({frame:n.frame-e,notification:i.Notification.createError(t)})},function(){r.push({frame:n.frame-e,notification:i.Notification.createComplete()})}),r},e.prototype.expectObservable=function(t,n){var r=this;void 0===n&&(n=null);var s,a=[],u={actual:a,ready:!1},c=e.parseMarblesAsSubscriptions(n).unsubscribedFrame;return this.schedule(function(){s=t.subscribe(function(t){var e=t;t instanceof o.Observable&&(e=r.materializeInnerObservable(e,r.frame)),a.push({frame:r.frame,notification:i.Notification.createNext(e)})},function(t){a.push({frame:r.frame,notification:i.Notification.createError(t)})},function(){a.push({frame:r.frame,notification:i.Notification.createComplete()})})},0),c!==Number.POSITIVE_INFINITY&&this.schedule(function(){return s.unsubscribe()},c),this.flushTests.push(u),{toBe:function(t,n,r){u.ready=!0,u.expected=e.parseMarbles(t,n,r,!0)}}},e.prototype.expectSubscriptions=function(t){var n={actual:t,ready:!1};return this.flushTests.push(n),{toBe:function(t){var r="string"==typeof t?[t]:t;n.ready=!0,n.expected=r.map(function(t){return e.parseMarblesAsSubscriptions(t)})}}},e.prototype.flush=function(){for(var e=this.hotObservables;e.length>0;)e.shift().setup();t.prototype.flush.call(this);for(var n=this.flushTests.filter(function(t){return t.ready});n.length>0;){var r=n.shift();this.assertDeepEqual(r.actual,r.expected)}},e.parseMarblesAsSubscriptions=function(t){if("string"!=typeof t)return new u.SubscriptionLog(Number.POSITIVE_INFINITY);for(var e=t.length,n=-1,r=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,i=0;i<e;i++){var s=i*this.frameTimeFactor,a=t[i];switch(a){case"-":case" ":break;case"(":n=s;break;case")":n=-1;break;case"^":if(r!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");r=n>-1?n:s;break;case"!":if(o!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");o=n>-1?n:s;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+a+"'.")}}return o<0?new u.SubscriptionLog(r):new u.SubscriptionLog(r,o)},e.parseMarbles=function(t,e,n,r){if(void 0===r&&(r=!1),-1!==t.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var o=t.length,a=[],u=t.indexOf("^"),c=-1===u?0:u*-this.frameTimeFactor,l="object"!=typeof e?function(t){return t}:function(t){return r&&e[t]instanceof s.ColdObservable?e[t].messages:e[t]},h=-1,p=0;p<o;p++){var f=p*this.frameTimeFactor+c,d=void 0,y=t[p];switch(y){case"-":case" ":break;case"(":h=f;break;case")":h=-1;break;case"|":d=i.Notification.createComplete();break;case"^":break;case"#":d=i.Notification.createError(n||"error");break;default:d=i.Notification.createNext(l(y))}d&&a.push({frame:h>-1?h:f,notification:d})}return a},e}(c.VirtualTimeScheduler);e.TestScheduler=h},MaQZ:function(t,e,n){"use strict";var r=n("bKpL"),o=n("etEa");r.Observable.prototype.find=o.find},MicL:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}e.isScheduler=r},MzWM:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=n("ktfo"),s=n("yW9Z"),a=function(t){function e(e){t.call(this),this.observableFactory=e}return r(e,t),e.create=function(t){return new e(t)},e.prototype._subscribe=function(t){return new u(t,this.observableFactory)},e}(o.Observable);e.DeferObservable=a;var u=function(t){function e(e,n){t.call(this,e),this.factory=n,this.tryDefer()}return r(e,t),e.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},e.prototype._callFactory=function(){var t=this.factory();t&&this.add(i.subscribeToResult(this,t))},e}(s.OuterSubscriber)},NOvV:function(t,e,n){"use strict";var r=n("bKpL"),o=n("Pf4u");r.Observable.prototype.onErrorResumeNext=o.onErrorResumeNext},NSJx:function(t,e,n){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},NUku:function(t,e,n){"use strict";function r(t){return this.lift(new a(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),s=n("ktfo");e.buffer=r;var a=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.closingNotifier))},t}(),u=function(t){function e(e,n){t.call(this,e),this.buffer=[],this.add(s.subscribeToResult(this,n))}return o(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,n,r,o){var i=this.buffer;this.buffer=[],this.destination.next(i)},e}(i.OuterSubscriber)},NYZW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("e9+7"),o=n("WH8D");e.decode=function(t){var e={},n={},i={},s="";try{var a=t.split(".");e=o.jsonEval(r.base64Decode(a[0])||""),n=o.jsonEval(r.base64Decode(a[1])||""),s=a[2],i=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:i,signature:s}},e.isValidTimestamp=function(t){var n,r,o=e.decode(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof o&&(o.hasOwnProperty("nbf")?n=o.nbf:o.hasOwnProperty("iat")&&(n=o.iat),r=o.hasOwnProperty("exp")?o.exp:n+86400),i&&n&&r&&i>=n&&i<=r},e.issuedAtTime=function(t){var n=e.decode(t).claims;return"object"==typeof n&&n.hasOwnProperty("iat")?n.iat:null},e.isValidFormat=function(t){var n=e.decode(t),r=n.claims;return!!n.signature&&!!r&&"object"==typeof r&&r.hasOwnProperty("iat")},e.isAdmin=function(t){var n=e.decode(t).claims;return"object"==typeof n&&!0===n.admin}},NZPJ:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=n("MicL"),s=function(t){return t},a=function(t){function e(e,n,r,o,i){t.call(this),this.initialState=e,this.condition=n,this.iterate=r,this.resultSelector=o,this.scheduler=i}return r(e,t),e.create=function(t,n,r,o,a){return 1==arguments.length?new e(t.initialState,t.condition,t.iterate,t.resultSelector||s,t.scheduler):void 0===o||i.isScheduler(o)?new e(t,n,r,s,o):new e(t,n,r,o,a)},e.prototype._subscribe=function(t){var n=this.initialState;if(this.scheduler)return this.scheduler.schedule(e.dispatch,0,{subscriber:t,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:n});for(var r=this,o=r.condition,i=r.resultSelector,s=r.iterate;;){if(o){var a=void 0;try{a=o(n)}catch(e){return void t.error(e)}if(!a){t.complete();break}}var u=void 0;try{u=i(n)}catch(e){return void t.error(e)}if(t.next(u),t.closed)break;try{n=s(n)}catch(e){return void t.error(e)}}},e.dispatch=function(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(t){return void e.error(t)}if(!r)return void e.complete();if(e.closed)return}var o;try{o=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(o),!e.closed))return this.schedule(t)}},e}(o.Observable);e.GenerateObservable=a},NeHU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("/ygB");e.querystring=function(t){var e=[];return r.forEach(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e}},NgMz:function(t,e,n){"use strict";function r(t,e){return this.lift(new o.FindValueOperator(t,this,!0,e))}var o=n("etEa");e.findIndex=r},NkQZ:function(t,e,n){"use strict";function r(t,e){return this.lift(new a(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),s=n("ktfo");e.switchMapTo=r;var a=function(){function t(t,e){this.observable=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.observable,this.resultSelector))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.inner=n,this.resultSelector=r,this.index=0}return o(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=s.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,o){var i=this,s=i.resultSelector,a=i.destination;s?this.tryResultSelector(t,e,n,r):a.next(e)},e.prototype.tryResultSelector=function(t,e,n,r){var o,i=this,s=i.resultSelector,a=i.destination;try{o=s(t,e,n,r)}catch(t){return void a.error(t)}a.next(o)},e}(i.OuterSubscriber)},Nq7v:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("GboV"),i=n("p+VM"),s=n("F1yO"),a=n("43Go"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?s.nameCompare(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return i.NamedNode.MIN},e.prototype.maxPost=function(){return i.NamedNode.MAX},e.prototype.makePost=function(t,e){var n=a.nodeFromJSON(t);return new i.NamedNode(e,n)},e.prototype.toString=function(){return".value"},e}(o.Index);e.ValueIndex=u,e.VALUE_INDEX=new u},OADz:function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return this.lift(new a(r,n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),s=n("ktfo");e.withLatestFrom=r;var a=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.observables,this.project))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.observables=n,this.project=r,this.toRespond=[];var o=n.length;this.values=new Array(o);for(var i=0;i<o;i++)this.toRespond.push(i);for(var i=0;i<o;i++){var a=n[i];this.add(s.subscribeToResult(this,a,a,i))}}return o(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.values[n]=e;var i=this.toRespond;if(i.length>0){var s=i.indexOf(n);-1!==s&&i.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.OuterSubscriber)},OCM8:function(t,e,n){"use strict";function r(){return i.multicast.call(this,new o.AsyncSubject)}var o=n("l6Wf"),i=n("gonN");e.publishLast=r},OGSH:function(t,e,n){"use strict";var r=n("bKpL"),o=n("c2EU");r.Observable.prototype.throttle=o.throttle},OWbQ:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("NSJx"),i=n("lhZu"),s=n("mUVF"),a=n("mihg"),u=n("TA58"),c=n("wZOE"),l=n("wCVK"),h=n("2B7B"),p=n("bKpL"),f=n("AHF9"),d=n("DP67"),y=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return r(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[d.observable])return t instanceof p.Observable&&!n?t:new e(t,n);if(o.isArray(t))return new c.ArrayObservable(t,n);if(s.isPromise(t))return new a.PromiseObservable(t,n);if("function"==typeof t[h.iterator]||"string"==typeof t)return new u.IteratorObservable(t,n);if(i.isArrayLike(t))return new l.ArrayLikeObservable(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[d.observable]().subscribe(t):e[d.observable]().subscribe(new f.ObserveOnSubscriber(t,n,0))},e}(p.Observable);e.FromObservable=y},OXmC:function(t,e,n){"use strict";var r=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.subscribedFrame=t,this.unsubscribedFrame=e}return t}();e.SubscriptionLog=r},Obns:function(t,e,n){"use strict";function r(t){return this.lift(new a(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),s=n("ktfo");e.debounce=r;var a=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.durationSelector))},t}(),u=function(t){function e(e,n){t.call(this,e),this.durationSelector=n,this.hasValue=!1,this.durationSubscription=null}return o(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),n=s.subscribeToResult(this,e),n.closed||this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(t,e,n,r,o){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(i.OuterSubscriber)},OdUO:function(t,e,n){"use strict";function r(t,e){return this.lift(new a(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("uT+d");e.elementAt=r;var a=function(){function t(t,e){if(this.index=t,this.defaultValue=e,t<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.index,this.defaultValue))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.index=n,this.defaultValue=r}return o(e,t),e.prototype._next=function(t){0==this.index--&&(this.destination.next(t),this.destination.complete())},e.prototype._complete=function(){var t=this.destination;this.index>=0&&(void 0!==this.defaultValue?t.next(this.defaultValue):t.error(new s.ArgumentOutOfRangeError)),t.complete()},e}(i.Subscriber)},Ohh6:function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t[t.length-1];u.isScheduler(n)?t.pop():n=null;var r=t.length;return 1===r?a.concatStatic(new i.ScalarObservable(t[0],n),this):r>1?a.concatStatic(new o.ArrayObservable(t,n),this):a.concatStatic(new s.EmptyObservable(n),this)}var o=n("wZOE"),i=n("aOKN"),s=n("fcnB"),a=n("Kt+M"),u=n("MicL");e.startWith=r},OzfH:function(t,e,n){"use strict";function r(t){var e=new Uint8Array(t);return window.btoa(String.fromCharCode.apply(null,e))}function o(t){var e=function(t){return self&&"ServiceWorkerGlobalScope"in self?new R(t):new N(t)},n={Messaging:N};t.INTERNAL.registerService("messaging",e,n)}Object.defineProperty(e,"__esModule",{value:!0});var i,s=n("JEJ4"),a={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key"},u=(i={},i[a.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",i[a.AVAILABLE_IN_SW]="This method is available in a service worker context.",i[a.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",i[a.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",i[a.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",i[a.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",i[a.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",i[a.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",i[a.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",i[a.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",i[a.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",i[a.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",i[a.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",i[a.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",i[a.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",i[a.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",i[a.USE_SW_BEFORE_GET_TOKEN]="You must call useServiceWorker() before calling getToken() to ensure your service worker is used.",i[a.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",i[a.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",i[a.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",i[a.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",i[a.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",i[a.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",i[a.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",i[a.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",i[a.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",i[a.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",i[a.BAD_SCOPE]="The service worker scope must be a string with at least one character.",i[a.BAD_VAPID_KEY]="The public VAPID key must be a string with at least one character.",i[a.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",i[a.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",i[a.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",i[a.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",i),c={codes:a,map:u},l=function(t){return r(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},h=[4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110],p={userVisibleOnly:!0,applicationServerKey:new Uint8Array(h)},f={ENDPOINT:"https://fcm.googleapis.com",APPLICATION_SERVER_KEY:h,SUBSCRIPTION_OPTIONS:p},d="fcm_token_object_Store",y=function(){function t(){this.errorFactory_=new s.ErrorFactory("messaging","Messaging",c.map),this.openDbPromise_=null}return t.prototype.openDatabase_=function(){return this.openDbPromise_?this.openDbPromise_:(this.openDbPromise_=new Promise(function(e,n){var r=indexedDB.open(t.DB_NAME,1);r.onerror=function(t){n(t.target.error)},r.onsuccess=function(t){e(t.target.result)},r.onupgradeneeded=function(t){var e=t.target.result,n=e.createObjectStore(d,{keyPath:"swScope"});n.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),n.createIndex("fcmToken","fcmToken",{unique:!0})}}),this.openDbPromise_)},t.prototype.closeDatabase=function(){var t=this;return this.openDbPromise_?this.openDbPromise_.then(function(e){e.close(),t.openDbPromise_=null}):Promise.resolve()},t.prototype.getTokenDetailsFromToken=function(t){return this.openDatabase_().then(function(e){return new Promise(function(n,r){var o=e.transaction([d]),i=o.objectStore(d),s=i.index("fcmToken"),a=s.get(t);a.onerror=function(t){r(t.target.error)},a.onsuccess=function(t){n(t.target.result)}})})},t.prototype.getTokenDetailsFromSWScope_=function(t){return this.openDatabase_().then(function(e){return new Promise(function(n,r){var o=e.transaction([d]),i=o.objectStore(d),s=i.get(t);s.onerror=function(t){r(t.target.error)},s.onsuccess=function(t){n(t.target.result)}})})},t.prototype.getAllTokenDetailsForSenderId_=function(t){return this.openDatabase_().then(function(e){return new Promise(function(n,r){var o=e.transaction([d]),i=o.objectStore(d),s=[],a=i.openCursor();a.onerror=function(t){r(t.target.error)},a.onsuccess=function(e){var r=e.target.result;r?(r.value.fcmSenderId===t&&s.push(r.value),r.continue()):n(s)}})})},t.prototype.subscribeToFCM=function(t,e,n){var r=this,o=l(e.getKey("p256dh")),i=l(e.getKey("auth")),s="authorized_entity="+t+"&endpoint="+e.endpoint+"&encryption_key="+o+"&encryption_auth="+i;n&&(s+="&pushSet="+n);var a=new Headers;a.append("Content-Type","application/x-www-form-urlencoded");var u={method:"POST",headers:a,body:s};return fetch(f.ENDPOINT+"/fcm/connect/subscribe",u).then(function(t){return t.json()}).then(function(t){var e=t;if(e.error){var n=e.error.message;throw r.errorFactory_.create(c.codes.TOKEN_SUBSCRIBE_FAILED,{message:n})}if(!e.token)throw r.errorFactory_.create(c.codes.TOKEN_SUBSCRIBE_NO_TOKEN);if(!e.pushSet)throw r.errorFactory_.create(c.codes.TOKEN_SUBSCRIBE_NO_PUSH_SET);return{token:e.token,pushSet:e.pushSet}})},t.prototype.isSameSubscription_=function(t,e){return t.endpoint===e.endpoint&&l(t.getKey("auth"))===e.auth&&l(t.getKey("p256dh"))===e.p256dh},t.prototype.saveTokenDetails_=function(t,e,n,r,o){var i={swScope:e.scope,endpoint:n.endpoint,auth:l(n.getKey("auth")),p256dh:l(n.getKey("p256dh")),fcmToken:r,fcmPushSet:o,fcmSenderId:t};return this.openDatabase_().then(function(t){return new Promise(function(e,n){var r=t.transaction([d],"readwrite"),o=r.objectStore(d),s=o.put(i);s.onerror=function(t){n(t.target.error)},s.onsuccess=function(t){e()}})})},t.prototype.getSavedToken=function(t,e){var n=this;return e instanceof ServiceWorkerRegistration?"string"!=typeof t||0===t.length?Promise.reject(this.errorFactory_.create(c.codes.BAD_SENDER_ID)):this.getAllTokenDetailsForSenderId_(t).then(function(n){if(0!==n.length){var r=n.findIndex(function(n){return e.scope===n.swScope&&t===n.fcmSenderId});if(-1!==r)return n[r]}}).then(function(t){if(t)return e.pushManager.getSubscription().catch(function(t){throw n.errorFactory_.create(c.codes.GET_SUBSCRIPTION_FAILED)}).then(function(e){if(e&&n.isSameSubscription_(e,t))return t.fcmToken})}):Promise.reject(this.errorFactory_.create(c.codes.SW_REGISTRATION_EXPECTED))},t.prototype.createToken=function(t,e){var n=this;if("string"!=typeof t||0===t.length)return Promise.reject(this.errorFactory_.create(c.codes.BAD_SENDER_ID));if(!(e instanceof ServiceWorkerRegistration))return Promise.reject(this.errorFactory_.create(c.codes.SW_REGISTRATION_EXPECTED));var r,o;return e.pushManager.getSubscription().then(function(t){return t||e.pushManager.subscribe(f.SUBSCRIPTION_OPTIONS)}).then(function(e){return r=e,n.subscribeToFCM(t,r)}).then(function(i){return o=i,n.saveTokenDetails_(t,e,r,o.token,o.pushSet)}).then(function(){return o.token})},t.prototype.deleteToken=function(t){var e=this;return"string"!=typeof t||0===t.length?Promise.reject(this.errorFactory_.create(c.codes.INVALID_DELETE_TOKEN)):this.getTokenDetailsFromToken(t).then(function(t){if(!t)throw e.errorFactory_.create(c.codes.DELETE_TOKEN_NOT_FOUND);return e.openDatabase_().then(function(n){return new Promise(function(r,o){var i=n.transaction([d],"readwrite"),s=i.objectStore(d),a=s.delete(t.swScope);a.onerror=function(t){o(t.target.error)},a.onsuccess=function(n){if(0===n.target.result)return void o(e.errorFactory_.create(c.codes.FAILED_TO_DELETE_TOKEN));r(t)}})})})},t}(),v=y,m={granted:"granted",default:"default",denied:"denied"},g="messagingSenderId",b=function(){function t(t){var e=this;if(this.errorFactory_=new s.ErrorFactory("messaging","Messaging",c.map),!t.options[g]||"string"!=typeof t.options[g])throw this.errorFactory_.create(c.codes.BAD_SENDER_ID);this.messagingSenderId_=t.options[g],this.tokenManager_=new v,this.app=t,this.INTERNAL={},this.INTERNAL.delete=function(){return e.delete}}return t.prototype.getToken=function(){var t=this,e=this.getNotificationPermission_();return e!==m.granted?e===m.denied?Promise.reject(this.errorFactory_.create(c.codes.NOTIFICATIONS_BLOCKED)):Promise.resolve(null):this.getSWRegistration_().then(function(e){return t.tokenManager_.getSavedToken(t.messagingSenderId_,e).then(function(n){return n||t.tokenManager_.createToken(t.messagingSenderId_,e)})})},t.prototype.deleteToken=function(t){var e=this;return this.tokenManager_.deleteToken(t).then(function(){return e.getSWRegistration_().then(function(t){if(t)return t.pushManager.getSubscription()}).then(function(t){if(t)return t.unsubscribe()})})},t.prototype.getSWRegistration_=function(){throw this.errorFactory_.create(c.codes.SHOULD_BE_INHERITED)},t.prototype.requestPermission=function(){throw this.errorFactory_.create(c.codes.AVAILABLE_IN_WINDOW)},t.prototype.useServiceWorker=function(t){throw this.errorFactory_.create(c.codes.AVAILABLE_IN_WINDOW)},t.prototype.onMessage=function(t,e,n){throw this.errorFactory_.create(c.codes.AVAILABLE_IN_WINDOW)},t.prototype.onTokenRefresh=function(t,e,n){throw this.errorFactory_.create(c.codes.AVAILABLE_IN_WINDOW)},t.prototype.setBackgroundMessageHandler=function(t){throw this.errorFactory_.create(c.codes.AVAILABLE_IN_SW)},t.prototype.delete=function(){return this.tokenManager_.closeDatabase()},t.prototype.getNotificationPermission_=function(){return Notification.permission},t.prototype.getTokenManager=function(){return this.tokenManager_},t}(),_=b,w={TYPE_OF_MSG:"firebase-messaging-msg-type",DATA:"firebase-messaging-msg-data"},E={PUSH_MSG_RECEIVED:"push-msg-received",NOTIFICATION_CLICKED:"notification-clicked"},C=function(t,e){return n={},n[w.TYPE_OF_MSG]=t,n[w.DATA]=e,n;var n},S={PARAMS:w,TYPES_OF_MSG:E,createNewMsg:C},O={path:"/firebase-messaging-sw.js",scope:"/firebase-cloud-messaging-push-scope"},T=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(t){function e(e){var n=t.call(this,e)||this;return n.registrationToUse_,n.manifestCheckPromise_,n.messageObserver_=null,n.onMessage_=Object(s.createSubscribe)(function(t){n.messageObserver_=t}),n.tokenRefreshObserver_=null,n.onTokenRefresh_=Object(s.createSubscribe)(function(t){n.tokenRefreshObserver_=t}),n.setupSWMessageListener_(),n}return T(e,t),e.prototype.getToken=function(){var e=this;return this.isSupported_()?this.manifestCheck_().then(function(){return t.prototype.getToken.call(e)}):Promise.reject(this.errorFactory_.create(c.codes.UNSUPPORTED_BROWSER))},e.prototype.manifestCheck_=function(){var t=this;if(this.manifestCheckPromise_)return this.manifestCheckPromise_;var e=document.querySelector('link[rel="manifest"]');return this.manifestCheckPromise_=e?fetch(e.href).then(function(t){return t.json()}).catch(function(){return Promise.resolve()}).then(function(e){if(e&&e.gcm_sender_id&&"103953800507"!==e.gcm_sender_id)throw t.errorFactory_.create(c.codes.INCORRECT_GCM_SENDER_ID)}):Promise.resolve(),this.manifestCheckPromise_},e.prototype.requestPermission=function(){var t=this;return Notification.permission===m.granted?Promise.resolve():new Promise(function(e,n){var r=function(r){return r===m.granted?e():n(r===m.denied?t.errorFactory_.create(c.codes.PERMISSION_BLOCKED):t.errorFactory_.create(c.codes.PERMISSION_DEFAULT))},o=Notification.requestPermission(function(t){o||r(t)});o&&o.then(r)})},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw this.errorFactory_.create(c.codes.SW_REGISTRATION_EXPECTED);if(void 0!==this.registrationToUse_)throw this.errorFactory_.create(c.codes.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse_=t},e.prototype.onMessage=function(t,e,n){return this.onMessage_(t,e,n)},e.prototype.onTokenRefresh=function(t,e,n){return this.onTokenRefresh_(t,e,n)},e.prototype.waitForRegistrationToActivate_=function(t){var e=this,n=t.installing||t.waiting||t.active;return new Promise(function(r,o){if(!n)return void o(e.errorFactory_.create(c.codes.NO_SW_IN_REG));if("activated"===n.state)return void r(t);if("redundant"===n.state)return void o(e.errorFactory_.create(c.codes.SW_REG_REDUNDANT));var i=function(){if("activated"===n.state)r(t);else{if("redundant"!==n.state)return;o(e.errorFactory_.create(c.codes.SW_REG_REDUNDANT))}n.removeEventListener("statechange",i)};n.addEventListener("statechange",i)})},e.prototype.getSWRegistration_=function(){var t=this;return this.registrationToUse_?this.waitForRegistrationToActivate_(this.registrationToUse_):(this.registrationToUse_=null,navigator.serviceWorker.register(O.path,{scope:O.scope}).catch(function(e){throw t.errorFactory_.create(c.codes.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:e.message})}).then(function(e){return t.waitForRegistrationToActivate_(e).then(function(){return t.registrationToUse_=e,e.update(),e})}))},e.prototype.setupSWMessageListener_=function(){var t=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[S.PARAMS.TYPE_OF_MSG]){var n=e.data;switch(n[S.PARAMS.TYPE_OF_MSG]){case S.TYPES_OF_MSG.PUSH_MSG_RECEIVED:case S.TYPES_OF_MSG.NOTIFICATION_CLICKED:var r=n[S.PARAMS.DATA];t.messageObserver_.next(r)}}},!1)},e.prototype.isSupported_=function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")},e}(_),N=I,A=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=function(t){function e(e){var n=t.call(this,e)||this;return self.addEventListener("push",function(t){return n.onPush_(t)},!1),self.addEventListener("pushsubscriptionchange",function(t){return n.onSubChange_(t)},!1),self.addEventListener("notificationclick",function(t){return n.onNotificationClick_(t)},!1),n.bgMessageHandler_=null,n}return A(e,t),e.prototype.onPush_=function(t){var e,n=this;try{e=t.data.json()}catch(t){return}var r=this.hasVisibleClients_().then(function(t){if(t){if(e.notification||n.bgMessageHandler_)return n.sendMessageToWindowClients_(e)}else{var r=n.getNotificationData_(e);if(r){var o=r.title||"";return self.registration.showNotification(o,r)}if(n.bgMessageHandler_)return n.bgMessageHandler_(e)}});t.waitUntil(r)},e.prototype.onSubChange_=function(t){var e=this,n=this.getToken().then(function(t){if(!t)throw e.errorFactory_.create(c.codes.NO_FCM_TOKEN_FOR_RESUBSCRIBE);var n=null,r=e.getTokenManager();return r.getTokenDetailsFromToken(t).then(function(t){if(!(n=t))throw e.errorFactory_.create(c.codes.INVALID_SAVED_TOKEN);return self.registration.pushManager.subscribe(f.SUBSCRIPTION_OPTIONS)}).then(function(t){return r.subscribeToFCM(n.fcmSenderId,t,n.fcmPushSet)}).catch(function(t){return r.deleteToken(n.fcmToken).then(function(){throw e.errorFactory_.create(c.codes.UNABLE_TO_RESUBSCRIBE,{message:t})})})});t.waitUntil(n)},e.prototype.onNotificationClick_=function(t){var e=this;if(t.notification&&t.notification.data&&t.notification.data.FCM_MSG){t.stopImmediatePropagation(),t.notification.close();var n=t.notification.data.FCM_MSG,r=n.notification.click_action;if(r){var o=this.getWindowClient_(r).then(function(t){return t||self.clients.openWindow(r)}).then(function(t){if(t){n.notification;delete n.notification;var r=S.createNewMsg(S.TYPES_OF_MSG.NOTIFICATION_CLICKED,n);return e.attemptToMessageClient_(t,r)}});t.waitUntil(o)}}},e.prototype.getNotificationData_=function(t){if(t&&"object"==typeof t.notification){var e=Object.assign({},t.notification);return e.data=(n={},n.FCM_MSG=t,n),e;var n}},e.prototype.setBackgroundMessageHandler=function(t){if(t&&"function"!=typeof t)throw this.errorFactory_.create(c.codes.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler_=t},e.prototype.getWindowClient_=function(t){var e=new URL(t).href;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(t){for(var n=null,r=0;r<t.length;r++){if(new URL(t[r].url).href===e){n=t[r];break}}if(n)return n.focus(),n})},e.prototype.attemptToMessageClient_=function(t,e){var n=this;return new Promise(function(r,o){if(!t)return o(n.errorFactory_.create(c.codes.NO_WINDOW_CLIENT_TO_MSG));t.postMessage(e),r()})},e.prototype.hasVisibleClients_=function(){return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(t){return t.some(function(t){return"visible"===t.visibilityState})})},e.prototype.sendMessageToWindowClients_=function(t){var e=this;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(n){var r=S.createNewMsg(S.TYPES_OF_MSG.PUSH_MSG_RECEIVED,t);return Promise.all(n.map(function(t){return e.attemptToMessageClient_(t,r)}))})},e.prototype.getSWRegistration_=function(){return Promise.resolve(self.registration)},e}(_),R=P,x=n("XtH8");e.registerMessaging=o,o(x.default)},Ozq5:function(t,e,n){"use strict";var r=n("bKpL"),o=n("GoZW");r.Observable.prototype.pluck=o.pluck},"P+lj":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=n("wEhC"),s=n("EsGe"),a=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=i.asap),t.call(this),this.source=e,this.delayTime=n,this.scheduler=r,(!s.isNumeric(n)||n<0)&&(this.delayTime=0),r&&"function"==typeof r.schedule||(this.scheduler=i.asap)}return r(e,t),e.create=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=i.asap),new e(t,n,r)},e.dispatch=function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))},e.prototype._subscribe=function(t){var n=this.delayTime,r=this.source;return this.scheduler.schedule(e.dispatch,n,{source:r,subscriber:t})},e}(o.Observable);e.SubscribeOnObservable=a},P9wo:function(module,exports,__webpack_require__){(function(){function l(t){return"string"==typeof t}function ba(){}function ca(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function n(t){return"array"==ca(t)}function da(t){var e=ca(t);return"array"==e||"object"==e&&"number"==typeof t.length}function ea(t){return"function"==ca(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function ha(t,e,n){return t.call.apply(t.bind,arguments)}function ia(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function r(t,e,n){return r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia,r.apply(null,arguments)}function ja(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function u(t,e){function n(){}n.prototype=e.prototype,t.L=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Bb=function(t,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return e.prototype[n].apply(t,o)}}function ka(t){if(Error.captureStackTrace)Error.captureStackTrace(this,ka);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function la(t,e){for(var n=t.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")}function na(t,e){return t<e?-1:t>e?1:0}function oa(t,e){e.unshift(t),ka.call(this,la.apply(null,e)),e.shift()}function pa(t,e){throw new oa("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function w(){0!=ra&&(sa[this[q]||(this[q]=++fa)]=this),this.i=this.i,this.A=this.A}function va(t){t:{for(var e=wa,n=t.length,r=l(t)?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t)){e=o;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}function xa(t){if(!n(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0}function ya(t){return Array.prototype.concat.apply([],arguments)}function za(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function y(t){return-1!=x.indexOf(t)}function Ca(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Da(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function Ea(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function Fa(t){var e,n={};for(e in t)n[e]=t[e];return n}function Ha(t,e){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)t[n]=r[n];for(var i=0;i<Ga.length;i++)n=Ga[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ia(t){return Ia[" "](t),t}function Ja(t,e){var n=Ka;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function Pa(){var t=k.document;return t?t.documentMode:void 0}function Ua(t){return Ja(t,function(){for(var e=0,n=ma(String(Qa)).split("."),r=ma(String(t)).split("."),o=Math.max(n.length,r.length),i=0;0==e&&i<o;i++){var s=n[i]||"",a=r[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=na(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||na(0==s[2].length,0==a[2].length)||na(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}function A(t,e){this.type=t,this.a=this.target=e,this.Qa=!0}function ab(t,e){if(A.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Na){t:{try{Ia(e.nodeName);var o=!0;break t}catch(t){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:bb[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}function db(t){return!(!t||!t[cb])}function fb(t,e,n,r,o){this.listener=t,this.a=null,this.src=e,this.type=n,this.capture=!!r,this.ga=o,this.key=++eb,this.Y=this.ca=!1}function gb(t){t.Y=!0,t.listener=null,t.a=null,t.src=null,t.ga=null}function hb(t){this.src=t,this.a={},this.b=0}function jb(t,e){var n=e.type;if(n in t.a){var r,o=t.a[n],i=ta(o,e);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(gb(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function kb(t,e,n,r,o){return t=t.a[e.toString()],e=-1,t&&(e=ib(t,n,r,o)),-1<e?t[e]:null}function ib(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.Y&&i.listener==e&&i.capture==!!n&&i.ga==r)return o}return-1}function ob(t,e,r,o,i){if(o&&o.once)return pb(t,e,r,o,i);if(n(e)){for(var s=0;s<e.length;s++)ob(t,e[s],r,o,i);return null}return r=qb(r),db(t)?t.aa(e,r,p(o)?!!o.capture:!!o,i):rb(t,e,r,!1,o,i)}function rb(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var s=p(o)?!!o.capture:!!o,a=sb(t);if(a||(t[lb]=a=new hb(t)),n=a.add(e,n,r,s,i),n.a)return n;if(r=tb(),n.a=r,r.src=t,r.listener=n,t.addEventListener)$a||(o=s),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(ub(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return nb++,n}function tb(){var t=vb,e=Ya?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function pb(t,e,r,o,i){if(n(e)){for(var s=0;s<e.length;s++)pb(t,e[s],r,o,i);return null}return r=qb(r),db(t)?t.Ia(e,r,p(o)?!!o.capture:!!o,i):rb(t,e,r,!0,o,i)}function wb(t,e,r,o,i){if(n(e))for(var s=0;s<e.length;s++)wb(t,e[s],r,o,i);else o=p(o)?!!o.capture:!!o,r=qb(r),db(t)?t.wa(e,r,o,i):t&&(t=sb(t))&&(e=kb(t,e,r,o,i))&&xb(e)}function xb(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(db(e))jb(e.c,t);else{var n=t.type,r=t.a;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ub(n),r):e.addListener&&e.removeListener&&e.removeListener(r),nb--,(n=sb(e))?(jb(n,t),0==n.b&&(n.src=null,e[lb]=null)):gb(t)}}}function ub(t){return t in mb?mb[t]:mb[t]="on"+t}function yb(t,e,n,r){var o=!0;if((t=sb(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var i=e[t];i&&i.capture==n&&!i.Y&&(i=zb(i,r),o=o&&!1!==i)}return o}function zb(t,e){var n=t.listener,r=t.ga||t.src;return t.ca&&xb(t),n.call(r,e)}function vb(t,e){if(t.Y)return!0;if(!Ya){if(!e)t:{e=["window","event"];for(var n=k,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(r=e,e=new ab(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=e.a;o;o=o.parentNode)r.push(o);for(t=t.type,o=r.length-1;0<=o;o--){e.a=r[o];var i=yb(r[o],t,!0,e);n=n&&i}for(o=0;o<r.length;o++)e.a=r[o],i=yb(r[o],t,!1,e),n=n&&i}return n}return zb(t,new ab(e,this))}function sb(t){return t=t[lb],t instanceof hb?t:null}function qb(t){return ea(t)?t:(t[Ab]||(t[Ab]=function(e){return t.handleEvent(e)}),t[Ab])}function B(){w.call(this),this.c=new hb(this),this.P=this,this.J=null}function Bb(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var s=e[i];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ga||s.src;s.ca&&jb(t.c,s),o=!1!==a.call(u,r)&&o}}return o&&0!=r.Qa}function Cb(t){return!/^\s*$/.test(t)&&/^[\],:{}\s\u2028\u2029]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function Db(a){if(a=String(a),Cb(a))try{return eval("("+a+")")}catch(t){}throw Error("Invalid JSON string: "+a)}function Eb(t){var e=[];return Fb(new Gb,t,e),e.join("")}function Gb(){}function Fb(t,e,r){if(null==e)r.push("null");else{if("object"==typeof e){if(n(e)){var o=e;e=o.length,r.push("[");for(var i="",s=0;s<e;s++)r.push(i),Fb(t,o[s],r),i=",";return void r.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){r.push("{"),i="";for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&"function"!=typeof(s=e[o])&&(r.push(i),Hb(o,r),r.push(":"),Fb(t,s,r),i=",");return void r.push("}")}e=e.valueOf()}switch(typeof e){case"string":Hb(e,r);break;case"number":r.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":r.push(String(e));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}function Hb(t,e){e.push('"',t.replace(Jb,function(t){var e=Ib[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Ib[t]=e),e}),'"')}function Kb(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function Lb(){this.b=this.a=null}function Ob(){var t=Pb,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Mb(){this.next=this.b=this.a=null}function Qb(t){k.setTimeout(function(){throw t},0)}function Sb(){var t=k.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),o="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=r(function(t){"*"!=o&&t.origin!=o||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,o)}}}),void 0!==t&&!y("Trident")&&!y("MSIE")){var e=new t,n={},o=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.Ba;n.Ba=null,t()}},function(t){o.next={Ba:t},o=o.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){k.setTimeout(t,0)}}function Ub(){if(-1!=String(k.Promise).indexOf("[native code]")){var t=k.Promise.resolve(void 0);Tb=function(){t.then(Vb)}}else Tb=function(){var t=Vb;!ea(k.setImmediate)||k.Window&&k.Window.prototype&&!y("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(Rb||(Rb=Sb()),Rb(t)):k.setImmediate(t)}}function Vb(){for(var t;t=Ob();){try{t.a.call(t.b)}catch(t){Qb(t)}C.g(t),C.b<C.f&&(C.b++,t.next=C.a,C.a=t)}Wb=!1}function Xb(e,n){B.call(this),this.b=e||1,this.a=n||k,this.f=r(this.jb,this),this.g=t()}function Yb(t){t.$=!1,t.K&&(t.a.clearTimeout(t.K),t.K=null)}function Zb(t,e,n){if(ea(t))n&&(t=r(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=r(t.handleEvent,t)}return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function $b(t,e,n){w.call(this),this.f=null!=n?r(t,n):t,this.c=e,this.b=r(this.cb,this),this.a=[]}function ac(t){t.X=Zb(t.b,t.c),t.f.apply(null,t.a)}function D(t){w.call(this),this.b=t,this.a={}}function cc(t){Ca(t.a,function(t,e){this.a.hasOwnProperty(e)&&xb(t)},t),t.a={}}function dc(t,e,n,r,o){this.reset(t,e,n,r,o)}function fc(t){this.f=t,this.b=this.c=this.a=null}function E(t,e){this.name=t,this.value=e}function lc(t){return t.c?t.c:t.a?lc(t.a):(pa("Root logger has no level set."),null)}function oc(t){nc||(nc=new fc(""),mc[""]=nc,nc.c=jc);var e;if(!(e=mc[t])){e=new fc(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=oc(t.substr(0,n)),n.b||(n.b={}),n.b[r]=e,e.a=n,mc[t]=e}return e}function F(t,e){t&&t.log(hc,e,void 0)}function pc(t,e){t&&t.log(ic,e,void 0)}function H(t,e){t&&t.log(kc,e,void 0)}function qc(){this.a=oc("goog.labs.net.webChannel.WebChannelDebug"),this.b=!0}function rc(t,e,n,r,o,i){I(t,function(){if(t.b)if(i)for(var s="",a=i.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+n+"\n"+s})}function sc(t,e,n,r,o,i,s){I(t,function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+n+"\n"+i+" "+s})}function tc(t,e,n,r){I(t,function(){return"XMLHTTP TEXT ("+e+"): "+uc(t,n)+(r?" "+r:"")})}function vc(t,e){I(t,function(){return"TIMEOUT: "+e})}function J(t,e){H(t.a,e)}function wc(t,e,n){(t=t.a)&&t.log(gc,n||"Exception",e)}function I(t,e){pc(t.a,e)}function xc(t,e){(t=t.a)&&t.log(gc,e,void 0)}function uc(t,e){if(!t.b)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(var o=0;o<r.length;o++)if(n(r[o])){var i=r[o];if(!(2>i.length)){var s=i[1];if(n(s)&&!(1>s.length)){var a=s[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<s.length;u++)s[u]=""}}}return Eb(r)}catch(n){return J(t,"Exception parsing expected JS array - probably was not JS"),e}}function zc(t){A.call(this,"serverreachability",t)}function Ac(){yc.dispatchEvent(new zc(yc))}function Bc(t){A.call(this,"statevent",t)}function K(){yc.dispatchEvent(new Bc(yc))}function Cc(t){A.call(this,"timingevent",t)}function Dc(){yc.dispatchEvent(new Cc(yc))}function Ec(t,e){if(!ea(t))throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}function Hc(){}function Ic(t){var e;return(e=t.a)||(e={},Jc(t)&&(e[0]=!0,e[1]=!0),e=t.a=e),e}function Lc(){}function Mc(t){return(t=Jc(t))?new ActiveXObject(t):new XMLHttpRequest}function Jc(t){if(!t.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.b=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.b}function L(t,e,n,r,o){this.i=t,this.b=e,this.f=r,this.T=o||1,this.N=new D(this),this.S=Nc,t=this.H=new Xb,t.b=Oc,t.K&&t.$?(Yb(t),t.start()):t.K&&Yb(t),this.j=null,this.c=!1,this.G=this.g=this.h=this.J=this.C=this.U=this.s=null,this.o=[],this.a=null,this.D=0,this.l=this.m=null,this.B=-1,this.A=!1,this.P=0,this.I=null,this.M=!1}function Pc(t,e){switch(t){case 0:return"Non-200 return code ("+e+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}function Sc(t,e,n){t.J=1,t.h=Tc(M(e)),t.G=n,t.M=!0,Uc(t,null)}function Vc(t,e,n,r){t.J=1,t.h=Tc(M(e)),t.G=null,t.M=n,Uc(t,r)}function Uc(e,n){e.C=t(),Wc(e),e.g=M(e.h),Xc(e.g,"t",e.T),e.D=0,e.a=e.i.da(e.i.ia()?n:null),0<e.P&&(e.I=new $b(r(e.Ra,e,e.a),e.P)),e.N.aa(e.a,"readystatechange",e.gb),n=e.j?Fa(e.j):{},e.G?(e.m||(e.m="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.a.fa(e.g,e.m,e.G,n)):(e.m="GET",e.a.fa(e.g,e.m,null,n)),Ac(),rc(e.b,e.m,e.g,e.f,e.T,e.G)}function Yc(t){var e=N(t.a),n=t.a.Ga();if(!(3>e||3==e&&!La&&!t.a.V())){t.A||4!=e||7==n||Ac(),Zc(t);var r=t.a.W();t.B=r,(n=t.a.V())||J(t.b,function(){return"No response text for uri "+t.g+" status "+r}),t.c=200==r,sc(t.b,t.m,t.g,t.f,t.T,e,r),t.c?(t.M?($c(t,e,n),La&&t.c&&3==e&&ad(t)):(tc(t.b,t.f,n,null),bd(t,n)),4==e&&cd(t),t.c&&!t.A&&(4==e?t.i.va(t):(t.c=!1,Wc(t)))):(400==r&&0<n.indexOf("Unknown SID")?(t.l=3,K(),F(t.b.a,"XMLHTTP Unknown SID ("+t.f+")")):(t.l=0,K(),F(t.b.a,"XMLHTTP Bad status "+r+" ("+t.f+")")),cd(t),dd(t))}}function $c(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var o=ed(t,n);if(o==Rc){4==e&&(t.l=4,K(),r=!1),tc(t.b,t.f,null,"[Incomplete Response]");break}if(o==Qc){t.l=4,K(),tc(t.b,t.f,n,"[Invalid Chunk]"),r=!1;break}tc(t.b,t.f,o,null),bd(t,o)}4==e&&0==n.length&&(t.l=1,K(),r=!1),t.c=t.c&&r,r||(tc(t.b,t.f,n,"[Invalid Chunked Response]"),cd(t),dd(t))}function ad(t){t.N.aa(t.H,"tick",t.fb),t.H.start()}function ed(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Rc:(n=Number(e.substring(n,r)),isNaN(n)?Qc:(r+=1)+n>e.length?Rc:(e=e.substr(r,n),t.D=r+n,e))}function Wc(e){e.U=t()+e.S,fd(e,e.S)}function fd(t,e){if(null!=t.s)throw Error("WatchDog timer not null");t.s=Ec(r(t.eb,t),e)}function Zc(t){t.s&&(k.clearTimeout(t.s),t.s=null)}function dd(t){t.i.Ka()||t.A||t.i.va(t)}function cd(t){Zc(t);var e=t.I;e&&"function"==typeof e.Z&&e.Z(),t.I=null,Yb(t.H),cc(t.N),t.a&&(e=t.a,t.a=null,e.abort(),e.Z())}function bd(t,e){try{t.i.Na(t,e),Ac()}catch(e){wc(t.b,e,"Error in httprequest callback")}}function gd(t){if(t.v&&"function"==typeof t.v)return t.v();if(l(t))return t.split("");if(da(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}return Da(t)}function hd(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(da(t)||l(t))ua(t,e,void 0);else{if(t.O&&"function"==typeof t.O)var n=t.O();else if(t.v&&"function"==typeof t.v)n=void 0;else if(da(t)||l(t)){n=[];for(var r=t.length,o=0;o<r;o++)n.push(o)}else n=Ea(t);r=gd(t),o=r.length;for(var i=0;i<o;i++)e.call(void 0,r[i],n&&n[i],t)}}function O(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t){t instanceof O?(n=t.O(),r=t.v()):(n=Ea(t),r=Da(t));for(var o=0;o<n.length;o++)this.set(n[o],r[o])}}function jd(t){t.b={},t.a.length=0,t.c=0}function kd(t,e){return!!P(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&id(t),!0)}function id(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];P(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var o={};for(n=e=0;e<t.a.length;)r=t.a[e],P(o,r)||(t.a[n++]=r,o[r]=1),e++;t.a.length=n}}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function md(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var i=t[n].substring(0,r);o=t[n].substring(r+1)}else i=t[n];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Q(t,e){this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1;var n;t instanceof Q?(this.h=void 0!==e?e:t.h,nd(this,t.f),this.j=t.j,od(this,t.b),pd(this,t.i),this.a=t.a,qd(this,rd(t.c)),this.g=t.g):t&&(n=String(t).match(ld))?(this.h=!!e,nd(this,n[1]||"",!0),this.j=sd(n[2]||""),od(this,n[3]||"",!0),pd(this,n[4]),this.a=sd(n[5]||"",!0),qd(this,n[6]||"",!0),this.g=sd(n[7]||"")):(this.h=!!e,this.c=new td(null,0,this.h))}function M(t){return new Q(t)}function nd(t,e,n){t.f=n?sd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function od(t,e,n){t.b=n?sd(e,!0):e}function pd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function qd(t,e,n){e instanceof td?(t.c=e,zd(t.c,t.h)):(n||(e=ud(e,Ad)),t.c=new td(e,0,t.h))}function R(t,e,n){t.c.set(e,n)}function Xc(t,e,r){n(r)||(r=[String(r)]),Bd(t.c,e,r)}function Tc(e){return R(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36)),e}function Cd(t){return t instanceof Q?M(t):new Q(t,void 0)}function Dd(t,e,n,r){var o=new Q(null,void 0);return t&&nd(o,t),e&&od(o,e),n&&pd(o,n),r&&(o.a=r),o}function sd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ud(t,e,n){return l(t)?(t=encodeURI(t).replace(e,Ed),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ed(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}function td(t,e,n){this.b=this.a=null,this.c=t||null,this.f=!!n}function S(t){t.a||(t.a=new O,t.b=0,t.c&&md(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Gd(t,e){S(t),e=Fd(t,e),P(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,kd(t.a,e))}function Hd(t,e){return S(t),e=Fd(t,e),P(t.a.b,e)}function Bd(t,e,n){Gd(t,e),0<n.length&&(t.c=null,t.a.set(Fd(t,e),za(n)),t.b+=n.length)}function rd(t){var e=new td;return e.c=t.c,t.a&&(e.a=new O(t.a),e.b=t.b),e}function Fd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function zd(t,e){e&&!t.f&&(S(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Gd(this,e),Bd(this,n,t))},t)),t.f=e}function Id(){this.a=t()}function Kd(){Jd||(Jd=new Id)}function Ld(){Jd||(Jd=new Id)}function Md(){}function Od(){A.call(this,"d")}function Pd(){A.call(this,"c")}function Qd(t,e){this.a=t,this.b=e,this.c=this.i=null,this.h=!1,this.l=null,this.f=-1,this.m=this.g=null}function Rd(t){J(t.b,"TestConnection: starting stage 2");var e=t.a.H.a;if(null!=e)J(t.b,function(){return"Buffered"}),K(),e?(K(),Sd(t.a,t,!1)):(K(),Sd(t.a,t,!0));else{t.c=new L(t,t.b,0,void 0,void 0),t.c.j=t.i;var n=Td(t.a,t.g,t.l);K(),Xc(n,"TYPE","xmlhttp");var r=t.a.j,o=t.a.J;r&&o&&R(n,r,o),Vc(t.c,n,!1,t.g)}}function Vd(){this.a=this.b=null}function T(t){if(this.a=new O,t){t=gd(t);for(var e=t.length,n=0;n<e;n++)this.add(t[n])}}function Wd(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[q]||(t[q]=++fa)):e.charAt(0)+t}function Xd(t,e){this.a=t,this.b=e}function Yd(t){this.g=t||Zd,this.f=k.qa&&k.qa.La&&k.qa.La()&&k.qa.La().Cb?this.g:1,this.a=null,1<this.f&&(this.a=new T),this.b=null,this.c=[]}function $d(t,e){t.a||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(t.f=t.g,t.a=new T,t.b&&(ae(t,t.b),t.b=null))}function be(t){return!!t.b||!!t.a&&t.a.u()>=t.f}function ce(t,e){return t.b?t.b==e:!!t.a&&t.a.contains(e)}function ae(t,e){t.a?t.a.add(e):t.b=e}function de(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.contains(e)&&kd(t.a.a,Wd(e))}function ee(t){if(null!=t.b)return t.c.concat(t.b.o);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return ua(t.a.v(),function(t){e=e.concat(t.o)}),e}return za(t.c)}function fe(t,e){t.c=t.c.concat(e)}function ge(t,e){this.a=t,this.b=e}function he(){this.a=new ge}function ie(t,e,n){var r=n||"";try{hd(t,function(t,n){var o=t;p(t)&&(o=Eb(t)),e.push(r+n+"="+encodeURIComponent(o))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function je(t,e){var n=new qc;J(n,"TestLoadImage: loading "+t);var r=new Image;r.onload=ja(ke,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ja(ke,n,r,"TestLoadImage: error",!1,e),r.onabort=ja(ke,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ja(ke,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}function ke(t,e,n,r,o){try{J(t,n),e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(e){wc(t,e)}}function U(t){B.call(this),this.headers=new O,this.D=t||null,this.f=!1,this.C=this.a=null,this.M=this.s="",this.j=0,this.g="",this.h=this.I=this.o=this.H=!1,this.l=0,this.B=null,this.N=le,this.G=this.m=!1}function qe(t){return z&&Ua(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function wa(t){return"content-type"==t.toLowerCase()}function oe(t,e){t.f=!1,t.a&&(t.h=!0,t.a.abort(),t.h=!1),t.g=e,t.j=5,re(t),se(t)}function re(t){t.H||(t.H=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function te(t){if(t.f&&void 0!==goog)if(t.C[1]&&4==N(t)&&2==t.W())H(t.b,V(t,"Local request error detected and ignored"));else if(t.o&&4==N(t))Zb(t.Ma,0,t);else if(t.dispatchEvent("readystatechange"),4==N(t)){H(t.b,V(t,"Request complete")),t.f=!1;try{var e=t.W();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var o;if(o=0===e){var i=String(t.s).match(ld)[1]||null;if(!i&&k.self&&k.self.location){var s=k.self.location.protocol;i=s.substr(0,s.length-1)}o=!me.test(i?i.toLowerCase():"")}r=o}r?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.j=6,t.g=t.Ha()+" ["+t.W()+"]",re(t))}finally{se(t)}}}function se(t,e){if(t.a){pe(t);var n=t.a,r=t.C[0]?ba:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(gc,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function pe(t){t.a&&t.G&&(t.a.ontimeout=null),t.B&&(k.clearTimeout(t.B),t.B=null)}function N(t){return t.a?t.a.readyState:0}function V(t,e){return e+" ["+t.M+" "+t.s+" "+t.W()+"]"}function ue(t){var e="";return Ca(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function ve(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=ue(n),l(t)){if(e=encodeURIComponent(String(e)),n=null!=n?"="+encodeURIComponent(String(n)):"",e+=n){if(n=t.indexOf("#"),0>n&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var o=""}else o=t.substring(r+1,n);t=[t.substr(0,r),o,t.substr(n)],n=t[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return R(t,e,n),t}function we(t,e,n){this.ya=e||0,this.Aa=0,this.g=[],this.a=new qc,this.H=n||new Vd,this.ja=this.xa=this.D=this.ka=this.b=this.J=this.j=this.U=this.h=this.M=this.i=null,this.Va=this.P=0,this.la=this.B=this.o=this.m=this.l=this.c=null,this.s=this.za=this.N=-1,this.T=this.A=this.C=0,this.S=t&&t.supportsCrossDomainXhr||!1,this.I="",this.f=new Yd(t&&t.concurrentRequestLimit),this.ma=new he,this.G=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,this.Ua=t&&t.fastHandshake||!1,t&&t.Fa&&this.a.Fa()}function xe(e){if(J(e.a,"disconnect()"),ye(e),3==e.F){var n=e.P++,r=M(e.D);R(r,"SID",e.I),R(r,"RID",n),R(r,"TYPE","terminate"),ze(e,r),n=new L(e,e.a,0,n,void 0),n.J=2,n.h=Tc(M(r)),r=!1,k.navigator&&k.navigator.sendBeacon&&(r=k.navigator.sendBeacon(n.h.toString(),"")),!r&&k.Image&&((new Image).src=n.h,r=!0),r||(n.a=n.i.da(null),n.a.fa(n.h)),n.C=t(),Wc(n)}Ae(e)}function ye(t){t.B&&(t.B.abort(),t.B=null),t.b&&(t.b.cancel(),t.b=null),t.m&&(k.clearTimeout(t.m),t.m=null),Be(t),t.f.cancel(),t.l&&(k.clearTimeout(t.l),t.l=null)}function Ce(t,e){1e3==t.g.length&&xc(t.a,function(){return"Already have 1000 queued maps upon queueing "+Eb(e)}),t.g.push(new Xd(t.Va++,e)),3==t.F&&De(t)}function De(t){be(t.f)||t.l||(t.l=Ec(r(t.Pa,t),0),t.C=0)}function Ee(t,e){var n=t.f;return(n.b?1:n.a?n.a.u():0)>=t.f.f-(t.l?1:0)?(xc(t.a,"Unexpected retry request is scheduled."),!1):t.l?(J(t.a,"Use the retry request that is already scheduled."),t.g=e.o.concat(t.g),!0):!(1==t.F||2==t.F||2<=t.C)&&(J(t.a,"Going to retry POST"),t.l=Ec(r(t.Pa,t,e),Fe(t,t.C)),t.C++,!0)}function He(t,e){var n;n=e?e.f:t.P++;var r=M(t.D);R(r,"SID",t.I),R(r,"RID",n),R(r,"AID",t.N),ze(t,r),t.h&&t.i&&ve(r,t.h,t.i),n=new L(t,t.a,0,n,t.C+1),null===t.h&&(n.j=t.i),e&&(t.g=e.o.concat(t.g)),e=Ge(t,n),n.setTimeout(Math.round(1e4)+Math.round(1e4*Math.random())),ae(t.f,n),Sc(n,r,e)}function ze(t,e){t.c&&hd({},function(t,n){R(e,n,t)})}function Ge(t,e){var n=Math.min(t.g.length,1e3),o=t.c?r(t.c.Wa,t.c,t):null;t:for(var i=t.g,s=-1;;){var a=["count="+n];-1==s?0<n?(s=i[0].a,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var u=!0,c=0;c<n;c++){var l=i[c].a,h=i[c].b;if(0>(l-=s))s=Math.max(0,i[c].a-100),u=!1;else try{ie(h,a,"req"+l+"_")}catch(t){o&&o(h)}}if(u){o=a.join("&");break t}}return t=t.g.splice(0,n),e.o=t,o}function Ie(t){if(!t.b&&!t.m){t.T=1;var e=t.Oa;Tb||Ub(),Wb||(Tb(),Wb=!0),Pb.add(e,t),t.A=0}}function Je(t){return t.b||t.m?(xc(t.a,"Request already in progress"),!1):!(3<=t.A)&&(J(t.a,"Going to retry GET"),t.T++,t.m=Ec(r(t.Oa,t),Fe(t,t.A)),t.A++,!0)}function Sd(t,e,n){J(t.a,"Test Connection Finished");var r=e.m;r&&$d(t.f,r),t.la=n,t.s=e.f,J(t.a,"connectChannel_()"),t.D=Ke(t,t.ka),De(t)}function Ud(t,e){J(t.a,"Test Connection Failed"),t.s=e.f,W(t,2)}function Be(t){null!=t.o&&(k.clearTimeout(t.o),t.o=null)}function Fe(t,e){var n=5e3+Math.floor(1e4*Math.random());return t.sa()||(J(t.a,"Inactive channel"),n*=2),n*e}function W(t,e){if(I(t.a,"Error code "+e),2==e){var n=null;t.c&&(n=null);var o=r(t.ib,t);n||(n=new Q("//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||nd(n,"https"),Tc(n)),je(n.toString(),o)}else K();J(t.a,"HttpChannel: error - "+e),t.F=0,t.c&&t.c.Ca(t,e),Ae(t),ye(t)}function Ae(t){if(t.F=0,t.s=-1,t.c){var e=ee(t.f);if(0==e.length&&0==t.g.length)t.c.oa(t);else{J(t.a,function(){return"Number of undelivered maps, pending: "+e.length+", outgoing: "+t.g.length}),t.f.c.length=0;var n=za(t.g);t.g.length=0,t.c.oa(t,e,n)}}}function Ke(t,e){return e=Le(t,null,e),J(t.a,"GetForwardChannelUri: "+e),e}function Td(t,e,n){return e=Le(t,t.ia()?e:null,n),J(t.a,"GetBackChannelUri: "+e),e}function Le(t,e,n){var r=Cd(n);if(""!=r.b)e&&od(r,e+"."+r.b),pd(r,r.i);else{var o,i=k.location;o=e?e+"."+i.hostname:i.hostname,r=Dd(i.protocol,o,i.port,n)}return t.U&&Ca(t.U,function(t,e){R(r,e,t)}),e=t.j,n=t.J,e&&n&&R(r,e,n),R(r,"VER",t.pa),ze(t,r),r}function Me(){}function Ne(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r=arguments[n];if(0==r.lastIndexOf("/",0))e=r;else{var o;(o=""==e)||(o=e.length-1,o=0<=o&&e.indexOf("/",o)==o),e+=o?r:"/"+r}}return e}function Oe(){if(z&&!(10<=Number(Va)))throw Error("Environmental error: no available transport.")}function X(t,e){B.call(this),this.a=new we(e,21),this.b=t,this.s=e&&e.testUrl?e.testUrl:Ne(this.b,"test"),this.f=oc("goog.labs.net.webChannel.WebChannelBaseTransport"),this.g=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),this.a.M=t,(t=e&&e.httpHeadersOverwriteParam)&&!/^[\s\xa0]*$/.test(t)&&(this.a.h=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!/^[\s\xa0]*$/.test(e)&&(this.a.j=e,null!==(t=this.g)&&e in t&&(t=this.g,e in t&&delete t[e],F(this.f,"Ignore httpSessionIdParam also specified with messageUrlParams: "+e))),this.h=new Pe(this)}function Qe(t){Od.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Re(){Pd.call(this),this.status=1}function Pe(t){this.a=t}function Te(){this.b=[],this.a=[]}function Ue(t){return 0==t.b.length&&(t.b=t.a,t.b.reverse(),t.a=[]),t.b.pop()}function Ve(t,e){if(w.call(this),this.h=t||0,this.c=e||10,this.h>this.c)throw Error(We);this.a=new Te,this.b=new T,this.g=null,this.ba()}function Xe(t){if("function"==typeof t.Z)t.Z();else for(var e in t)t[e]=null}function Ye(t,e){this.a=t,this.b=e}function Ze(t){if(this.a=[],t)t:{if(t instanceof Ze){var e=t.O();if(t=t.v(),0>=this.u()){for(var n=this.a,r=0;r<e.length;r++)n.push(new Ye(e[r],t[r]));break t}}else e=Ea(t),t=Da(t);for(r=0;r<e.length;r++)$e(this,e[r],t[r])}}function $e(t,e,n){var r=t.a;for(r.push(new Ye(e,n)),e=r.length-1,t=t.a,n=t[e];0<e&&(r=e-1>>1,t[r].a>n.a);)t[e]=t[r],e=r;t[e]=n}function af(){Ze.call(this)}function Y(t,e){this.f=new af,Ve.call(this,t,e)}function Z(t,e,n,r){this.l=t,this.j=!!r,Y.call(this,e,n)}var g,goog=goog||{},k=this,q="closure_uid_"+(1e9*Math.random()>>>0),fa=0,t=Date.now||function(){return+new Date};u(ka,Error),ka.prototype.name="CustomError";var ma=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};u(oa,ka),oa.prototype.name="AssertionError";var ra=0,sa={};w.prototype.i=!1,w.prototype.Z=function(){if(!this.i&&(this.i=!0,this.w(),0!=ra)){var t=this[q]||(this[q]=++fa);delete sa[t]}},w.prototype.w=function(){if(this.A)for(;this.A.length;)this.A.shift()()};var ta=Array.prototype.indexOf?function(t,e,n){return Array.prototype.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,l(t))return l(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ua=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=l(t)?t.split(""):t,i=0;i<r;i++)i in o&&e.call(n,o[i],i,t)},x;t:{var Aa=k.navigator;if(Aa){var Ba=Aa.userAgent;if(Ba){x=Ba;break t}}x=""}var Ga="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");Ia[" "]=ba;var La=y("Opera"),z=y("Trident")||y("MSIE"),Ma=y("Edge"),Na=y("Gecko")&&!(-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),Oa=-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"),Qa;t:{var Ra="",Sa=function(){var t=x;return Na?/rv:([^\);]+)(\)|;)/.exec(t):Ma?/Edge\/([\d\.]+)/.exec(t):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Oa?/WebKit\/(\S+)/.exec(t):La?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Sa&&(Ra=Sa?Sa[1]:""),z){var Ta=Pa();if(null!=Ta&&Ta>parseFloat(Ra)){Qa=String(Ta);break t}}Qa=Ra}var Ka={},Va,Wa=k.document;Va=Wa&&z?Pa()||("CSS1Compat"==Wa.compatMode?parseInt(Qa,10):5):void 0;var Xa=Object.freeze||function(t){return t},Ya=!z||9<=Number(Va),Za=z&&!Ua("9"),$a=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return k.addEventListener("test",ba,e),k.removeEventListener("test",ba,e),t}();A.prototype.b=function(){this.Qa=!1},u(ab,A);var bb=Xa({2:"touch",3:"pen",4:"mouse"});ab.prototype.b=function(){ab.L.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Za)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var cb="closure_listenable_"+(1e6*Math.random()|0),eb=0;hb.prototype.add=function(t,e,n,r,o){var i=t.toString();(t=this.a[i])||(t=this.a[i]=[],this.b++);var s=ib(t,e,r,o);return-1<s?(e=t[s],n||(e.ca=!1)):(e=new fb(e,this.src,i,!!r,o),e.ca=n,t.push(e)),e};var lb="closure_lm_"+(1e6*Math.random()|0),mb={},nb=0,Ab="__closure_events_fn_"+(1e9*Math.random()>>>0);u(B,w),B.prototype[cb]=!0,g=B.prototype,g.addEventListener=function(t,e,n,r){ob(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){wb(this,t,e,n,r)},g.dispatchEvent=function(t){var e,n=this.J;if(n)for(e=[];n;n=n.J)e.push(n);n=this.P;var r=t.type||t;if(l(t))t=new A(t,n);else if(t instanceof A)t.target=t.target||n;else{var o=t;t=new A(r,n),Ha(t,o)}if(o=!0,e)for(var i=e.length-1;0<=i;i--){var s=t.a=e[i];o=Bb(s,r,!0,t)&&o}if(s=t.a=n,o=Bb(s,r,!0,t)&&o,o=Bb(s,r,!1,t)&&o,e)for(i=0;i<e.length;i++)s=t.a=e[i],o=Bb(s,r,!1,t)&&o;return o},g.w=function(){if(B.L.w.call(this),this.c){var t,e=this.c,n=0;for(t in e.a){for(var r=e.a[t],o=0;o<r.length;o++)++n,gb(r[o]);delete e.a[t],e.b--}}this.J=null},g.aa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},g.Ia=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)},g.wa=function(t,e,n,r){var o=this.c;if((t=String(t).toString())in o.a){var i=o.a[t];e=ib(i,e,n,r),-1<e?(gb(i[e]),Array.prototype.splice.call(i,e,1),0==i.length&&(delete o.a[t],o.b--),o=!0):o=!1}else o=!1;return o};var Ib={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Jb=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;Kb.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var C=new Kb(function(){return new Mb},function(t){t.reset()},100);Lb.prototype.add=function(t,e){var n=C.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Mb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Mb.prototype.reset=function(){this.next=this.b=this.a=null};var Rb,Tb,Wb=!1,Pb=new Lb;u(Xb,B),g=Xb.prototype,g.$=!1,g.K=null,g.jb=function(){if(this.$){var e=t()-this.g;0<e&&e<.8*this.b?this.K=this.a.setTimeout(this.f,this.b-e):(this.K&&(this.a.clearTimeout(this.K),this.K=null),this.dispatchEvent("tick"),this.$&&(this.K=this.a.setTimeout(this.f,this.b),this.g=t()))}},g.start=function(){this.$=!0,this.K||(this.K=this.a.setTimeout(this.f,this.b),this.g=t())},g.w=function(){Xb.L.w.call(this),Yb(this),delete this.a},u($b,w),g=$b.prototype,g.ha=!1,g.X=null,g.Ya=function(t){this.a=arguments,this.X?this.ha=!0:ac(this)},g.w=function(){$b.L.w.call(this),this.X&&(k.clearTimeout(this.X),this.X=null,this.ha=!1,this.a=[])},g.cb=function(){this.X=null,this.ha&&(this.ha=!1,ac(this))},u(D,w);var bc=[];D.prototype.aa=function(t,e,r,o){n(e)||(e&&(bc[0]=e.toString()),e=bc);for(var i=0;i<e.length;i++){var s=ob(t,e[i],r||this.handleEvent,o||!1,this.b||this);if(!s)break;this.a[s.key]=s}return this},D.prototype.wa=function(t,e,r,o,i){if(n(e))for(var s=0;s<e.length;s++)this.wa(t,e[s],r,o,i);else r=r||this.handleEvent,o=p(o)?!!o.capture:!!o,i=i||this.b||this,r=qb(r),o=!!o,(e=db(t)?kb(t.c,String(e),r,o,i):t&&(t=sb(t))?kb(t,e,r,o,i):null)&&(xb(e),delete this.a[e.key]);return this},D.prototype.w=function(){D.L.w.call(this),cc(this)},D.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dc.prototype.a=null;var ec=0;dc.prototype.reset=function(e,n,r,o,i){"number"==typeof i||ec++,o||t(),delete this.a},E.prototype.toString=function(){return this.name};var gc=new E("SEVERE",1e3),hc=new E("WARNING",900),ic=new E("INFO",800),jc=new E("CONFIG",700),kc=new E("FINE",500);fc.prototype.log=function(t,e,n){if(t.value>=lc(this).value)for(ea(e)&&(e=e()),t=new dc(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var mc={},nc=null;qc.prototype.Fa=function(){this.b=!1};var yc=new B;u(zc,A),u(Bc,A),u(Cc,A);var Fc={NO_ERROR:0,kb:1,rb:2,qb:3,nb:4,pb:5,sb:6,Sa:7,TIMEOUT:8,vb:9},Gc={mb:"complete",zb:"success",Ta:"error",Sa:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",tb:"incrementaldata",wb:"progress",ob:"downloadprogress",Ab:"uploadprogress"};Hc.prototype.a=null;var Kc;u(Lc,Hc),Kc=new Lc;var Nc=45e3,Oc=250,Qc={},Rc={};g=L.prototype,g.setTimeout=function(t){this.S=t},g.gb=function(t){t=t.target;var e=this.I;e&&3==N(t)?(J(this.b,"Throttling readystatechange."),e.Ya()):this.Ra(t)},g.Ra=function(t){try{t==this.a?Yc(this):F(this.b.a,"Called back with an unexpected xmlhttp")}catch(t){if(J(this.b,"Failed call to OnXmlHttpReadyStateChanged_"),this.a&&this.a.V()){var e=this;wc(this.b,t,function(){return"ResponseText: "+e.a.V()})}else wc(this.b,t,"No response text")}},g.fb=function(){var t=N(this.a),e=this.a.V();this.D<e.length&&(Zc(this),$c(this,t,e),this.c&&4!=t&&Wc(this))},g.cancel=function(){this.A=!0,cd(this)},g.eb=function(){this.s=null;var e=t();0<=e-this.U?(this.c&&xc(this.b,"Received watchdog timeout even though request loaded successfully"),vc(this.b,this.g),2!=this.J&&(Ac(),K()),cd(this),this.l=2,dd(this)):(F(this.b.a,"WatchDog timer called too early"),fd(this,this.U-e))},g=O.prototype,g.u=function(){return this.c},g.v=function(){id(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},g.O=function(){return id(this),this.a.concat()},g.get=function(t,e){return P(this.b,t)?this.b[t]:e},g.set=function(t,e){P(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},g.forEach=function(t,e){for(var n=this.O(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);t.call(e,i,o,this)}};var ld=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Q.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ud(e,vd,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ud(e,vd,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(ud(n,"/"==n.charAt(0)?wd:xd,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",ud(n,yd)),t.join("")},Q.prototype.resolve=function(t){var e=M(this),n=!!t.f;n?nd(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?od(e,t.b):n=null!=t.i;var r=t.a;if(n)pd(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var o=e.a.lastIndexOf("/");-1!=o&&(r=e.a.substr(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(-1!=o.indexOf("./")||-1!=o.indexOf("/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var i=[],s=0;s<o.length;){var a=o[s++];"."==a?r&&s==o.length&&i.push(""):".."==a?((1<i.length||1==i.length&&""!=i[0])&&i.pop(),r&&s==o.length&&i.push("")):(i.push(a),r=!0)}r=i.join("/")}else r=o}return n?e.a=r:n=""!==t.c.toString(),n?qd(e,rd(t.c)):n=!!t.g,n&&(e.g=t.g),e};var vd=/[#\/\?@]/g,xd=/[#\?:]/g,wd=/[#\?]/g,Ad=/[#\?@]/g,yd=/#/g;g=td.prototype,g.u=function(){return S(this),this.b},g.add=function(t,e){S(this),this.c=null,t=Fd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},g.forEach=function(t,e){S(this),this.a.forEach(function(n,r){ua(n,function(n){t.call(e,n,r,this)},this)},this)},g.O=function(){S(this);for(var t=this.a.v(),e=this.a.O(),n=[],r=0;r<e.length;r++)for(var o=t[r],i=0;i<o.length;i++)n.push(e[r]);return n},g.v=function(t){S(this);var e=[];if(l(t))Hd(this,t)&&(e=ya(e,this.a.get(Fd(this,t))));else{t=this.a.v();for(var n=0;n<t.length;n++)e=ya(e,t[n])}return e},g.set=function(t,e){return S(this),this.c=null,t=Fd(this,t),Hd(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},g.get=function(t,e){return t=t?this.v(t):[],0<t.length?String(t[0]):e},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.O(),n=0;n<e.length;n++){var r=e[n],o=encodeURIComponent(String(r));r=this.v(r);for(var i=0;i<r.length;i++){var s=o;""!==r[i]&&(s+="="+encodeURIComponent(String(r[i]))),t.push(s)}}return this.c=t.join("&")};var Jd=null;Id.prototype.set=function(t){this.a=t},Id.prototype.reset=function(){this.set(t())},Id.prototype.get=function(){return this.a},u(Ld,Kd);var Nd={OPEN:"a",lb:"b",Ta:"c",ub:"d"};u(Od,A),u(Pd,A),g=Qd.prototype,g.R=null,g.da=function(t){return this.a.da(t)},g.abort=function(){this.c&&(this.c.cancel(),this.c=null),this.f=-1},g.Ka=function(){return!1},g.Na=function(t,e){if(this.f=t.B,0==this.R){if(J(this.b,"TestConnection: Got data for stage 1"),!this.a.G&&(t=t.a)){var n=t.a?t.a.getResponseHeader("X-Client-Wire-Protocol"):null;this.m=n||null,this.a.j&&((t=t.a?t.a.getResponseHeader("X-HTTP-Session-Id"):null)?this.a.J=t:F(this.b.a,"Missing X_HTTP_SESSION_ID in the handshake response"))}if(e){try{var r=this.a.ma.a.parse(e)}catch(t){return wc(this.b,t),void Ud(this.a,this)}this.g=r[0]}else J(this.b,"TestConnection: Null responseText"),Ud(this.a,this)}else 1==this.R&&(this.h?K():"11111"==e?(K(),this.h=!0,(!z||10<=Number(Va))&&(this.f=200,this.c.cancel(),J(this.b,"Test connection succeeded; using streaming connection"),K(),Sd(this.a,this,!0))):(K(),this.h=!1))},g.va=function(){this.f=this.c.B,this.c.c?0==this.R?(this.R=1,J(this.b,"TestConnection: request complete for initial check"),Rd(this)):1==this.R&&(J(this.b,"TestConnection: request complete for stage 2"),this.h?(J(this.b,"Test connection succeeded; using streaming connection"),K(),Sd(this.a,this,!0)):(J(this.b,"Test connection failed; not using streaming"),K(),Sd(this.a,this,!1))):(J(this.b,"TestConnection: request failed, in state "+this.R),0==this.R?K():1==this.R&&K(),Ud(this.a,this))},g.ia=function(){return this.a.ia()},g.sa=function(){return this.a.sa()},T.prototype.u=function(){return this.a.u()},T.prototype.add=function(t){this.a.set(Wd(t),t)},T.prototype.contains=function(t){return t=Wd(t),P(this.a.b,t)},T.prototype.v=function(){return this.a.v()};var Zd=10;Yd.prototype.cancel=function(){this.c=ee(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(ua(this.a.v(),function(t){t.cancel()}),jd(this.a.a))},ge.prototype.stringify=function(t){return k.JSON.stringify(t,this.a)},ge.prototype.parse=function(t){return k.JSON.parse(t,this.b)},u(U,B);var le="";U.prototype.b=oc("goog.net.XhrIo");var me=/^https?$/i,ne=["POST","PUT"];g=U.prototype,g.fa=function(t,e,n,o){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.s+"; newUri="+t);e=e?e.toUpperCase():"GET",this.s=t,this.g="",this.j=0,this.M=e,this.H=!1,this.f=!0,this.a=Mc(this.D?this.D:Kc),this.C=Ic(this.D?this.D:Kc),this.a.onreadystatechange=r(this.Ma,this);try{H(this.b,V(this,"Opening Xhr")),this.I=!0,this.a.open(e,String(t),!0),this.I=!1}catch(t){return H(this.b,V(this,"Error opening Xhr: "+t.message)),void oe(this,t)}t=n||"";var i=new O(this.headers);o&&hd(o,function(t,e){i.set(e,t)}),o=va(i.O()),n=k.FormData&&t instanceof k.FormData,!(0<=ta(ne,e))||o||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.N&&(this.a.responseType=this.N),"withCredentials"in this.a&&this.a.withCredentials!==this.m&&(this.a.withCredentials=this.m);try{pe(this),0<this.l&&(this.G=qe(this.a),H(this.b,V(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+this.G)),this.G?(this.a.timeout=this.l,this.a.ontimeout=r(this.Ja,this)):this.B=Zb(this.Ja,this.l,this)),H(this.b,V(this,"Sending request")),this.o=!0,this.a.send(t),this.o=!1}catch(t){H(this.b,V(this,"Send error: "+t.message)),oe(this,t)}},g.Ja=function(){void 0!==goog&&this.a&&(this.g="Timed out after "+this.l+"ms, aborting",this.j=8,H(this.b,V(this,this.g)),this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(t){this.a&&this.f&&(H(this.b,V(this,"Aborting")),this.f=!1,this.h=!0,this.a.abort(),this.h=!1,this.j=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),se(this))},g.w=function(){this.a&&(this.f&&(this.f=!1,this.h=!0,this.a.abort(),this.h=!1),se(this,!0)),U.L.w.call(this)},g.Ma=function(){this.i||(this.I||this.o||this.h?te(this):this.bb())},g.bb=function(){te(this)},g.W=function(){try{return 2<N(this)?this.a.status:-1}catch(t){return-1}},g.Ha=function(){try{return 2<N(this)?this.a.statusText:""}catch(t){return H(this.b,"Can not get status: "+t.message),""}},g.V=function(){try{return this.a?this.a.responseText:""}catch(t){return H(this.b,"Can not get responseText: "+t.message),""}},g.Za=function(t){if(this.a){var e=this.a.responseText;t&&0==e.indexOf(t)&&(e=e.substring(t.length));t:{if(t=e,k.JSON)try{var n=k.JSON.parse(t);break t}catch(t){}n=Db(t)}return n}},g.Ga=function(){return this.j},g.$a=function(){return l(this.g)?this.g:String(this.g)},g=we.prototype,g.pa=8,g.F=1,g.Ka=function(){return 0==this.F},g.Pa=function(t){if(this.l=null,J(this.a,"startForwardChannel_"),1==this.F)if(t)xc(this.a,"Not supposed to retry the open");else{J(this.a,"open_()"),this.P=Math.floor(1e5*Math.random()),t=this.P++;var e=new L(this,this.a,0,t,void 0),n=this.i;this.M&&(n?(n=Fa(n),Ha(n,this.M)):n=this.M),null===this.h&&(e.j=n);var r=Ge(this,e),o=M(this.D);R(o,"RID",t),0<this.ya&&R(o,"CVER",this.ya),this.G&&this.j&&R(o,"X-HTTP-Session-Id",this.j),ze(this,o),this.h&&n&&ve(o,this.h,n),ae(this.f,e),this.Ua?(R(o,"$req",r),Sc(e,o,null)):Sc(e,o,r),this.F=2}else 3==this.F&&(t?He(this,t):0==this.g.length?J(this.a,"startForwardChannel_ returned: nothing to send"):be(this.f)?xc(this.a,"startForwardChannel_ returned: connection already in progress"):(He(this),J(this.a,"startForwardChannel_ finished, sent request")))},g.Oa=function(){this.m=null,J(this.a,"Creating new HttpRequest"),this.b=new L(this,this.a,0,"rpc",this.T),null===this.h&&(this.b.j=this.i),this.b.P=0;var t=M(this.xa);R(t,"RID","rpc"),R(t,"SID",this.I),R(t,"CI",this.la?"0":"1"),R(t,"AID",this.N),ze(this,t),R(t,"TYPE","xmlhttp"),this.h&&this.i&&ve(t,this.h,this.i),Vc(this.b,t,!0,this.ja),J(this.a,"New Request created")},g.Na=function(t,e){if(0!=this.F&&(this.b==t||ce(this.f,t)))if(this.s=t.B,ce(this.f,t)&&3==this.F){try{var o=this.ma.a.parse(e)}catch(t){o=null}if(n(o)&&3==o.length)if(e=o,0==e[0])t:if(J(this.a,"Server claims our backchannel is missing."),this.m)J(this.a,"But we are currently starting the request.");else{if(this.b){if(!(this.b.C+3e3<t.C))break t;Be(this),this.b.cancel(),this.b=null}else F(this.a.a,"We do not have a BackChannel established");Je(this),K()}else this.za=e[1],0<(t=this.za-this.N)&&(e=e[2],J(this.a,e+" bytes (in "+t+" arrays) are outstanding on the BackChannel"),37500>e&&this.la&&0==this.A&&!this.o&&(this.o=Ec(r(this.ab,this),6e3)));else J(this.a,"Bad POST response data returned"),W(this,11)}else if(this.b==t&&Be(this),!/^[\s\xa0]*$/.test(e))for(e=o=this.ma.a.parse(e),o=0;o<e.length;o++){var i=e[o];if(this.N=i[0],i=i[1],2==this.F)if("c"==i[0]){this.I=i[1],this.ja=i[2];var s=i[3];null!=s&&(this.pa=s,I(this.a,"VER="+this.pa)),i=i[4],null!=i&&(this.Aa=i,I(this.a,"SVER="+this.Aa)),this.G&&(i=t.a)&&((s=i.a?i.a.getResponseHeader("X-Client-Wire-Protocol"):null)&&$d(this.f,s),this.j&&((i=i.a?i.a.getResponseHeader("X-HTTP-Session-Id"):null)?(this.J=i,R(this.D,this.j,i)):F(this.a.a,"Missing X_HTTP_SESSION_ID in the handshake response"))),this.F=3,this.c&&this.c.Ea(this),this.xa=Td(this,this.ja,this.ka),Ie(this)}else"stop"!=i[0]&&"close"!=i[0]||W(this,7);else 3==this.F&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?W(this,7):xe(this):"noop"!=i[0]&&this.c&&this.c.Da(this,i),this.A=0)}},g.ab=function(){null!=this.o&&(this.o=null,this.b.cancel(),this.b=null,Je(this),K())},g.va=function(e){J(this.a,"Request complete");var n=null;if(this.b==e){Be(this),this.b=null;var r=2}else{if(!ce(this.f,e))return;n=e.o,de(this.f,e),r=1}if(this.s=e.B,0!=this.F)if(e.c)1==r?(Dc((t(),e.C)),De(this)):Ie(this);else{var o=e.l;if(3==o||0==o&&0<this.s)J(this.a,"Not retrying due to error type");else{var i=this;if(J(this.a,function(){return"Maybe retrying, last error: "+Pc(o,i.s)}),1==r&&Ee(this,e)||2==r&&Je(this))return;J(this.a,"Exceeded max number of retries")}switch(n&&0<n.length&&fe(this.f,n),J(this.a,"Error: HTTP request failed"),o){case 1:W(this,5);break;case 4:W(this,10);break;case 3:W(this,6);break;default:W(this,2)}}},g.ib=function(t){t?I(this.a,"Successfully pinged google.com"):I(this.a,"Failed to ping google.com"),K()},g.da=function(t){if(t&&!this.S)throw Error("Can't create secondary domain capable XhrIo object.");return t=new U,t.m=this.S,t},g.sa=function(){return!!this.c&&!0},g.ia=function(){return this.S},new Ld,g=Me.prototype,g.Ea=function(){},g.Da=function(){},g.Ca=function(){},g.oa=function(){},g.Wa=function(){},Oe.prototype.a=function(t,e){return new X(t,e)},u(X,B),X.prototype.j=function(){this.a.c=this.h,this.o&&(this.a.S=!0);var t=this.a,e=this.s,n=this.b,r=this.g||void 0;J(t.a,"connect()"),K(),t.ka=n,t.U=r||{},t.G&&(J(t.a,"connect() bypassed channel-test."),t.H.b=[],t.H.a=!1),J(t.a,"connectTest_()"),t.B=new Qd(t,t.a),null===t.h&&(t.B.i=t.i),n=e,t.h&&t.i&&(n=ve(e,t.h,t.i)),t=t.B,t.l=n,e=Ke(t.a,t.l),K(),n=t.a.H.b,null!=n?(t.g=n[0],t.R=1,Rd(t)):(Xc(e,"MODE","init"),!t.a.G&&t.a.j&&Xc(e,"X-HTTP-Session-Id",t.a.j),t.c=new L(t,t.b,0,void 0,void 0),t.c.j=t.i,Vc(t.c,e,!1,null),t.R=0)},X.prototype.close=function(){xe(this.a)},X.prototype.l=function(t){if(l(t)){var e={};e.__data__=t,Ce(this.a,e)}else this.m?(e={},e.__data__=Eb(t),Ce(this.a,e)):Ce(this.a,t)},X.prototype.w=function(){this.a.c=null,delete this.h,xe(this.a),delete this.a,X.L.w.call(this)},u(Qe,Od),u(Re,Pd),u(Pe,Me),Pe.prototype.Ea=function(){pc(this.a.f,"WebChannel opened on "+this.a.b),this.a.dispatchEvent("a")},Pe.prototype.Da=function(t,e){this.a.dispatchEvent(new Qe(e))},Pe.prototype.Ca=function(t,e){pc(this.a.f,"WebChannel aborted on "+this.a.b+" due to channel error: "+e),this.a.dispatchEvent(new Re)},Pe.prototype.oa=function(){pc(this.a.f,"WebChannel closed on "+this.a.b),this.a.dispatchEvent("b")};var Se=ja(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Oe);Te.prototype.u=function(){return this.b.length+this.a.length},Te.prototype.contains=function(t){return 0<=ta(this.b,t)||0<=ta(this.a,t)},Te.prototype.v=function(){for(var t=[],e=this.b.length-1;0<=e;--e)t.push(this.b[e]);var n=this.a.length;for(e=0;e<n;++e)t.push(this.a[e]);return t},u(Ve,w);var We="[goog.structs.Pool] Min can not be greater than max";g=Ve.prototype,g.ea=function(){var e=t();if(!(null!=this.g&&0>e-this.g)){for(var n;0<this.a.u()&&(n=Ue(this.a),!this.ua(n));)this.ba();return!n&&this.u()<this.c&&(n=this.ra()),n&&(this.g=e,this.b.add(n)),n}},g.hb=function(t){return!!kd(this.b.a,Wd(t))&&(this.na(t),!0)},g.na=function(t){kd(this.b.a,Wd(t)),this.ua(t)&&this.u()<this.c?this.a.a.push(t):Xe(t)},g.ba=function(){for(var t=this.a;this.u()<this.h;){var e=this.ra();t.a.push(e)}for(;this.u()>this.c&&0<this.a.u();)Xe(Ue(t))},g.ra=function(){return{}},g.ua=function(t){return"function"!=typeof t.Xa||t.Xa()},g.contains=function(t){return this.a.contains(t)||this.b.contains(t)},g.u=function(){return this.a.u()+this.b.u()},g.w=function(){if(Ve.L.w.call(this),0<this.b.u())throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var t=this.a;0!=t.b.length||0!=t.a.length;)Xe(Ue(t));delete this.a},Ze.prototype.v=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].b);return e},Ze.prototype.O=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].a);return e},Ze.prototype.u=function(){return this.a.length},u(af,Ze),u(Y,Ve),g=Y.prototype,g.ea=function(t,e){if(!t)return Y.L.ea.call(this);$e(this.f,void 0!==e?e:100,t),this.ta()},g.ta=function(){for(var t=this.f;0<t.u();){var e=this.ea();if(!e)break;var n=t,r=n.a,o=r.length,i=r[0];if(0>=o)i=void 0;else{if(1==o)xa(r);else{r[0]=r.pop(),r=0,n=n.a,o=n.length;for(var s=n[r];r<o>>1;){var a=2*r+1,u=2*r+2;if(a=u<o&&n[u].a<n[a].a?u:a,n[a].a>s.a)break;n[r]=n[a],r=a}n[r]=s}i=i.b}i.apply(this,[e])}},g.na=function(t){Y.L.na.call(this,t),this.ta()},g.ba=function(){Y.L.ba.call(this),this.ta()},g.w=function(){Y.L.w.call(this),k.clearTimeout(void 0),xa(this.f.a),this.f=null},u(Z,Y),Z.prototype.ra=function(){var t=new U,e=this.l;return e&&e.forEach(function(e,n){t.headers.set(n,e)}),this.j&&(t.m=!0),t},Z.prototype.ua=function(t){return!t.i&&!t.a},Oe.prototype.createWebChannel=Oe.prototype.a,X.prototype.send=X.prototype.l,X.prototype.open=X.prototype.j,X.prototype.close=X.prototype.close,Fc.NO_ERROR=0,Fc.TIMEOUT=8,Fc.HTTP_ERROR=6,Gc.COMPLETE="complete",Md.EventType=Nd,Nd.OPEN="a",Nd.CLOSE="b",Nd.ERROR="c",Nd.MESSAGE="d",B.prototype.listen=B.prototype.aa,Z.prototype.getObject=Z.prototype.ea,Z.prototype.releaseObject=Z.prototype.hb,U.prototype.listenOnce=U.prototype.Ia,U.prototype.getLastError=U.prototype.$a,U.prototype.getLastErrorCode=U.prototype.Ga,U.prototype.getStatus=U.prototype.W,U.prototype.getStatusText=U.prototype.Ha,U.prototype.getResponseJson=U.prototype.Za,U.prototype.getResponseText=U.prototype.V,U.prototype.getResponseText=U.prototype.V,U.prototype.send=U.prototype.fa,module.exports={createWebChannelTransport:Se,ErrorCode:Fc,EventType:Gc,WebChannel:Md,XhrIoPool:Z}}).call("undefined"!=typeof window?window:this)},PKQO:function(t,e,n){"use strict";function r(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(t){}e+="/"+o}return e}Object.defineProperty(e,"__esModule",{value:!0});var o=n("fvGz"),i=n("mZoP"),s=n("F1yO");e.parseRepoInfo=function(t){var n=e.parseURL(t),r=n.subdomain;"firebase"===n.domain&&s.fatal(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!=r||s.fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||s.warnIfPageIsSecure();var a="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new i.RepoInfo(n.host,n.secure,r,a),path:new o.Path(n.pathString)}},e.parseURL=function(t){var e="",n="",o="",i="",s=!0,a="https",u=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));var l=t.indexOf("/");-1===l&&(l=t.length),e=t.substring(0,l),i=r(t.substring(l));var h=e.split(".");3===h.length?(n=h[1],o=h[0].toLowerCase()):2===h.length&&(n=h[0]),c=e.indexOf(":"),c>=0&&(s="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10))}return{host:e,port:u,domain:n,subdomain:o,secure:s,scheme:a,pathString:i}}},PT4i:function(t,e,n){"use strict";var r=n("Yvsb");e.never=r.NeverObservable.create},PatI:function(t,e,n){"use strict";var r=n("bKpL"),o=n("gonN");r.Observable.prototype.multicast=o.multicast},Pf4u:function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&a.isArray(t[0])&&(t=t[0]),this.lift(new l(t))}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null;return 1===t.length&&a.isArray(t[0])&&(t=t[0]),n=t.shift(),new s.FromObservable(n,null).lift(new l(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n("OWbQ"),a=n("NSJx"),u=n("yW9Z"),c=n("ktfo");e.onErrorResumeNext=r,e.onErrorResumeNextStatic=o;var l=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.nextSources))},t}(),h=function(t){function e(e,n){t.call(this,e),this.destination=e,this.nextSources=n}return i(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(c.subscribeToResult(this,t)):this.destination.complete()},e}(u.OuterSubscriber)},Pic8:function(t,e,n){"use strict";var r=n("bKpL"),o=n("aCMF");r.Observable.prototype.switchMap=o.switchMap},Plqt:function(t,e,n){"use strict";var r=n("bKpL"),o=n("Tq0x");r.Observable.prototype.reduce=o.reduce},PwNK:function(t,e,n){"use strict";function r(t){return this.lift(new c(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("RdI5"),s=n("XRvs"),a=n("yW9Z"),u=n("ktfo");e.audit=r;var c=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.durationSelector))},t}(),l=function(t){function e(e,n){t.call(this,e),this.durationSelector=n,this.hasValue=!1}return o(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=i.tryCatch(this.durationSelector)(t);if(e===s.errorObject)this.destination.error(s.errorObject.e);else{var n=u.subscribeToResult(this,e);n.closed?this.clearThrottle():this.add(this.throttled=n)}}},e.prototype.clearThrottle=function(){var t=this,e=t.value,n=t.hasValue,r=t.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(a.OuterSubscriber)},QU9E:function(t,e,n){"use strict";var r=n("mihg");e.fromPromise=r.PromiseObservable.create},QgC4:function(t,e,n){"use strict";var r=n("yIff");e.webSocket=r.WebSocketSubject.create},QsbA:function(t,e,n){"use strict";function r(t){return this.lift(new l(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("rlar"),s=n("RdI5"),a=n("XRvs"),u=n("yW9Z"),c=n("ktfo");e.windowWhen=r;var l=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.closingSelector))},t}(),h=function(t){function e(e,n){t.call(this,e),this.destination=e,this.closingSelector=n,this.openWindow()}return o(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.openWindow(o)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var n=this.window=new i.Subject;this.destination.next(n);var r=s.tryCatch(this.closingSelector)();if(r===a.errorObject){var o=a.errorObject.e;this.destination.error(o),this.window.error(o)}else this.add(this.closingNotification=c.subscribeToResult(this,r))},e}(u.OuterSubscriber)},Qv0T:function(t,e,n){"use strict";function r(t){var e=t.obj,n=t.keys,r=t.length,o=t.index,i=t.subscriber;if(o===r)return void i.complete();var s=n[o];i.next([s,e[s]]),t.index=o+1,this.schedule(t)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("bKpL"),s=function(t){function e(e,n){t.call(this),this.obj=e,this.scheduler=n,this.keys=Object.keys(e)}return o(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=e.keys,o=e.scheduler,i=n.length;if(o)return o.schedule(r,0,{obj:this.obj,keys:n,length:i,index:0,subscriber:t});for(var s=0;s<i;s++){var a=n[s];t.next([a,this.obj[a]])}t.complete()},e}(i.Observable);e.PairsObservable=s},R0J0:function(t,e,n){"use strict";var r=n("bKpL"),o=n("Kt+M");r.Observable.prototype.concat=o.concat},"R3/v":function(t,e,n){"use strict";function r(t){var e=c.async,n=null,r=Number.POSITIVE_INFINITY;return p.isScheduler(arguments[3])&&(e=arguments[3]),p.isScheduler(arguments[2])?e=arguments[2]:h.isNumeric(arguments[2])&&(r=arguments[2]),p.isScheduler(arguments[1])?e=arguments[1]:h.isNumeric(arguments[1])&&(n=arguments[1]),this.lift(new f(t,n,r,e))}function o(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function i(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,o=t.windowCreationInterval,i=n.openWindow(),a=this,u={action:a,subscription:null},c={subscriber:n,window:i,context:u};u.subscription=r.schedule(s,e,c),a.add(u.subscription),a.schedule(t,o)}function s(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=n("rlar"),c=n("IhB/"),l=n("T14+"),h=n("EsGe"),p=n("MicL");e.windowTime=r;var f=function(){function t(t,e,n,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new y(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),d=function(t){function e(){t.apply(this,arguments),this._numberOfNextedValues=0}return a(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(u.Subject),y=function(t){function e(e,n,r,a,u){t.call(this,e),this.destination=e,this.windowTimeSpan=n,this.windowCreationInterval=r,this.maxWindowSize=a,this.scheduler=u,this.windows=[];var c=this.openWindow();if(null!==r&&r>=0){var l={subscriber:this,window:c,context:null},h={windowTimeSpan:n,windowCreationInterval:r,subscriber:this,scheduler:u};this.add(u.schedule(s,n,l)),this.add(u.schedule(i,r,h))}else{var p={subscriber:this,window:c,windowTimeSpan:n};this.add(u.schedule(o,n,p))}}return a(e,t),e.prototype._next=function(t){for(var e=this.windows,n=e.length,r=0;r<n;r++){var o=e[r];o.closed||(o.next(t),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new d;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(l.Subscriber)},R3TC:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o,i=n("JEJ4"),s=n("F1yO"),a=n("isNy"),u=n("p+VM"),c=n("3FiG"),l=n("/fob"),h=n("stu6"),p=n("b5Wm"),f=n("04zk"),d=n("zFzr"),y=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&c.validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&i.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return o||(o=new t(new a.SortedMap(d.NAME_COMPARATOR),null,p.IndexMap.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||o},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?o:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(i.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new u.NamedNode(e,n),s=void 0,a=void 0,c=void 0;return n.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_)),c=s.isEmpty()?o:this.priorityNode_,new t(s,c,a)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;i.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,o=0,i=!0;if(this.forEachChild(l.PRIORITY_INDEX,function(s,a){n[s]=a.val(e),r++,i&&t.INTEGER_REGEXP_.test(s)?o=Math.max(o,Number(s)):i=!1}),!e&&i&&o<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+c.priorityHashText(this.getPriority().val())+":"),this.forEachChild(l.PRIORITY_INDEX,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":s.sha1(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var o=r.getPredecessorKey(new u.NamedNode(t,e));return o?o.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new u.NamedNode(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new u.NamedNode(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,u.NamedNode.Wrap),o=r.peek();null!=o&&e.compare(o,t)<0;)r.getNext(),o=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,u.NamedNode.Wrap),o=r.peek();null!=o&&e.compare(o,t)>0;)r.getNext(),o=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===e.MAX_NODE?-1:0},t.prototype.withIndex=function(e){if(e===h.KEY_INDEX||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===h.KEY_INDEX||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(l.PRIORITY_INDEX),r=e.getIterator(l.PRIORITY_INDEX),o=n.getNext(),i=r.getNext();o&&i;){if(o.name!==i.name||!o.node.equals(i.node))return!1;o=n.getNext(),i=r.getNext()}return null===o&&null===i}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===h.KEY_INDEX?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}();e.ChildrenNode=y;var v=function(t){function e(){return t.call(this,new a.SortedMap(d.NAME_COMPARATOR),y.EMPTY_NODE,p.IndexMap.Default)||this}return r(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return y.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(y);e.MaxNode=v,e.MAX_NODE=new v,Object.defineProperties(u.NamedNode,{MIN:{value:new u.NamedNode(s.MIN_NAME,y.EMPTY_NODE)},MAX:{value:new u.NamedNode(s.MAX_NAME,e.MAX_NODE)}}),h.KeyIndex.__EMPTY_NODE=y.EMPTY_NODE,f.LeafNode.__childrenNodeConstructor=y,c.setMaxNode(e.MAX_NODE),l.setMaxNode(e.MAX_NODE)},R61s:function(t,e,n){"use strict";var r=n("zijX"),o=n("wQte");e.Map=r.root.Map||function(){return o.MapPolyfill}()},RNRn:function(t,e,n){"use strict";var r=n("bKpL"),o=n("R3/v");r.Observable.prototype.windowTime=o.windowTime},RdI5:function(t,e,n){"use strict";function r(){try{return i.apply(this,arguments)}catch(t){return s.errorObject.e=t,s.errorObject}}function o(t){return i=t,r}var i,s=n("XRvs");e.tryCatch=o},Rgd9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("1zSO"),o=n("Fwmd"),i=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new r.DOMStorageWrapper(e)}}catch(t){}return new o.MemoryStorage};e.PersistentStorage=i("localStorage"),e.SessionStorage=i("sessionStorage")},RpuY:function(t,e,n){"use strict";var r=n("bKpL"),o=n("cPhF");r.Observable.prototype.mergeMap=o.mergeMap,r.Observable.prototype.flatMap=o.mergeMap},Rv9P:function(t,e,n){n("TL6u")},RvTY:function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof e&&(n=e,e=null),this.lift(new a(t,e,n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),s=n("ktfo");e.mergeMapTo=r;var a=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.ish=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.ish,this.resultSelector,this.concurrent))},t}();e.MergeMapToOperator=a;var u=function(t){function e(e,n,r,o){void 0===o&&(o=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=n,this.resultSelector=r,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,n=this.index++,r=this.ish,o=this.destination;this.active++,this._innerSub(r,o,e,t,n)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n,r,o){this.add(s.subscribeToResult(this,t,r,o))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){var i=this,s=i.resultSelector,a=i.destination;s?this.trySelectResult(t,e,n,r):a.next(e)},e.prototype.trySelectResult=function(t,e,n,r){var o,i=this,s=i.resultSelector,a=i.destination;try{o=s(t,e,n,r)}catch(t){return void a.error(t)}a.next(o)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber);e.MergeMapToSubscriber=u},S08L:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=n("ktfo"),s=n("yW9Z"),a=function(t){function e(e,n,r){t.call(this),this.condition=e,this.thenSource=n,this.elseSource=r}return r(e,t),e.create=function(t,n,r){return new e(t,n,r)},e.prototype._subscribe=function(t){var e=this,n=e.condition,r=e.thenSource,o=e.elseSource;return new u(t,n,r,o)},e}(o.Observable);e.IfObservable=a;var u=function(t){function e(e,n,r,o){t.call(this,e),this.condition=n,this.thenSource=r,this.elseSource=o,this.tryIf()}return r(e,t),e.prototype.tryIf=function(){var t,e=this,n=e.condition,r=e.thenSource,o=e.elseSource;try{t=n();var s=t?r:o;s?this.add(i.subscribeToResult(this,s)):this._complete()}catch(t){this._error(t)}},e}(s.OuterSubscriber)},S7im:function(t,e,n){"use strict";var r=n("bKpL"),o=n("HTfL");r.Observable.throw=o._throw},SJ56:function(t,e,n){"use strict";function r(){return this.lift(new s)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.dematerialize=r;var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){t.call(this,e)}return o(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(i.Subscriber)},SKRq:function(t,e,n){"use strict";var r=n("bKpL"),o=n("fdVa");r.Observable.prototype.mergeScan=o.mergeScan},ScG9:function(t,e,n){"use strict";var r=n("bKpL"),o=n("a9bY");r.Observable.prototype.max=o.max},"StS+":function(t,e,n){"use strict";var r=n("bKpL"),o=n("lc3y");r.Observable.prototype.isEmpty=o.isEmpty},"T14+":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("fclq"),i=n("xFbG"),s=n("LiYJ"),a=n("dkwD"),u=function(t){function e(n,r,o){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!n){this.destination=s.empty;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,n,r,o)}}return r(e,t),e.prototype[a.rxSubscriber]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,n=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=n,this},e}(i.Subscription);e.Subscriber=u;var c=function(t){function e(e,n,r,i){t.call(this),this._parentSubscriber=e;var a,u=this;o.isFunction(n)?a=n:n&&(a=n.next,r=n.error,i=n.complete,n!==s.empty&&(u=Object.create(n),o.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=a,this._error=r,this._complete=i}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(u)},T1tZ:function(t,e,n){"use strict";function r(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function o(t){var e=t.err;t.subject.error(e)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n("bKpL"),a=n("RdI5"),u=n("XRvs"),c=n("l6Wf"),l=function(t){function e(e,n,r,o,i){t.call(this),this.callbackFunc=e,this.selector=n,this.args=r,this.context=o,this.scheduler=i}return i(e,t),e.create=function(t,n,r){return void 0===n&&(n=void 0),function(){for(var o=[],i=0;i<arguments.length;i++)o[i-0]=arguments[i];return new e(t,n,o,this,r)}},e.prototype._subscribe=function(t){var n=this.callbackFunc,r=this.args,o=this.scheduler,i=this.subject;if(o)return o.schedule(e.dispatch,0,{source:this,subscriber:t,context:this.context});if(!i){i=this.subject=new c.AsyncSubject;var s=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=t.source,o=r.selector,i=r.subject;if(o){var s=a.tryCatch(o).apply(this,e);s===u.errorObject?i.error(u.errorObject.e):(i.next(s),i.complete())}else i.next(e.length<=1?e[0]:e),i.complete()};s.source=this;a.tryCatch(n).apply(this.context,r.concat(s))===u.errorObject&&i.error(u.errorObject.e)}return i.subscribe(t)},e.dispatch=function(t){var e=this,n=t.source,i=t.subscriber,s=t.context,l=n.callbackFunc,h=n.args,p=n.scheduler,f=n.subject;if(!f){f=n.subject=new c.AsyncSubject;var d=function t(){for(var n=[],i=0;i<arguments.length;i++)n[i-0]=arguments[i];var s=t.source,c=s.selector,l=s.subject;if(c){var h=a.tryCatch(c).apply(this,n);h===u.errorObject?e.add(p.schedule(o,0,{err:u.errorObject.e,subject:l})):e.add(p.schedule(r,0,{value:h,subject:l}))}else{var f=n.length<=1?n[0]:n;e.add(p.schedule(r,0,{value:f,subject:l}))}};d.source=n;a.tryCatch(l).apply(s,h.concat(d))===u.errorObject&&f.error(u.errorObject.e)}e.add(f.subscribe(i))},e}(s.Observable);e.BoundCallbackObservable=l},T5Q1:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=n("ktfo"),s=n("yW9Z"),a=function(t){function e(e,n){t.call(this),this.resourceFactory=e,this.observableFactory=n}return r(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e,n=this,r=n.resourceFactory,o=n.observableFactory;try{return e=r(),new u(t,e,o)}catch(e){t.error(e)}},e}(o.Observable);e.UsingObservable=a;var u=function(t){function e(e,n,r){t.call(this,e),this.resource=n,this.observableFactory=r,e.add(n),this.tryUse()}return r(e,t),e.prototype.tryUse=function(){try{var t=this.observableFactory.call(this,this.resource);t&&this.add(i.subscribeToResult(this,t))}catch(t){this._error(t)}},e}(s.OuterSubscriber)},TA58:function(t,e,n){"use strict";function r(t){var e=t[l.iterator];if(!e&&"string"==typeof t)return new p(t);if(!e&&void 0!==t.length)return new f(t);if(!e)throw new TypeError("object is not iterable");return t[l.iterator]()}function o(t){var e=+t.length;return isNaN(e)?0:0!==e&&i(e)?(e=s(e)*Math.floor(Math.abs(e)),e<=0?0:e>d?d:e):e}function i(t){return"number"==typeof t&&u.root.isFinite(t)}function s(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=n("zijX"),c=n("bKpL"),l=n("2B7B"),h=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=r(e)}return a(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.hasError,r=t.iterator,o=t.subscriber;if(n)return void o.error(t.error);var i=r.next();return i.done?void o.complete():(o.next(i.value),t.index=e+1,o.closed?void("function"==typeof r.return&&r.return()):void this.schedule(t))},e.prototype._subscribe=function(t){var n=this,r=n.iterator,o=n.scheduler;if(o)return o.schedule(e.dispatch,0,{index:0,iterator:r,subscriber:t});for(;;){var i=r.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed){"function"==typeof r.return&&r.return();break}}},e}(c.Observable);e.IteratorObservable=h;var p=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),f=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=o(t)),this.arr=t,this.idx=e,this.len=n}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),d=Math.pow(2,53)-1},THYR:function(t,e,n){"use strict";function r(t,e){return this.lift(new s(t,e,this))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.every=r;var s=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg,this.source))},t}(),a=function(t){function e(e,n,r,o){t.call(this,e),this.predicate=n,this.thisArg=r,this.source=o,this.index=0,this.thisArg=r||this}return o(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.Subscriber)},TIdC:function(t,e,n){"use strict";function r(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new a(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),s=n("ktfo");e.mergeAll=r;var a=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.concurrent))},t}();e.MergeAllOperator=a;var u=function(t){function e(e,n){t.call(this,e),this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0}return o(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(s.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber);e.MergeAllSubscriber=u},TL6u:function(t,e,n){(function(t){(function(){function t(t){return"string"==typeof t}function e(t){return"boolean"==typeof t}function r(){}function o(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function i(t){return null===t}function s(t){return"array"==o(t)}function a(t){var e=o(t);return"array"==e||"object"==e&&"number"==typeof t.length}function u(t){return"function"==o(t)}function c(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function l(t,e,n){return t.call.apply(t.bind,arguments)}function h(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function p(t,e,n){return p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:h,p.apply(null,arguments)}function f(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function d(t,e){function n(){}n.prototype=e.prototype,t.ib=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Nc=function(t,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return e.prototype[n].apply(t,o)}}function y(t){if(Error.captureStackTrace)Error.captureStackTrace(this,y);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function v(t,e){for(var n=t.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")}function m(t){return bu.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(fu,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(du,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(yu,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(vu,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(mu,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(gu,"&#0;")),t):t}function g(t,e){return-1!=t.indexOf(e)}function b(t,e){return t<e?-1:t>e?1:0}function _(t,e){e.unshift(t),y.call(this,v.apply(null,e)),e.shift()}function w(t,e){throw new _("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function E(e,n){var r=e.length,o=t(e)?e.split(""):e;for(--r;0<=r;--r)r in o&&n.call(void 0,o[r],r,e)}function C(e){t:{for(var n=Cn,r=e.length,o=t(e)?e.split(""):e,i=0;i<r;i++)if(i in o&&n.call(void 0,o[i],i,e)){n=i;break t}n=-1}return 0>n?null:t(e)?e.charAt(n):e[n]}function S(t,e){return 0<=wu(t,e)}function O(t,e){e=wu(t,e);var n;return(n=0<=e)&&Array.prototype.splice.call(t,e,1),n}function T(t,e){var n=0;E(t,function(r,o){e.call(void 0,r,o,t)&&1==Array.prototype.splice.call(t,o,1).length&&n++})}function I(t){return Array.prototype.concat.apply([],arguments)}function N(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function A(t){return g(_u,t)}function P(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function R(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function x(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function k(t){for(var e in t)return!1;return!0}function D(t,e){for(var n in t)if(!(n in e)||t[n]!==e[n])return!1;for(n in e)if(!(n in t))return!1;return!0}function M(t){var e,n={};for(e in t)n[e]=t[e];return n}function L(t,e){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)t[n]=r[n];for(var i=0;i<Iu.length;i++)n=Iu[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}function F(t,e){var n=Vu;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function V(){var t=uu.document;return t?t.documentMode:void 0}function U(t){return F(t,function(){for(var e=0,n=pu(String(Nu)).split("."),r=pu(String(t)).split("."),o=Math.max(n.length,r.length),i=0;0==e&&i<o;i++){var s=n[i]||"",a=r[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=b(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||b(0==s[2].length,0==a[2].length)||b(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}function B(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function q(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function W(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function H(t,e){t.g(e),t.b<t.f&&(t.b++,e.next=t.a,t.a=e)}function K(){var t=Ku,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function G(){this.next=this.b=this.a=null}function Q(t){uu.setTimeout(function(){throw t},0)}function z(){var t=uu.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!A("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=p(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!A("Trident")&&!A("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.pb;n.pb=null,t()}},function(t){r.next={pb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){uu.setTimeout(t,0)}}function J(t,e){Wu||X(),Hu||(Wu(),Hu=!0);var n=Ku,r=Bu.get();r.set(t,e),n.b?n.b.next=r:n.a=r,n.b=r}function X(){if(-1!=String(uu.Promise).indexOf("[native code]")){var t=uu.Promise.resolve(void 0);Wu=function(){t.then(Y)}}else Wu=function(){var t=Y;!u(uu.setImmediate)||uu.Window&&uu.Window.prototype&&!A("Edge")&&uu.Window.prototype.setImmediate==uu.setImmediate?(qu||(qu=z()),qu(t)):uu.setImmediate(t)}}function Y(){for(var t;t=K();){try{t.a.call(t.b)}catch(t){Q(t)}H(Bu,t)}Hu=!1}function Z(t,e){if(this.a=Gu,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=r)try{var n=this;t.call(e,function(t){lt(n,Qu,t)},function(t){if(!(t instanceof gt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}lt(n,zu,t)})}catch(t){lt(this,zu,t)}}function $(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function tt(t,e,n){var r=Ju.get();return r.g=t,r.b=e,r.f=n,r}function et(t){if(t instanceof Z)return t;var e=new Z(r);return lt(e,Qu,t),e}function nt(t){return new Z(function(e,n){n(t)})}function rt(t,e,n){ht(t,e,n,null)||J(f(e,t))}function ot(t){return new Z(function(e,n){var r=t.length,o=[];if(r)for(var i,s=function(t,n){r--,o[t]=n,0==r&&e(o)},a=function(t){n(t)},u=0;u<t.length;u++)i=t[u],rt(i,f(s,u),a);else e(o)})}function it(t){return new Z(function(e){var n=t.length,r=[];if(n)for(var o,i=function(t,o,i){n--,r[t]=o?{Qb:!0,value:i}:{Qb:!1,reason:i},0==n&&e(r)},s=0;s<t.length;s++)o=t[s],rt(o,f(i,s,!0),f(i,s,!1));else e(r)})}function st(t,e){return e=tt(e,e,void 0),e.c=!0,ut(t,e),t}function at(t,e){if(t.a==Gu)if(t.c){var n=t.c;if(n.b){for(var r=0,o=null,i=null,s=n.b;s&&(s.c||(r++,s.a==t&&(o=s),!(o&&1<r)));s=s.next)o||(i=s);o&&(n.a==Gu&&1==r?at(n,e):(i?(r=i,r.next==n.f&&(n.f=r),r.next=r.next.next):dt(n),yt(n,o,zu,e)))}t.c=null}else lt(t,zu,e)}function ut(t,e){t.b||t.a!=Qu&&t.a!=zu||ft(t),t.f?t.f.next=e:t.b=e,t.f=e}function ct(t,e,n,r){var o=tt(null,null,null);return o.a=new Z(function(t,i){o.g=e?function(n){try{var o=e.call(r,n);t(o)}catch(t){i(t)}}:t,o.b=n?function(e){try{var o=n.call(r,e);void 0===o&&e instanceof gt?i(e):t(o)}catch(t){i(t)}}:i}),o.a.c=t,ut(t,o),o.a}function lt(t,e,n){t.a==Gu&&(t===n&&(e=zu,n=new TypeError("Promise cannot resolve to itself")),t.a=1,ht(n,t.wc,t.xc,t)||(t.i=n,t.a=e,t.c=null,ft(t),e!=zu||n instanceof gt||mt(t,n)))}function ht(t,e,n,o){if(t instanceof Z)return ut(t,tt(e||r,n||null,o)),!0;if(q(t))return t.then(e,n,o),!0;if(c(t))try{var i=t.then;if(u(i))return pt(t,i,e,n,o),!0}catch(t){return n.call(o,t),!0}return!1}function pt(t,e,n,r,o){function i(t){a||(a=!0,r.call(o,t))}function s(t){a||(a=!0,n.call(o,t))}var a=!1;try{e.call(t,s,i)}catch(t){i(t)}}function ft(t){t.h||(t.h=!0,J(t.Mb,t))}function dt(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function yt(t,e,n,r){if(n==zu&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,vt(e,n,r);else try{e.c?e.g.call(e.f):vt(e,n,r)}catch(t){Xu.call(null,t)}H(Ju,e)}function vt(t,e,n){e==Qu?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function mt(t,e){t.g=!0,J(function(){t.g&&Xu.call(null,e)})}function gt(t){y.call(this,t)}function bt(){this.a="",this.b=Zu}function _t(t){return t instanceof bt&&t.constructor===bt&&t.b===Zu?t.a:(w("expected object of type Const, got '"+t+"'"),"type_error:Const")}function wt(t){var e=new bt;return e.a=t,e}function Et(){this.a="",this.b=ec}function Ct(t){return t instanceof Et&&t.constructor===Et&&t.b===ec?t.a:(w("expected object of type TrustedResourceUrl, got '"+t+"' of type "+o(t)),"type_error:TrustedResourceUrl")}function St(t,e){return t=Ot(t,e),e=new Et,e.a=t,e}function Ot(t,e){var n=_t(t);if(!tc.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return n.replace($u,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return t=e[r],t instanceof bt?_t(t):encodeURIComponent(String(t))})}function Tt(){this.a="",this.b=rc}function It(t){return t instanceof Tt&&t.constructor===Tt&&t.b===rc?t.a:(w("expected object of type SafeUrl, got '"+t+"' of type "+o(t)),"type_error:SafeUrl")}function Nt(t){return t instanceof Tt?t:(t=t.la?t.ja():String(t),nc.test(t)||(t="about:invalid#zClosurez"),At(t))}function At(t){var e=new Tt;return e.a=t,e}function Pt(){this.a="",this.b=oc}function Rt(t){return t instanceof Pt&&t.constructor===Pt&&t.b===oc?t.a:(w("expected object of type SafeHtml, got '"+t+"' of type "+o(t)),"type_error:SafeHtml")}function xt(t){var e=new Pt;return e.a=t,e}function kt(e){var n=document;return t(e)?n.getElementById(e):e}function Dt(t,e){P(e,function(e,n){e&&e.la&&(e=e.ja()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ic.hasOwnProperty(n)?t.setAttribute(ic[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}function Mt(e,n,r){var o=arguments,i=document,a=String(o[0]),u=o[1];if(!Yu&&u&&(u.name||u.type)){if(a=["<",a],u.name&&a.push(' name="',m(u.name),'"'),u.type){a.push(' type="',m(u.type),'"');var c={};L(c,u),delete c.type,u=c}a.push(">"),a=a.join("")}return a=i.createElement(a),u&&(t(u)?a.className=u:s(u)?a.className=u.join(" "):Dt(a,u)),2<o.length&&Lt(i,a,o),a}function Lt(e,n,r){function o(r){r&&n.appendChild(t(r)?e.createTextNode(r):r)}for(var i=2;i<r.length;i++){var s=r[i];!a(s)||c(s)&&0<s.nodeType?o(s):Eu(jt(s)?N(s):s,o)}}function jt(t){if(t&&"number"==typeof t.length){if(c(t))return"function"==typeof t.item||"string"==typeof t.item;if(u(t))return"function"==typeof t.item}return!1}function Ft(t){var e=[];return Ut(new Vt,t,e),e.join("")}function Vt(){}function Ut(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(s(e)){var r=e;e=r.length,n.push("[");for(var o="",i=0;i<e;i++)n.push(o),Ut(t,r[i],n),o=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),o="";for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(i=e[r])&&(n.push(o),Bt(r,n),n.push(":"),Ut(t,i,n),o=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Bt(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}function Bt(t,e){e.push('"',t.replace(ac,function(t){var e=sc[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),sc[t]=e),e}),'"')}function qt(){0!=uc&&(cc[this[cu]||(this[cu]=++lu)]=this),this.oa=this.oa,this.Fa=this.Fa}function Wt(t){t.oa||(t.oa=!0,t.ta(),0!=uc&&(t=t[cu]||(t[cu]=++lu),delete cc[t]))}function Ht(t,e){this.type=t,this.b=this.target=e,this.Ab=!0}function Kt(e,n){if(Ht.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var r=this.type=e.type,o=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=n,n=e.relatedTarget){if(ku){t:{try{j(n.nodeName);var i=!0;break t}catch(t){}i=!1}i||(n=null)}}else"mouseover"==r?n=e.fromElement:"mouseout"==r&&(n=e.toElement);this.relatedTarget=n,null===o?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=t(e.pointerType)?e.pointerType:dc[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.c()}}function Gt(t,e,n,r,o){this.listener=t,this.a=null,this.src=e,this.type=n,this.capture=!!r,this.La=o,this.key=++vc,this.ma=this.Ha=!1}function Qt(t){t.ma=!0,t.listener=null,t.a=null,t.src=null,t.La=null}function zt(t){this.src=t,this.a={},this.b=0}function Jt(t,e,n,r,o,i){var s=e.toString();(e=t.a[s])||(e=t.a[s]=[],t.b++);var a=Yt(e,n,o,i);return-1<a?(t=e[a],r||(t.Ha=!1)):(t=new Gt(n,t.src,s,!!o,i),t.Ha=r,e.push(t)),t}function Xt(t,e){var n=e.type;n in t.a&&O(t.a[n],e)&&(Qt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Yt(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.ma&&i.listener==e&&i.capture==!!n&&i.La==r)return o}return-1}function Zt(t,e,n,r,o){if(r&&r.once)ee(t,e,n,r,o);else if(s(e))for(var i=0;i<e.length;i++)Zt(t,e[i],n,r,o);else n=ce(n),t&&t[yc]?pe(t,e,n,c(r)?!!r.capture:!!r,o):$t(t,e,n,!1,r,o)}function $t(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var s=c(o)?!!o.capture:!!o,a=ue(t);if(a||(t[mc]=a=new zt(t)),n=Jt(a,e,n,r,s,i),!n.a){if(r=te(),n.a=r,r.src=t,r.listener=n,t.addEventListener)fc||(o=s),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else{if(!t.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");t.attachEvent(oe(e.toString()),r)}bc++}}function te(){var t=ae,e=hc?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function ee(t,e,n,r,o){if(s(e))for(var i=0;i<e.length;i++)ee(t,e[i],n,r,o);else n=ce(n),t&&t[yc]?fe(t,e,n,c(r)?!!r.capture:!!r,o):$t(t,e,n,!0,r,o)}function ne(t,e,n,r,o){if(s(e))for(var i=0;i<e.length;i++)ne(t,e[i],n,r,o);else r=c(r)?!!r.capture:!!r,n=ce(n),t&&t[yc]?(t=t.u,(e=String(e).toString())in t.a&&(i=t.a[e],-1<(n=Yt(i,n,r,o))&&(Qt(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete t.a[e],t.b--)))):t&&(t=ue(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Yt(e,n,r,o)),(n=-1<t?e[t]:null)&&re(n))}function re(t){if("number"!=typeof t&&t&&!t.ma){var e=t.src;if(e&&e[yc])Xt(e.u,t);else{var n=t.type,r=t.a;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent&&e.detachEvent(oe(n),r),bc--,(n=ue(e))?(Xt(n,t),0==n.b&&(n.src=null,e[mc]=null)):Qt(t)}}}function oe(t){return t in gc?gc[t]:gc[t]="on"+t}function ie(t,e,n,r){var o=!0;if((t=ue(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var i=e[t];i&&i.capture==n&&!i.ma&&(i=se(i,r),o=o&&!1!==i)}return o}function se(t,e){var n=t.listener,r=t.La||t.src;return t.Ha&&re(t),n.call(r,e)}function ae(t,e){if(t.ma)return!0;if(!hc){if(!e)t:{e=["window","event"];for(var n=uu,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(r=e,e=new Kt(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=e.b;o;o=o.parentNode)r.push(o);for(t=t.type,o=r.length-1;0<=o;o--){e.b=r[o];var i=ie(r[o],t,!0,e);n=n&&i}for(o=0;o<r.length;o++)e.b=r[o],i=ie(r[o],t,!1,e),n=n&&i}return n}return se(t,new Kt(e,this))}function ue(t){return t=t[mc],t instanceof zt?t:null}function ce(t){return u(t)?t:(t[_c]||(t[_c]=function(e){return t.handleEvent(e)}),t[_c])}function le(){qt.call(this),this.u=new zt(this),this.Eb=this,this.Ra=null}function he(e,n){var r,o=e.Ra;if(o)for(r=[];o;o=o.Ra)r.push(o);if(e=e.Eb,o=n.type||n,t(n))n=new Ht(n,e);else if(n instanceof Ht)n.target=n.target||e;else{var i=n;n=new Ht(o,e),L(n,i)}if(i=!0,r)for(var s=r.length-1;0<=s;s--){var a=n.b=r[s];i=de(a,o,!0,n)&&i}if(a=n.b=e,i=de(a,o,!0,n)&&i,i=de(a,o,!1,n)&&i,r)for(s=0;s<r.length;s++)a=n.b=r[s],i=de(a,o,!1,n)&&i}function pe(t,e,n,r,o){Jt(t.u,String(e),n,!1,r,o)}function fe(t,e,n,r,o){Jt(t.u,String(e),n,!0,r,o)}function de(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var s=e[i];if(s&&!s.ma&&s.capture==n){var a=s.listener,u=s.La||s.src;s.Ha&&Xt(t.u,s),o=!1!==a.call(u,r)&&o}}return o&&0!=r.Ab}function ye(t,e,n){if(u(t))n&&(t=p(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=p(t.handleEvent,t)}return 2147483647<Number(e)?-1:uu.setTimeout(t,e||0)}function ve(t){var e=null;return new Z(function(n,r){-1==(e=ye(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw uu.clearTimeout(e),t})}function me(t,e,n,r,o){this.reset(t,e,n,r,o)}function ge(t){this.f=t,this.b=this.c=this.a=null}function be(t,e){this.name=t,this.value=e}function _e(t){return t.c?t.c:t.a?_e(t.a):(w("Root logger has no level set."),null)}function we(t){Tc||(Tc=new ge(""),Oc[""]=Tc,Tc.c=Cc);var e;if(!(e=Oc[t])){e=new ge(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=we(t.substr(0,n)),n.b||(n.b={}),n.b[r]=e,e.a=n,Oc[t]=e}return e}function Ee(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t){t instanceof Ee?(n=t.S(),r=t.P()):(n=x(t),r=R(t));for(var o=0;o<n.length;o++)this.set(n[o],r[o])}}function Ce(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Se(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var o={};for(n=e=0;e<t.a.length;)r=t.a[e],Se(o,r)||(t.a[n++]=r,o[r]=1),e++;t.a.length=n}}function Se(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Oe(t,e){t&&t.log(Sc,e,void 0)}function Te(t){return Cu(t,function(t){return t=t.toString(16),1<t.length?t:"0"+t}).join("")}function Ie(t){var e="";return Ne(t,function(t){e+=String.fromCharCode(t)}),e}function Ne(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),o=Nc[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}Ae();for(var r=0;;){var o=n(-1),i=n(0),s=n(64),a=n(64);if(64===a&&-1===o)break;e(o<<2|i>>4),64!=s&&(e(i<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}function Ae(){if(!Ic){Ic={},Nc={};for(var t=0;65>t;t++)Ic[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Nc[Ic[t]]=t,62<=t&&(Nc["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}function Pe(t,e){this.g=[],this.v=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function Re(t,e,n){t.a=!0,t.c=n,t.f=!e,Le(t)}function xe(t){if(t.a){if(!t.u)throw new je;t.u=!1}}function ke(t,e){De(t,null,e,void 0)}function De(t,e,n,r){t.g.push([e,n,r]),t.a&&Le(t)}function Me(t){return Su(t.g,function(t){return u(t[1])})}function Le(t){if(t.h&&t.a&&Me(t)){var e=t.h,n=Pc[e];n&&(uu.clearTimeout(n.a),delete Pc[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var o=t.g.shift(),i=o[0],s=o[1];if(o=o[2],i=t.f?s:i)try{var a=i.call(o||t.o,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(q(e)||"function"==typeof uu.Promise&&e instanceof uu.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Me(t)||(n=!0)}}t.c=e,r&&(a=p(t.m,t,!0),r=p(t.m,t,!1),e instanceof Pe?(De(e,a,r),e.w=!0):e.then(a,r)),n&&(e=new Ve(e),Pc[e.a]=e,t.h=e.a)}function je(){y.call(this)}function Fe(){y.call(this)}function Ve(t){this.a=uu.setTimeout(p(this.c,this),0),this.b=t}function Ue(){this.b=-1}function Be(t,e){this.b=-1,this.b=Rc,this.f=uu.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=uu.Int32Array?new Int32Array(64):Array(64),Ac||(Ac=uu.Int32Array?new Int32Array(Lc):Lc),this.reset()}function qe(t){for(var e=t.f,n=t.l,r=0,o=0;o<e.length;)n[r++]=e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3],o=4*r;for(e=16;64>e;e++){o=0|n[e-15],r=0|n[e-2];var i=(0|n[e-16])+((o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=i+s|0}r=0|t.a[0],o=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(i=0|t.a[7],e=0;64>e;e++){var p=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&a^o&a)|0;s=c&l^~c&h,i=i+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,s=s+(0|Ac[e])|0,s=i+(s+(0|n[e])|0)|0,i=h,h=l,l=c,c=u+s|0,u=a,a=o,o=r,r=s+p|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+o|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+i|0}function We(e,n,r){void 0===r&&(r=n.length);var o=0,i=e.c;if(t(n))for(;o<r;)e.f[i++]=n.charCodeAt(o++),i==e.b&&(qe(e),i=0);else{if(!a(n))throw Error("message must be string or array");for(;o<r;){var s=n[o++];if(!("number"==typeof s&&0<=s&&255>=s&&s==(0|s)))throw Error("message must be a byte array");e.f[i++]=s,i==e.b&&(qe(e),i=0)}}e.c=i,e.g+=r}function He(){Be.call(this,8,jc)}function Ke(e){if(e.P&&"function"==typeof e.P)return e.P();if(t(e))return e.split("");if(a(e)){for(var n=[],r=e.length,o=0;o<r;o++)n.push(e[o]);return n}return R(e)}function Ge(e){if(e.S&&"function"==typeof e.S)return e.S();if(!e.P||"function"!=typeof e.P){if(a(e)||t(e)){var n=[];e=e.length;for(var r=0;r<e;r++)n.push(r);return n}return x(e)}}function Qe(e,n){if(e.forEach&&"function"==typeof e.forEach)e.forEach(n,void 0);else if(a(e)||t(e))Eu(e,n,void 0);else for(var r=Ge(e),o=Ke(e),i=o.length,s=0;s<i;s++)n.call(void 0,o[s],r&&r[s],e)}function ze(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var i=t[n].substring(0,r);o=t[n].substring(r+1)}else i=t[n];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Je(t,e){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof Je){this.f=void 0!==e?e:t.f,Xe(this,t.c),this.l=t.l,this.b=t.b,Ye(this,t.i),this.g=t.g,e=t.a;var n=new an;n.c=e.c,e.a&&(n.a=new Ee(e.a),n.b=e.b),Ze(this,n),this.h=t.h}else t&&(n=String(t).match(Fc))?(this.f=!!e,Xe(this,n[1]||"",!0),this.l=rn(n[2]||""),this.b=rn(n[3]||"",!0),Ye(this,n[4]),this.g=rn(n[5]||"",!0),Ze(this,n[6]||"",!0),this.h=rn(n[7]||"")):(this.f=!!e,this.a=new an(null,0,this.f))}function Xe(t,e,n){t.c=n?rn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Ye(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Ze(t,e,n){e instanceof an?(t.a=e,yn(t.a,t.f)):(n||(e=on(e,qc)),t.a=new an(e,0,t.f))}function $e(t,e,n){t.a.set(e,n)}function tn(t,e){return t.a.get(e)}function en(t){return t instanceof Je?new Je(t):new Je(t,void 0)}function nn(t,e){var n=new Je(null,void 0);return Xe(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function rn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function on(e,n,r){return t(e)?(e=encodeURI(e).replace(n,sn),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sn(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}function an(t,e,n){this.b=this.a=null,this.c=t||null,this.f=!!n}function un(t){t.a||(t.a=new Ee,t.b=0,t.c&&ze(t.c,function(e,n){ln(t,decodeURIComponent(e.replace(/\+/g," ")),n)}))}function cn(t){var e=Ge(t);if(void 0===e)throw Error("Keys are undefined");var n=new an(null,0,void 0);t=Ke(t);for(var r=0;r<e.length;r++){var o=e[r],i=t[r];s(i)?fn(n,o,i):ln(n,o,i)}return n}function ln(t,e,n){un(t),t.c=null,e=dn(t,e);var r=t.a.get(e);r||t.a.set(e,r=[]),r.push(n),t.b+=1}function hn(t,e){un(t),e=dn(t,e),Se(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Se(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ce(t)))}function pn(t,e){return un(t),e=dn(t,e),Se(t.a.b,e)}function fn(t,e,n){hn(t,e),0<n.length&&(t.c=null,t.a.set(dn(t,e),N(n)),t.b+=n.length)}function dn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function yn(t,e){e&&!t.f&&(un(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(hn(this,e),fn(this,n,t))},t)),t.f=e}function vn(){}function mn(t){return t.c||(t.c=t.b())}function gn(){}function bn(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function _n(t){le.call(this),this.headers=new Ee,this.w=t||null,this.b=!1,this.v=this.a=null,this.g=this.I=this.i="",this.c=this.G=this.h=this.A=!1,this.f=0,this.m=null,this.l=Kc,this.o=this.N=!1}function wn(t,e,n,r,o){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.i+"; newUri="+e);n=n?n.toUpperCase():"GET",t.i=e,t.g="",t.I=n,t.A=!1,t.b=!0,t.a=t.w?t.w.a():Hc.a(),t.v=mn(t.w?t.w:Hc),t.a.onreadystatechange=p(t.zb,t);try{Oe(t.J,xn(t,"Opening Xhr")),t.G=!0,t.a.open(n,String(e),!0),t.G=!1}catch(e){return Oe(t.J,xn(t,"Error opening Xhr: "+e.message)),void Sn(t,e)}e=r||"";var i=new Ee(t.headers);o&&Qe(o,function(t,e){i.set(e,t)}),o=C(i.S()),r=uu.FormData&&e instanceof uu.FormData,!S(Jc,n)||o||r||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.l&&(t.a.responseType=t.l),"withCredentials"in t.a&&t.a.withCredentials!==t.N&&(t.a.withCredentials=t.N);try{Nn(t),0<t.f&&(t.o=En(t.a),Oe(t.J,xn(t,"Will abort after "+t.f+"ms if incomplete, xhr2 "+t.o)),t.o?(t.a.timeout=t.f,t.a.ontimeout=p(t.Ea,t)):t.m=ye(t.Ea,t.f,t)),Oe(t.J,xn(t,"Sending request")),t.h=!0,t.a.send(e),t.h=!1}catch(e){Oe(t.J,xn(t,"Send error: "+e.message)),Sn(t,e)}}function En(t){return Pu&&U(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function Cn(t){return"content-type"==t.toLowerCase()}function Sn(t,e){t.b=!1,t.a&&(t.c=!0,t.a.abort(),t.c=!1),t.g=e,On(t),In(t)}function On(t){t.A||(t.A=!0,he(t,"complete"),he(t,"error"))}function Tn(t){if(t.b&&void 0!==au)if(t.v[1]&&4==An(t)&&2==Pn(t))Oe(t.J,xn(t,"Local request error detected and ignored"));else if(t.h&&4==An(t))ye(t.zb,0,t);else if(he(t,"readystatechange"),4==An(t)){Oe(t.J,xn(t,"Request complete")),t.b=!1;try{var e=Pn(t);t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var o;if(o=0===e){var i=String(t.i).match(Fc)[1]||null;if(!i&&uu.self&&uu.self.location){var s=uu.self.location.protocol;i=s.substr(0,s.length-1)}o=!zc.test(i?i.toLowerCase():"")}r=o}if(r)he(t,"complete"),he(t,"success");else{try{var a=2<An(t)?t.a.statusText:""}catch(e){Oe(t.J,"Can not get status: "+e.message),a=""}t.g=a+" ["+Pn(t)+"]",On(t)}}finally{In(t)}}}function In(t,e){if(t.a){Nn(t);var n=t.a,o=t.v[0]?r:null;t.a=null,t.v=null,e||he(t,"ready");try{n.onreadystatechange=o}catch(e){(t=t.J)&&t.log(Ec,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Nn(t){t.a&&t.o&&(t.a.ontimeout=null),"number"==typeof t.m&&(uu.clearTimeout(t.m),t.m=null)}function An(t){return t.a?t.a.readyState:0}function Pn(t){try{return 2<An(t)?t.a.status:-1}catch(t){return-1}}function Rn(t){try{return t.a?t.a.responseText:""}catch(e){return Oe(t.J,"Can not get responseText: "+e.message),""}}function xn(t,e){return e+" ["+t.I+" "+t.i+" "+Pn(t)+"]"}function kn(t){var e={},n=e.document||document,r=Ct(t),o=document.createElement("SCRIPT"),i={Bb:o,Ea:void 0},s=new Pe(Mn,i),a=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(a=window.setTimeout(function(){Ln(o,!0);var t=new jn(Zc,"Timeout reached for loading script "+r);xe(s),Re(s,!1,t)},u),i.Ea=a),o.onload=o.onreadystatechange=function(){o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(Ln(o,e.Oc||!1,a),s.A(null))},o.onerror=function(){Ln(o,!0,a);var t=new jn(Yc,"Error while loading script "+r);xe(s),Re(s,!1,t)},i=e.attributes||{},L(i,{type:"text/javascript",charset:"UTF-8"}),Dt(o,i),o.src=Ct(t),Dn(n).appendChild(o),s}function Dn(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}function Mn(){if(this&&this.Bb){var t=this.Bb;t&&"SCRIPT"==t.tagName&&Ln(t,!0,this.Ea)}}function Ln(t,e,n){null!=n&&uu.clearTimeout(n),t.onload=r,t.onerror=r,t.onreadystatechange=r,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}function jn(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),y.call(this,n),this.code=t}function Fn(){}function Vn(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.a.onload=p(this.Sb,this),this.a.onerror=p(this.wb,this),this.a.onprogress=p(this.Tb,this),this.a.ontimeout=p(this.Ub,this)}function Un(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Bn(){var t=or();return Pu&&!!Fu&&11==Fu||/Edge\/\d+/.test(t)}function qn(){return uu.window&&uu.window.location.href||""}function Wn(t,e){e=e||uu.window;var n="about:blank";t&&(n=It(Nt(t))),e.location.href=n}function Hn(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):s(t[n])?D(t[n],e[n])||r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<Hn(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function Kn(){var t=or();return!((t=nr(t)!=el?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Pu||!Fu||9<Fu)}function Gn(t){return t=(t||or()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Qn(t){t=t||uu.window;try{t.close()}catch(t){}}function zn(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var o=(window.screen.availHeight-n)/2,i=(window.screen.availWidth-e)/2;e={width:e,height:n,top:0<o?o:0,left:0<i?i:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=or().toLowerCase(),r&&(e.target=r,g(n,"crios/")&&(e.target="_blank")),nr(or())==tl&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(r=e)||(r={}),t=window,e=n instanceof Tt?n:Nt(void 0!==n.href?n.href:String(n)),n=r.target||n.target,o=[];for(s in r)switch(s){case"width":case"height":case"top":case"left":o.push(s+"="+r[s]);break;case"target":case"noreferrer":break;default:o.push(s+"="+(r[s]?1:0))}var s=o.join(",");if((A("iPhone")&&!A("iPod")&&!A("iPad")||A("iPad")||A("iPod"))&&t.navigator&&t.navigator.standalone&&n&&"_self"!=n?(s=t.document.createElement("A"),e instanceof Tt||e instanceof Tt||(e=e.la?e.ja():String(e),nc.test(e)||(e="about:invalid#zClosurez"),e=At(e)),s.href=It(e),s.setAttribute("target",n),r.noreferrer&&s.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,t,1),s.dispatchEvent(r),s={}):r.noreferrer?(s=t.open("",n,s),t=It(e),s&&(xu&&g(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,wt("b/12014412, meta tag with sanitized URL"),t='<META HTTP-EQUIV="refresh" content="0; url='+m(t)+'">',t=xt(t),s.document.write(Rt(t)),s.document.close())):s=t.open(It(e),n,s),s)try{s.focus()}catch(t){}return s}function Jn(t){return new Z(function(e){function n(){ve(2e3).then(function(){if(t&&!t.closed)return n();e()})}return n()})}function Xn(){var t=null;return new Z(function(e){"complete"==uu.document.readyState?e():(t=function(){e()},ee(window,"load",t))}).s(function(e){throw ne(window,"load",t),e})}function Yn(){return Zn(void 0)?Xn().then(function(){return new Z(function(t,e){var n=uu.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):nt(Error("Cordova must run in an Android or iOS file scheme."))}function Zn(t){return t=t||or(),!("file:"!==cr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function $n(){var t=uu.window;try{return!(!t||t==t.top)}catch(t){return!1}}function tr(){return su.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":su.INTERNAL.hasOwnProperty("node")?"Node":"Browser"}function er(){var t=tr();return"ReactNative"===t||"Node"===t}function nr(t){var e=t.toLowerCase();return g(e,"opera/")||g(e,"opr/")||g(e,"opios/")?"Opera":g(e,"iemobile")?"IEMobile":g(e,"msie")||g(e,"trident/")?"IE":g(e,"edge/")?"Edge":g(e,"firefox/")?tl:g(e,"silk/")?"Silk":g(e,"blackberry")?"Blackberry":g(e,"webos")?"Webos":!g(e,"safari/")||g(e,"chrome/")||g(e,"crios/")||g(e,"android")?!g(e,"chrome/")&&!g(e,"crios/")||g(e,"edge/")?g(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":el:"Safari"}function rr(t,e){e=e||[];var n,r=[],o={};for(n in nl)o[nl[n]]=!0;for(n=0;n<e.length;n++)void 0!==o[e[n]]&&(delete o[e[n]],r.push(e[n]));return r.sort(),e=r,e.length||(e=["FirebaseCore-web"]),r=tr(),o="",(o="Browser"===r?nr(or()):r)+"/JsCore/"+t+"/"+e.join(",")}function or(){return uu.navigator&&uu.navigator.userAgent||""}function ir(t,e){t=t.split("."),e=e||uu;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function sr(){try{var t=uu.localStorage,e=dr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Bn()||!!uu.indexedDB}catch(t){}return!1}function ar(){return(ur()||"chrome-extension:"===cr()||Zn())&&!er()&&sr()}function ur(){return"http:"===cr()||"https:"===cr()}function cr(){return uu.location&&uu.location.protocol||null}function lr(t){return t=t||or(),!Gn(t)&&nr(t)!=tl}function hr(t){return void 0===t?null:Ft(t)}function pr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function fr(t){if(null!==t)return JSON.parse(t)}function dr(t){return t||""+Math.floor(1e9*Math.random()).toString()}function yr(t){return t=t||or(),"Safari"!=nr(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function vr(){var t=uu.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function mr(){var t=uu.navigator;return!t||"boolean"!=typeof t.onLine||!ur()&&"chrome-extension:"!==cr()&&void 0===t.connection||t.onLine}function gr(t,e,n,r){if(t>e)throw Error("Short delay should be less than long delay!");this.c=t,this.b=e,t=n||or(),r=r||tr(),this.a=Gn(t)||"ReactNative"===r}function br(){var t=uu.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function _r(){var t=uu.document,e=null;return br()||!t?et():new Z(function(n){e=function(){br()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}function wr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Er(t,e,n){rl?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Cr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Er(t,n,e[n])}function Sr(t){var e={};return Cr(e,t),e}function Or(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Tr(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}function Ir(t){var e=t;if("object"==typeof t&&null!=t){e="length"in t?[]:{};for(var n in t)Er(e,n,Ir(t[n]))}return e}function Nr(t){var e={},n=t[sl],r=t[al];if(t=t[ul],!n||!t)throw Error("Invalid provider user info!");e[ll]=r||null,e[cl]=n,Er(this,pl,t),Er(this,hl,Ir(e))}function Ar(t,e){this.code=fl+t,this.message=e||dl[t]||""}function Pr(t){var e=t&&t.code;return e?new Ar(e.substring(fl.length),t.message):null}function Rr(t){var e=t[gl];if(void 0===e)throw new Ar("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Ar("invalid-continue-uri");this.h=e,this.c=this.a=null,this.g=!1;var n=t[yl];if(n&&"object"==typeof n){e=n[wl];var r=n[bl];if(n=n[_l],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Ar("argument-error",bl+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Ar("argument-error",_l+" property must be a non empty string when specified.");this.c=n||null}else{if(void 0!==e)throw new Ar("argument-error",wl+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Ar("missing-android-pkg-name")}}else if(void 0!==n)throw new Ar("argument-error",yl+" property must be a non null object when specified.");if(this.b=null,(e=t[ml])&&"object"==typeof e){if("string"==typeof(e=e[El])&&e.length)this.b=e;else if(void 0!==e)throw new Ar("argument-error",El+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Ar("argument-error",ml+" property must be a non null object when specified.");if(void 0!==(t=t[vl])&&"boolean"!=typeof t)throw new Ar("argument-error",vl+" property must be a boolean when specified.");if((this.f=!!t)&&!this.b&&!this.a)throw new Ar("argument-error",vl+" property can't be true when no mobile application is provided.")}function xr(t){var e={};e.continueUrl=t.h,e.canHandleCodeInApp=t.f,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.c,e.androidInstallApp=t.g),e.iOSBundleId=t.b;for(var n in e)null===e[n]&&delete e[n];return e}function kr(t){this.b=t.sub,hu(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null}function Dr(t){if(t=t.split("."),3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{var r=JSON.parse(Ie(t));if(r.sub&&r.iss&&r.aud&&r.exp)return new kr(r)}catch(t){}return null}function Mr(t){for(var e in Ol)if(Ol[e].Na==t)return Ol[e];return null}function Lr(t){var e={};e["facebook.com"]=Vr,e["google.com"]=Br,e["github.com"]=Ur,e["twitter.com"]=qr;var n=t&&t[Il];try{if(n)return e[n]?new e[n](t):new Fr(t);if(void 0!==t[Tl])return new jr(t)}catch(t){}return null}function jr(t){var e=t[Il];if(!e&&t[Tl]){var n=Dr(t[Tl]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");t=!!t.isNewUser,Er(this,"providerId",e),Er(this,"isNewUser",t)}function Fr(t){jr.call(this,t),t=fr(t.rawUserInfo||"{}"),Er(this,"profile",Ir(t||{}))}function Vr(t){if(Fr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ur(t){if(Fr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Er(this,"username",this.profile&&this.profile.login||null)}function Br(t){if(Fr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function qr(t){if(Fr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Er(this,"username",t.screenName||null)}function Wr(t,e){return t.then(function(t){if(t[Al]){var n=Dr(t[Al]);if(!n||e!=n.b)throw new Ar("user-mismatch");return t}throw new Ar("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==fl+"user-not-found"?new Ar("user-mismatch"):t})}function Hr(t,e){if(e.idToken||e.accessToken)e.idToken&&Er(this,"idToken",e.idToken),e.accessToken&&Er(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Ar("internal-error","failed to construct a credential");Er(this,"accessToken",e.oauthToken),Er(this,"secret",e.oauthTokenSecret)}Er(this,"providerId",t)}function Kr(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:cn(e).toString(),requestUri:"http://localhost"}}function Gr(t,e){this.nc=e||[],Cr(this,{providerId:t,isOAuthProvider:!0}),this.qb={},this.Wa=(Mr(t)||{}).Ma||null,this.Ua=null}function Qr(t){Gr.call(this,t,Sl),this.a=[]}function zr(){Qr.call(this,"facebook.com")}function Jr(t){if(!t)throw new Ar("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return c(t)&&(e=t.accessToken),(new zr).credential(null,e)}function Xr(){Qr.call(this,"github.com")}function Yr(t){if(!t)throw new Ar("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return c(t)&&(e=t.accessToken),(new Xr).credential(null,e)}function Zr(){Qr.call(this,"google.com"),this.sa("profile")}function $r(t,e){var n=t;return c(t)&&(n=t.idToken,e=t.accessToken),(new Zr).credential(n,e)}function to(){Gr.call(this,"twitter.com",Cl)}function eo(t,e){var n=t;if(c(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Ar("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Hr("twitter.com",n)}function no(t,e){this.a=t,this.f=e,Er(this,"providerId","password")}function ro(){Cr(this,{providerId:"password",isOAuthProvider:!1})}function oo(t){if(!(t.Pa&&t.Oa||t.Da&&t.Y))throw new Ar("internal-error");this.a=t,Er(this,"providerId","phone")}function io(t){return t.a.Da&&t.a.Y?{temporaryProof:t.a.Da,phoneNumber:t.a.Y}:{sessionInfo:t.a.Pa,code:t.a.Oa}}function so(t){try{this.a=t||su.auth()}catch(t){throw new Ar("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Cr(this,{providerId:"phone",isOAuthProvider:!1})}function ao(t,e){if(!t)throw new Ar("missing-verification-id");if(!e)throw new Ar("missing-verification-code");return new oo({Pa:t,Oa:e})}function uo(t){if(t.temporaryProof&&t.phoneNumber)return new oo({Da:t.temporaryProof,Y:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return $r(t,n);case"facebook.com":return Jr(n);case"github.com":return Yr(n);case"twitter.com":return eo(n,r);default:return new Qr(e).credential(t,n)}}catch(t){return null}}function co(t){if(!t.isOAuthProvider)throw new Ar("invalid-oauth-provider")}function lo(t,e,n,r,o){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.a=o||null,!this.f&&!this.a)throw new Ar("invalid-auth-event");if(this.f&&this.a)throw new Ar("invalid-auth-event");if(this.f&&!this.g)throw new Ar("invalid-auth-event")}function ho(t){return t=t||{},t.type?new lo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Pr(t.error)):null}function po(t){var e="unauthorized-domain",n=void 0,r=en(t);t=r.b,r=r.c,"chrome-extension"==r?n=v("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=v("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Ar.call(this,e,n)}function fo(t,e,n){Ar.call(this,t,n),t=e||{},t.rb&&Er(this,"email",t.rb),t.Y&&Er(this,"phoneNumber",t.Y),t.credential&&Er(this,"credential",t.credential)}function yo(t){if(t.code){var e=t.code||"";0==e.indexOf(fl)&&(e=e.substring(fl.length));var n={credential:uo(t)};if(t.email)n.rb=t.email;else{if(!t.phoneNumber)return new Ar(e,t.message||void 0);n.Y=t.phoneNumber}return new fo(e,n,t.message)}return null}function vo(t){this.f=t}function mo(t,e,n){var r="Node"==tr();if(!(r=uu.XMLHttpRequest||r&&su.INTERNAL.node&&su.INTERNAL.node.XMLHttpRequest))throw new Ar("internal-error","The XMLHttpRequest compatibility library was not found.");this.b=t,t=e||{},this.i=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=t.secureTokenTimeout||Pl,this.c=M(t.secureTokenHeaders||Rl),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||xl,this.a=M(t.firebaseHeaders||kl),n&&(this.a["X-Client-Version"]=n,this.c["X-Client-Version"]=n),this.f=new Fn,this.o=new vo(r)}function go(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function bo(t,e){e?(t.a["X-Client-Version"]=e,t.c["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.c["X-Client-Version"])}function _o(t,e,n,r,o,i,s){mr()?(Kn()?t=p(t.m,t):(Nl||(Nl=new Z(function(t,e){wo(t,e)})),t=p(t.u,t)),t(e,n,r,o,i,s)):n&&n(null)}function wo(t,e){if(((window.gapi||{}).client||{}).request)t();else{uu[Ml]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};ke(kn(St(Dl,{onload:Ml})),function(){e(Error("CORS_UNSUPPORTED"))})}}function Eo(t,e){return new Z(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?_o(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(Uo(t)):t.access_token&&t.refresh_token?n(t):r(new Ar("internal-error")):r(new Ar("network-request-failed"))},"POST",cn(e).toString(),t.c,t.l.get()):r(new Ar("internal-error"))})}function Co(t,e,n,r,o,i){var s=en(t.g+e);$e(s,"key",t.b),i&&$e(s,"cb",hu().toString());var a="GET"==n;if(a)for(var u in r)r.hasOwnProperty(u)&&$e(s,u,r[u]);return new Z(function(e,i){_o(t,s.toString(),function(t){t?t.error?i(Uo(t,o||{})):e(t):i(new Ar("network-request-failed"))},n,a?void 0:Ft(pr(r)),t.a,t.h.get())})}function So(t){if(!Xc.test(t.email))throw new Ar("invalid-email")}function Oo(t){"email"in t&&So(t)}function To(t,e){return Fo(t,Bl,{identifier:e,continueUri:ur()?qn():"http://localhost"}).then(function(t){return t.allProviders||[]})}function Io(t){return Fo(t,Ql,{}).then(function(t){return t.authorizedDomains||[]})}function No(t){if(!t[Al])throw new Ar("internal-error")}function Ao(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Ar("internal-error")}else{if(!t.sessionInfo)throw new Ar("missing-verification-id");if(!t.code)throw new Ar("missing-verification-code")}}function Po(t,e){return Fo(t,Xl,e)}function Ro(t,e,n){return Fo(t,Wl,{idToken:e,deleteProvider:n})}function xo(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new Ar("internal-error")}function ko(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=yo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=yo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=yo(t)):t.errorMessage&&(e=Vo(t.errorMessage)),e)throw e;if(!t[Al])throw new Ar("internal-error")}function Do(t,e){return e.returnIdpCredential=!0,Fo(t,th,e)}function Mo(t,e){return e.returnIdpCredential=!0,Fo(t,nh,e)}function Lo(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Fo(t,eh,e)}function jo(t){if(!t.oobCode)throw new Ar("invalid-action-code")}function Fo(t,e,n){if(!Tr(n,e.ea))return nt(new Ar("internal-error"));var r,o=e.yb||"POST";return et(n).then(e.D).then(function(){return e.T&&(n.returnSecureToken=!0),Co(t,e.endpoint,o,n,e.Lb,e.nb||!1)}).then(function(t){return r=t}).then(e.O).then(function(){if(!e.ga)return r;if(!(e.ga in r))throw new Ar("internal-error");return r[e.ga]})}function Vo(t){return Uo({error:{errors:[{message:t}],code:400,message:t}})}function Uo(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Ar(r[n]):null)return n;n=t.error&&t.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},L(r,e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0;for(var o in r)if(0===n.indexOf(o))return new Ar(r[o],e);return!e&&t&&(e=hr(t)),new Ar("internal-error",e)}function Bo(t){for(var e in uh)if(uh[e].id===t)return t=uh[e],{firebaseEndpoint:t.Va,secureTokenEndpoint:t.ab};return null}function qo(t){this.b=t,this.a=null,this.Ya=Wo(this)}function Wo(t){return Go().then(function(){return new Z(function(e,n){ir("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function o(){clearTimeout(i),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var i=setTimeout(function(){n(Error("Network Error"))},hh.get());r.ping(o).then(o,function(){n(Error("Network Error"))})})})})}function Ho(t,e){return t.Ya.then(function(){return new Z(function(n){t.a.send(e.type,e,n,ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Ko(t,e){t.Ya.then(function(){t.a.register("authEvent",e,ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}function Go(){return ph||(ph=new Z(function(t,e){if(mr()){var n=function(){vr(),ir("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){vr(),e(Error("Network Error"))},timeout:lh.get()})};if(ir("gapi.iframes.Iframe"))t();else if(ir("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();uu[r]=function(){ir("gapi.load")?n():e(Error("Network Error"))},r=St(ch,{onload:r}),et(kn(r)).s(function(){e(Error("Network Error"))})}}else e(Error("Network Error"))}).s(function(t){throw ph=null,t}))}function Qo(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=nn(this.i,"/__/auth/iframe"),$e(this.a,"apiKey",this.g),$e(this.a,"appName",this.h),this.b=null,this.c=[]}function zo(t,e,n,r,o){this.m=t,this.u=e,this.c=n,this.l=r,this.i=this.g=this.h=null,this.a=o,this.f=null}function Jo(t){try{return su.app(t).auth().Ka()}catch(t){return[]}}function Xo(t,e,n,r,o){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=o||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Yo(t){var e=qn();return Io(t).then(function(t){t:{var n=en(e),r=n.c;n=n.b;for(var o=0;o<t.length;o++){var i=t[o],s=n,a=r;if(0==i.indexOf("chrome-extension://")?s=en(i).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:$c.test(i)?s=s==i:(i=i.split(".").join("\\."),s=new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new po(qn())})}function Zo(t){return t.l?t.l:(t.l=Xn().then(function(){if(!t.o){var e=t.c,n=t.h,r=Jo(t.b),o=new Qo(t.u,t.f,t.b);o.f=e,o.b=n,o.c=N(r||[]),t.o=o.toString()}t.i=new qo(t.o),ei(t)}),t.l)}function $o(t){return t.m||(t.v=t.c?rr(t.c,Jo(t.b)):null,t.m=new mo(t.f,Bo(t.h),t.v)),t.m}function ti(t,e,n,r,o,i,s,a,u,c){return t=new zo(t,e,n,r,o),t.h=i,t.g=s,t.i=a,t.b=M(u||null),t.f=c,t.toString()}function ei(t){if(!t.i)throw Error("IfcHandler must be initialized!");Ko(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=ho(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return n={},n.status=r?"ACK":"ERROR",et(n)}return n.status="ERROR",et(n)})}function ni(t){var e={type:"webStorageSupport"};return Zo(t).then(function(){return Ho(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})}function ri(t){if(this.a=t||su.INTERNAL.reactNative&&su.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Ar("internal-error","The React Native compatibility library was not found.")}function oi(){this.a={}}function ii(t,e,n,r,o,i){try{var s=!!uu.indexedDB}catch(t){s=!1}if(!s)throw new Ar("web-storage-unsupported");this.u=t,this.h=e,this.g=n,this.l=r,this.m=o,this.f={},this.c=[],this.a=0,this.o=i||uu.indexedDB}function si(t){return new Z(function(e,n){var r=t.o.open(t.u,t.m);r.onerror=function(t){n(Error(t.target.errorCode))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore(t.h,{keyPath:t.g})}catch(t){n(t)}},r.onsuccess=function(t){e(t.target.result)}})}function ai(t){return t.i||(t.i=si(t)),t.i}function ui(t,e){return e.objectStore(t.h)}function ci(t,e,n){return e.transaction([t.h],n?"readwrite":"readonly")}function li(t){return new Z(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})}function hi(t){function e(){return t.b=ve(800).then(p(t.vc,t)).then(function(e){0<e.length&&Eu(t.c,function(t){t(e)})}).then(e).s(function(t){"STOP_EVENT"!=t.message&&e()}),t.b}t.b&&t.b.cancel("STOP_EVENT"),e()}function pi(){if(!di()){if("Node"==tr())throw new Ar("internal-error","The LocalStorage compatibility library was not found.");throw new Ar("web-storage-unsupported")}this.a=fi()||su.INTERNAL.node.localStorage}function fi(){try{var t=uu.localStorage,e=dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function di(){var t="Node"==tr();if(!(t=fi()||t&&su.INTERNAL.node&&su.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}function yi(){}function vi(){if(!gi()){if("Node"==tr())throw new Ar("internal-error","The SessionStorage compatibility library was not found.");throw new Ar("web-storage-unsupported")}this.a=mi()||su.INTERNAL.node.sessionStorage}function mi(){try{var t=uu.sessionStorage,e=dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function gi(){var t="Node"==tr();if(!(t=mi()||t&&su.INTERNAL.node&&su.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}function bi(){var t={};t.Browser=vh,t.Node=mh,t.ReactNative=gh,this.a=t[tr()]}function _i(t){var e=new Ar("invalid-persistence-type"),n=new Ar("unsupported-persistence-type");t:{for(r in bh)if(bh[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(tr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!sr()&&"none"!==t)throw n}}function wi(t,e,n,r,o){this.i=t,this.g=e,this.A=n,this.u=r,this.v=o,this.a={},dh||(dh=new bi),t=dh;try{if(Bn()){fh||(fh=new ii("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1));var i=fh}else i=new t.a.C;this.l=i}catch(t){this.l=new oi,this.u=!0}try{this.o=new t.a.jb}catch(t){this.o=new oi}this.w=new oi,this.h=p(this.m,this),this.b={}}function Ei(){return yh||(yh=new wi("firebase",":",!(yr(or())||!$n()),lr(),sr())),yh}function Ci(t,e){switch(e){case"session":return t.o;case"none":return t.w;default:return t.l}}function Si(t,e,n){return t.i+t.g+e.name+(n?t.g+n:"")}function Oi(t,e,n){return n=Si(t,e,n),"local"==e.C&&(t.b[n]=null),Ci(t,e.C).X(n)}function Ti(t,e,n,r){e=Si(t,e,n),t.v&&(t.b[e]=uu.localStorage.getItem(e)),k(t.a)&&(Ci(t,"local").ia(t.h),t.u||Bn()||!t.v||Ni(t)),t.a[e]||(t.a[e]=[]),t.a[e].push(r)}function Ii(t,e,n){e=Si(t,ca("local"),e),t.a[e]&&(T(t.a[e],function(t){return t==n}),0==t.a[e].length&&delete t.a[e]),k(t.a)&&Pi(t)}function Ni(t){Ai(t),t.f=setInterval(function(){for(var e in t.a){var n=uu.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Kt({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.m(n))}},1e3)}function Ai(t){t.f&&(clearInterval(t.f),t.f=null)}function Pi(t){Ci(t,"local").da(t.h),Ai(t)}function Ri(t){this.a=t,this.b=Ei()}function xi(t){return t.b.get(_h,t.a).then(function(t){return ho(t)})}function ki(){this.a=Ei()}function Di(t,e,n,r,o,i,s){this.u=t,this.i=e,this.l=n,this.m=r||null,this.o=s||null,this.h=e+":"+n,this.A=new ki,this.g=new Ri(this.h),this.f=null,this.b=[],this.v=o||500,this.w=i||2e3,this.a=this.c=null}function Mi(t){return new Ar("invalid-cordova-configuration",t)}function Li(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function ji(t){var e=new He;We(e,t),t=[];var n=8*e.g;56>e.c?We(e,Mc,56-e.c):We(e,Mc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(qe(e),r=n=0;r<e.i;r++)for(var o=24;0<=o;o-=8)t[n++]=e.a[r]>>o&255;return Te(t)}function Fi(t,e,n,r){var o=Li(),i=new lo(e,r,null,o,new Ar("no-auth-event")),s=ir("BuildInfo.packageName",uu);if("string"!=typeof s)throw new Ar("invalid-cordova-configuration");var a=ir("BuildInfo.displayName",uu),u={};if(or().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=s;else{if(!or().toLowerCase().match(/android/))return nt(new Ar("operation-not-supported-in-this-environment"));u.apn=s}a&&(u.appDisplayName=a),o=ji(o),u.sessionId=o;var c=ti(t.u,t.i,t.l,e,n,null,r,t.m,u,t.o);return t.ba().then(function(){var e=t.h;return t.A.a.set(_h,i.B(),e)}).then(function(){var e=ir("cordova.plugins.browsertab.isAvailable",uu);if("function"!=typeof e)throw new Ar("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=ir("cordova.plugins.browsertab.openUrl",uu)))throw new Ar("invalid-cordova-configuration");n(c)}else{if("function"!=typeof(n=ir("cordova.InAppBrowser.open",uu)))throw new Ar("invalid-cordova-configuration");e=or(),e=!(!e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=n(c,e?"_blank":"_system","location=yes")}})})}function Vi(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Ui(t){return t.f||(t.f=t.ba().then(function(){return new Z(function(e){function n(r){return e(r),t.Ja(n),!1}t.ua(n),qi(t)})})),t.f}function Bi(t){var e=null;return xi(t.g).then(function(n){return e=n,n=t.g,Oi(n.b,_h,n.a)}).then(function(){return e})}function qi(t){function e(e){o=!0,i&&i.cancel(),Bi(t).then(function(n){var o=r;if(n&&e&&e.url){o=null;var i=e.url,s=en(i),a=tn(s,"link"),u=tn(en(a),"link");s=tn(s,"deep_link_id"),i=tn(en(s),"link")||s||u||a||i,-1!=i.indexOf("/__/auth/callback")&&(o=en(i),o=fr(tn(o,"firebaseError")||null),o=(o="object"==typeof o?Pr(o):null)?new lo(n.b,n.c,null,null,o):new lo(n.b,n.c,i,n.g)),o=o||r}Vi(t,o)})}var n=ir("universalLinks.subscribe",uu);if("function"!=typeof n)throw new Ar("invalid-cordova-configuration");var r=new lo("unknown",null,null,null,new Ar("no-auth-event")),o=!1,i=ve(t.v).then(function(){return Bi(t).then(function(){o||Vi(t,r)})}),s=uu.handleOpenURL;uu.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(ir("BuildInfo.packageName",uu).toLowerCase()+"://")&&e({url:t}),"function"==typeof s)try{s(t)}catch(t){console.error(t)}},n(null,e)}function Wi(t){this.a=t,this.b=Ei()}function Hi(t){return t.b.set(wh,"pending",t.a)}function Ki(t){return Oi(t.b,wh,t.a)}function Gi(t){return t.b.get(wh,t.a).then(function(t){return"pending"==t})}function Qi(t,e,n){this.v=t,this.l=e,this.u=n,this.h=[],this.f=!1,this.i=p(this.m,this),this.c=new ts,this.o=new as,this.g=new Wi(this.l+":"+this.u),this.b={},this.b.unknown=this.c,this.b.signInViaRedirect=this.c,this.b.linkViaRedirect=this.c,this.b.reauthViaRedirect=this.c,this.b.signInViaPopup=this.o,this.b.linkViaPopup=this.o,this.b.reauthViaPopup=this.o,this.a=zi(this.v,this.l,this.u,jl)}function zi(t,e,n,r){var o=su.SDK_VERSION||null;return Zn()?new Di(t,e,n,o,void 0,void 0,r):new Xo(t,e,n,o,r)}function Ji(t){t.f||(t.f=!0,t.a.ua(t.i));var e=t.a;return t.a.ba().s(function(n){throw t.a==e&&t.reset(),n})}function Xi(t){t.a.Cb()&&Ji(t).s(function(e){var n=new lo("unknown",null,null,null,new Ar("operation-not-supported-in-this-environment"));Zi(e)&&t.m(n)}),t.a.xb()||es(t.c)}function Yi(t,e,n,r,o,i){return t.a.ub(e,n,r,function(){t.f||(t.f=!0,t.a.ua(t.i))},function(){t.reset()},o,i)}function Zi(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function $i(t,e,n){var r=e+":"+n;return Sh[r]||(Sh[r]=new Qi(t,e,n)),Sh[r]}function ts(){this.b=null,this.f=[],this.c=[],this.a=null,this.g=!1}function es(t){t.g||(t.g=!0,is(t,!1,null,null))}function ns(t,e,n){n=n.va(e.b,e.c);var r=e.f,o=e.g,i=!!e.b.match(/Redirect$/);return n(r,o).then(function(e){is(t,i,e,null)}).s(function(e){is(t,i,null,e)})}function rs(t,e){if(t.b=function(){return nt(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function os(t,e){if(t.b=function(){return et(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function is(t,e,n,r){e?r?rs(t,r):os(t,n):os(t,{user:null}),t.f=[],t.c=[]}function ss(t){var e=new Ar("timeout");t.a&&t.a.cancel(),t.a=ve(Ch.get()).then(function(){t.b||is(t,!0,null,e)})}function as(){}function us(t,e){var n=t.c,r=t.b;return e.va(r,n)(t.f,t.g).then(function(t){e.fa(r,t,null,n)}).s(function(t){e.fa(r,null,t,n)})}function cs(t,e){this.a=e,Er(this,"verificationId",t)}function ls(t,e,n,r){return new so(t).Qa(e,n).then(function(t){return new cs(t,r)})}function hs(t,e,n,r,o,i){if(this.h=t,this.i=e,this.g=n,this.c=r,this.f=o,this.l=!!i,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ps(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function fs(t,e){ds(t),t.b=ve(ps(t,e)).then(function(){return t.l?et():_r()}).then(function(){return t.h()}).then(function(){fs(t,!0)}).s(function(e){t.i(e)&&fs(t,!1)})}function ds(t){t.b&&(t.b.cancel(),t.b=null)}function ys(t){this.f=t,this.b=this.a=null,this.c=0}function vs(t,e){var n=e[Al],r=e.refreshToken;e=ms(e.expiresIn),t.b=n,t.c=e,t.a=r}function ms(t){return hu()+1e3*parseInt(t,10)}function gs(t,e){return Eo(t.f,e).then(function(e){return t.b=e.access_token,t.c=ms(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function bs(t,e){this.a=t||null,this.b=e||null,Cr(this,{lastSignInTime:wr(e||null),creationTime:wr(t||null)})}function _s(t){return new bs(t.a,t.b)}function ws(t,e,n,r,o,i){Cr(this,{uid:t,displayName:r||null,photoURL:o||null,email:n||null,phoneNumber:i||null,providerId:e})}function Es(t,e){Ht.call(this,t);for(var n in e)this[n]=e[n]}function Cs(t,e,n){this.A=[],this.G=t.apiKey,this.o=t.appName,this.w=t.authDomain||null,t=su.SDK_VERSION?rr(su.SDK_VERSION):null,this.c=new mo(this.G,Bo(jl),t),this.h=new ys(this.c),Rs(this,e[Al]),vs(this.h,e),Er(this,"refreshToken",this.h.a),Ms(this,n||{}),le.call(this),this.I=!1,this.w&&ar()&&(this.a=$i(this.w,this.G,this.o)),this.N=[],this.i=null,this.l=Ns(this),this.U=p(this.Ga,this);var r=this;this.ha=null,this.ra=function(t){r.na(t.h)},this.W=null,this.R=[],this.qa=function(t){Os(r,t.f)},this.V=null}function Ss(t,e){t.W&&ne(t.W,"languageCodeChanged",t.ra),(t.W=e)&&Zt(e,"languageCodeChanged",t.ra)}function Os(t,e){t.R=e,bo(t.c,su.SDK_VERSION?rr(su.SDK_VERSION,t.R):null)}function Ts(t,e){t.V&&ne(t.V,"frameworkChanged",t.qa),(t.V=e)&&Zt(e,"frameworkChanged",t.qa)}function Is(t){try{return su.app(t.o).auth()}catch(e){throw new Ar("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function Ns(t){return new hs(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-hu()-3e5;return 0<e?e:0},3e4,96e4,!1)}function As(t){t.m||t.l.b||(t.l.start(),ne(t,"tokenChanged",t.U),Zt(t,"tokenChanged",t.U))}function Ps(t){ne(t,"tokenChanged",t.U),ds(t.l)}function Rs(t,e){t.pa=e,Er(t,"_lat",e)}function xs(t,e){T(t.N,function(t){return t==e})}function ks(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return it(e).then(function(){return t})}function Ds(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function Ms(t,e){Cr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new bs(e.createdAt,e.lastLoginAt),providerData:[]})}function Ls(){}function js(t){return et().then(function(){if(t.m)throw new Ar("app-deleted")})}function Fs(t){return Cu(t.providerData,function(t){return t.providerId})}function Vs(t,e){e&&(Us(t,e.providerId),t.providerData.push(e))}function Us(t,e){T(t.providerData,function(t){return t.providerId==e})}function Bs(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Er(t,e,n)}function qs(t,e){t!=e&&(Cr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),e.metadata?Er(t,"metadata",_s(e.metadata)):Er(t,"metadata",new bs),Eu(e.providerData,function(e){Vs(t,e)}),t.h=e.h,Er(t,"refreshToken",t.h.a))}function Ws(t){return t.F().then(function(e){var n=t.isAnonymous;return Ks(t,e).then(function(){return n||Bs(t,"isAnonymous",!1),e})})}function Hs(t,e){e[Al]&&t.pa!=e[Al]&&(vs(t.h,e),he(t,new Es("tokenChanged")),Rs(t,e[Al]),Bs(t,"refreshToken",t.h.a))}function Ks(t,e){return Fo(t.c,Hl,{idToken:e}).then(p(t.gc,t))}function Gs(t){return(t=t.providerUserInfo)&&t.length?Cu(t,function(t){return new ws(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}function Qs(t,e){return Ws(t).then(function(){if(S(Fs(t),e))return ks(t).then(function(){throw new Ar("provider-already-linked")})})}function zs(t,e,n){var r=uo(e);return e=Lr(e),Sr({user:t,credential:r,additionalUserInfo:e,operationType:n})}function Js(t,e){return Hs(t,e),t.reload().then(function(){return t})}function Xs(t,e,n,r,o){if(!ar())return nt(new Ar("operation-not-supported-in-this-environment"));if(t.i&&!o)return nt(t.i);var i=Mr(n.providerId),s=dr(t.uid+":::"),a=null;(!lr()||$n())&&t.w&&n.isOAuthProvider&&(a=ti(t.w,t.G,t.o,e,n,null,s,su.SDK_VERSION||null));var u=zn(a,i&&i.za,i&&i.ya);return r=r().then(function(){if(Zs(t),!o)return t.F().then(function(){})}).then(function(){return Yi(t.a,u,e,n,s,!!a)}).then(function(){return new Z(function(n,r){t.fa(e,null,new Ar("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=s,t.b=t.a.Ca(t,e,u,s)})}).then(function(t){return u&&Qn(u),t?Sr(t):null}).s(function(t){throw u&&Qn(u),t}),$s(t,r,o)}function Ys(t,e,n,r,o){if(!ar())return nt(new Ar("operation-not-supported-in-this-environment"));if(t.i&&!o)return nt(t.i);var i=null,s=dr(t.uid+":::");return r=r().then(function(){if(Zs(t),!o)return t.F().then(function(){})}).then(function(){return t.Z=s,ks(t)}).then(function(e){return t.ca&&(e=t.ca,e=e.b.set(Oh,t.B(),e.a)),e}).then(function(){return t.a.Aa(e,n,s)}).s(function(e){if(i=e,t.ca)return oa(t.ca);throw i}).then(function(){if(i)throw i}),$s(t,r,o)}function Zs(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Ar("internal-error");throw new Ar("auth-domain-config-required")}}function $s(t,e,n){var r=ta(t,e,n);return t.A.push(r),st(r,function(){O(t.A,r)}),r}function ta(t,e,n){return t.i&&!n?(e.cancel(),nt(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||he(t,new Es("userInvalidated")),t.i=e),e})}function ea(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Al]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-hu())/1e3;var r=new Cs(e,n,t);return t.providerData&&Eu(t.providerData,function(t){t&&Vs(r,Sr(t))}),t.redirectEventId&&(r.Z=t.redirectEventId),r}function na(t,e,n,r){var o=new Cs(t,e);return n&&(o.ca=n),r&&Os(o,r),o.reload().then(function(){return o})}function ra(t){this.a=t,this.b=Ei()}function oa(t){return Oi(t.b,Oh,t.a)}function ia(t,e){return t.b.get(Oh,t.a).then(function(t){return t&&e&&(t.authDomain=e),ea(t||{})})}function sa(t,e){this.a=t,this.b=e||Ei(),this.c=null,this.f=ua(this),Ti(this.b,ca("local"),this.a,p(this.g,this))}function aa(t,e){var n,r=[];for(n in bh)bh[n]!==e&&r.push(Oi(t.b,ca(bh[n]),t.a));return r.push(Oi(t.b,Th,t.a)),ot(r)}function ua(t){var e=ca("local"),n=ca("session"),r=ca("none");return t.b.get(n,t.a).then(function(o){return o?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Th,t.a).then(function(t){return t?ca(t):e})})})}).then(function(e){return t.c=e,aa(t,e.C)}).s(function(){t.c||(t.c=e)})}function ca(t){return{name:"authUser",C:t}}function la(t){return da(t,function(){return t.b.set(Th,t.c.C,t.a)})}function ha(t,e){return da(t,function(){return t.b.set(t.c,e.B(),t.a)})}function pa(t){return da(t,function(){return Oi(t.b,t.c,t.a)})}function fa(t,e){return da(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),ea(t||{})})})}function da(t,e){return t.f=t.f.then(e,e),t.f}function ya(t){if(this.l=!1,Er(this,"app",t),!Ia(this).options||!Ia(this).options.apiKey)throw new Ar("invalid-api-key");t=su.SDK_VERSION?rr(su.SDK_VERSION):null,this.c=new mo(Ia(this).options&&Ia(this).options.apiKey,Bo(jl),t),this.N=[],this.m=[],this.I=[],this.Gb=su.INTERNAL.createSubscribe(p(this.Xb,this)),this.R=void 0,this.Hb=su.INTERNAL.createSubscribe(p(this.Yb,this)),Ea(this,null),this.h=new sa(Ia(this).options.apiKey+":"+Ia(this).name),this.G=new ra(Ia(this).options.apiKey+":"+Ia(this).name),this.U=xa(this,Sa(this)),this.i=xa(this,Oa(this)),this.W=!1,this.ha=p(this.uc,this),this.Ga=p(this.ka,this),this.pa=p(this.Pb,this),this.qa=p(this.Vb,this),this.ra=p(this.Wb,this),_a(this),this.INTERNAL={},this.INTERNAL.delete=p(this.delete,this),this.INTERNAL.logFramework=p(this.cc,this),this.o=0,le.call(this),ga(this),this.A=[]}function va(t){Ht.call(this,"languageCodeChanged"),this.h=t}function ma(t){Ht.call(this,"frameworkChanged"),this.f=t}function ga(t){Object.defineProperty(t,"lc",{get:function(){return this.$()},set:function(t){this.na(t)},enumerable:!1}),t.V=null}function ba(t){return t.Fb||nt(new Ar("auth-domain-config-required"))}function _a(t){var e=Ia(t).options.authDomain,n=Ia(t).options.apiKey;e&&ar()&&(t.Fb=t.U.then(function(){if(!t.l){if(t.a=$i(e,n,Ia(t).name),t.a.subscribe(t),Na(t)&&Ds(Na(t)),t.w){Ds(t.w);var r=t.w;r.na(t.$()),Ss(r,t),r=t.w,Os(r,t.A),Ts(r,t),t.w=null}return t.a}}))}function wa(t,e){var n={};return n.apiKey=Ia(t).options.apiKey,n.authDomain=Ia(t).options.authDomain,n.appName=Ia(t).name,t.U.then(function(){return na(n,e,t.G,t.Ka())}).then(function(e){return Na(t)&&e.uid==Na(t).uid?(qs(Na(t),e),t.ka(e)):(Ea(t,e),Ds(e),t.ka(e))}).then(function(){Pa(t)})}function Ea(t,e){Na(t)&&(xs(Na(t),t.Ga),ne(Na(t),"tokenChanged",t.pa),ne(Na(t),"userDeleted",t.qa),ne(Na(t),"userInvalidated",t.ra),Ps(Na(t))),e&&(e.N.push(t.Ga),Zt(e,"tokenChanged",t.pa),Zt(e,"userDeleted",t.qa),Zt(e,"userInvalidated",t.ra),0<t.o&&As(e)),Er(t,"currentUser",e),e&&(e.na(t.$()),Ss(e,t),Os(e,t.A),Ts(e,t))}function Ca(t){var e=ia(t.G,Ia(t).options.authDomain).then(function(e){return(t.w=e)&&(e.ca=t.G),oa(t.G)});return xa(t,e)}function Sa(t){var e=Ia(t).options.authDomain,n=Ca(t).then(function(){return fa(t.h,e)}).then(function(e){return e?(e.ca=t.G,t.w&&(t.w.Z||null)==(e.Z||null)?e:e.reload().then(function(){return ha(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:pa(t.h)})):null}).then(function(e){Ea(t,e||null)});return xa(t,n)}function Oa(t){return t.U.then(function(){return t.aa()}).s(function(){}).then(function(){if(!t.l)return t.ha()}).s(function(){}).then(function(){if(!t.l){t.W=!0;var e=t.h;Ti(e.b,ca("local"),e.a,t.ha)}})}function Ta(t,e){var n=null,r=null;return xa(t,e.then(function(e){return n=uo(e),r=Lr(e),wa(t,e)}).then(function(){return Sr({user:Na(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Ia(t){return t.app}function Na(t){return t.currentUser}function Aa(t){return Na(t)&&Na(t)._lat||null}function Pa(t){if(t.W){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Aa(t));if(t.R!==t.getUid()&&t.I.length)for(t.R=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](Aa(t))}}function Ra(t,e){t.I.push(e),xa(t,t.i.then(function(){!t.l&&S(t.I,e)&&t.R!==t.getUid()&&(t.R=t.getUid(),e(Aa(t)))}))}function xa(t,e){return t.N.push(e),st(e,function(){O(t.N,e)}),e}function ka(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var o=0,i=!1,s=0;s<e.length;s++)if(e[s].optional)i=!0;else{if(i)throw new Ar("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(i=e.length,n.length<o||i<n.length)r="Expected "+(o==i?1==o?"1 argument":o+" arguments":o+"-"+i+" arguments")+" but got "+n.length+".";else{for(o=0;o<n.length;o++)if(i=e[o].optional&&void 0===n[o],!e[o].M(n[o])&&!i){if(e=e[o],0>o||o>=Ih.length)throw new Ar("internal-error","Argument validator received an unsupported number of arguments.");n=Ih[o],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new Ar("argument-error",t+" failed: "+r)}function Da(e,n){return{name:e||"",K:"a valid string",optional:!!n,M:t}}function Ma(){return{name:"opt_forceRefresh",K:"a boolean",optional:!0,M:e}}function La(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:c}}function ja(t,e){return{name:t||"",K:"a function",optional:!!e,M:u}}function Fa(t,e){return{name:t||"",K:"null",optional:!!e,M:i}}function Va(){return{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}}}function Ua(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ya)}}}function Ba(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof su.app.App)}}}function qa(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.wa||!n)}}}function Wa(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function Ha(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&t(e.type)&&u(e.verify))}}}function Ka(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Ga(t,e,n,r,o,i){if(Er(this,"type","recaptcha"),this.b=this.c=null,this.m=!1,this.l=e,this.a=n||{theme:"light",type:"image"},this.g=[],this.a[Ph])throw new Ar("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Rh],!kt(e)||!this.h&&kt(e).hasChildNodes())throw new Ar("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new mo(t,i||null,o||null),this.o=r||function(){return null};var s=this;this.i=[];var a=this.a[Nh];this.a[Nh]=function(t){if(Qa(s,t),"function"==typeof a)a(t);else if("string"==typeof a){var e=ir(a,uu);"function"==typeof e&&e(t)}};var u=this.a[Ah];this.a[Ah]=function(){if(Qa(s,null),"function"==typeof u)u();else if("string"==typeof u){var t=ir(u,uu);"function"==typeof t&&t()}}}function Qa(t,e){for(var n=0;n<t.i.length;n++)try{t.i[n](e)}catch(t){}}function za(t,e){T(t.i,function(t){return t==e})}function Ja(t,e){return t.g.push(e),st(e,function(){O(t.g,e)}),e}function Xa(t){if(t.m)throw new Ar("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ya(){this.b=uu.grecaptcha?1/0:0,this.c=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}function Za(t,e){return new Z(function(n,r){if(mr())if(!uu.grecaptcha||e!==t.c&&!t.b){uu[t.a]=function(){if(uu.grecaptcha){t.c=e;var o=uu.grecaptcha.render;uu.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},n()}else r(new Ar("internal-error"));delete uu[t.a]};var o=St(xh,{onload:t.a,hl:e||""});et(kn(o)).s(function(){r(new Ar("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else n();else r(new Ar("network-request-failed"))})}function $a(){return kh||(kh=new Ya),kh}function tu(t,e,n){try{this.f=n||su.app()}catch(t){throw new Ar("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.f.options||!this.f.options.apiKey)throw new Ar("invalid-api-key");n=this.f.options.apiKey;var r=this,o=null;try{o=this.f.auth().Ka()}catch(t){}o=su.SDK_VERSION?rr(su.SDK_VERSION,o):null,Ga.call(this,n,t,e,function(){try{var t=r.f.auth().$()}catch(e){t=null}return t},o,Bo(jl))}function eu(t,e){for(var n in e){var r=e[n].name;t[r]=ru(r,t[n],e[n].j)}}function nu(t,e,n,r){t[e]=ru(e,n,r)}function ru(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return ka(i,n,t),e.apply(this,t)}if(!n)return e;var o,i=ou(t);for(o in e)r[o]=e[o];for(o in e.prototype)r.prototype[o]=e.prototype[o];return r}function ou(t){return t=t.split("."),t[t.length-1]}var iu,su=n("XtH8").default,au=au||{},uu=this,cu="closure_uid_"+(1e9*Math.random()>>>0),lu=0,hu=Date.now||function(){return+new Date};d(y,Error),y.prototype.name="CustomError";var pu=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},fu=/&/g,du=/</g,yu=/>/g,vu=/"/g,mu=/'/g,gu=/\x00/g,bu=/[\x00&<>"']/;d(_,y),_.prototype.name="AssertionError";var _u,wu=Array.prototype.indexOf?function(t,e,n){return Array.prototype.indexOf.call(t,e,n)}:function(e,n,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,t(e))return t(n)&&1==n.length?e.indexOf(n,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===n)return r;return-1},Eu=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(e,n,r){for(var o=e.length,i=t(e)?e.split(""):e,s=0;s<o;s++)s in i&&n.call(r,i[s],s,e)},Cu=Array.prototype.map?function(t,e,n){return Array.prototype.map.call(t,e,n)}:function(e,n,r){for(var o=e.length,i=Array(o),s=t(e)?e.split(""):e,a=0;a<o;a++)a in s&&(i[a]=n.call(r,s[a],a,e));return i},Su=Array.prototype.some?function(t,e,n){return Array.prototype.some.call(t,e,n)}:function(e,n,r){for(var o=e.length,i=t(e)?e.split(""):e,s=0;s<o;s++)if(s in i&&n.call(r,i[s],s,e))return!0;return!1};t:{var Ou=uu.navigator;if(Ou){var Tu=Ou.userAgent;if(Tu){_u=Tu;break t}}_u=""}var Iu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");j[" "]=r;var Nu,Au=A("Opera"),Pu=A("Trident")||A("MSIE"),Ru=A("Edge"),xu=Ru||Pu,ku=A("Gecko")&&!(g(_u.toLowerCase(),"webkit")&&!A("Edge"))&&!(A("Trident")||A("MSIE"))&&!A("Edge"),Du=g(_u.toLowerCase(),"webkit")&&!A("Edge");t:{var Mu="",Lu=function(){var t=_u;return ku?/rv\:([^\);]+)(\)|;)/.exec(t):Ru?/Edge\/([\d\.]+)/.exec(t):Pu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Du?/WebKit\/(\S+)/.exec(t):Au?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Lu&&(Mu=Lu?Lu[1]:""),Pu){var ju=V();if(null!=ju&&ju>parseFloat(Mu)){Nu=String(ju);break t}}Nu=Mu}var Fu,Vu={},Uu=uu.document;Fu=Uu&&Pu?V()||("CSS1Compat"==Uu.compatMode?parseInt(Nu,10):5):void 0,W.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Bu=new W(function(){return new G},function(t){t.reset()},100);G.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},G.prototype.reset=function(){this.next=this.b=this.a=null};var qu,Wu,Hu=!1,Ku=new function(){this.b=this.a=null},Gu=0,Qu=2,zu=3;$.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ju=new W(function(){return new $},function(t){t.reset()},100);Z.prototype.then=function(t,e,n){return ct(this,u(t)?t:null,u(e)?e:null,n)},B(Z),iu=Z.prototype,iu.s=function(t,e){return ct(this,null,t,e)},iu.cancel=function(t){this.a==Gu&&J(function(){at(this,new gt(t))},this)},iu.wc=function(t){this.a=Gu,lt(this,Qu,t)},iu.xc=function(t){this.a=Gu,lt(this,zu,t)},iu.Mb=function(){for(var t;t=dt(this);)yt(this,t,this.a,this.i);this.h=!1};var Xu=Q;d(gt,y),gt.prototype.name="cancel";var Yu=!Pu||9<=Number(Fu);bt.prototype.la=!0,bt.prototype.ja=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var Zu={};wt(""),Et.prototype.la=!0,Et.prototype.ja=function(){return this.a},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var $u=/%{(\w+)}/g,tc=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank(#|$)/i,ec={};Tt.prototype.la=!0,Tt.prototype.ja=function(){return this.a},Tt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var nc=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i,rc={};At("about:blank"),Pt.prototype.la=!0,Pt.prototype.ja=function(){return this.a},Pt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var oc={};xt("<!DOCTYPE html>"),xt(""),xt("<br>");var ic={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},sc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ac=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,uc=0,cc={};qt.prototype.oa=!1,qt.prototype.ta=function(){if(this.Fa)for(;this.Fa.length;)this.Fa.shift()()};var lc=Object.freeze||function(t){return t},hc=!Pu||9<=Number(Fu),pc=Pu&&!U("9"),fc=function(){if(!uu.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return uu.addEventListener("test",r,e),uu.removeEventListener("test",r,e),t}();Ht.prototype.c=function(){this.Ab=!1},d(Kt,Ht);var dc=lc({2:"touch",3:"pen",4:"mouse"});Kt.prototype.c=function(){Kt.ib.c.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,pc)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Kt.prototype.g=function(){return this.a};var yc="closure_listenable_"+(1e6*Math.random()|0),vc=0,mc="closure_lm_"+(1e6*Math.random()|0),gc={},bc=0,_c="__closure_events_fn_"+(1e9*Math.random()>>>0);d(le,qt),le.prototype[yc]=!0,le.prototype.removeEventListener=function(t,e,n,r){ne(this,t,e,n,r)},le.prototype.ta=function(){if(le.ib.ta.call(this),this.u){var t,e=this.u,n=0;for(t in e.a){for(var r=e.a[t],o=0;o<r.length;o++)++n,Qt(r[o]);delete e.a[t],e.b--}}this.Ra=null},me.prototype.a=null;var wc=0;me.prototype.reset=function(t,e,n,r,o){"number"==typeof o||wc++,r||hu(),this.b=e,delete this.a},be.prototype.toString=function(){return this.name};var Ec=new be("SEVERE",1e3),Cc=new be("CONFIG",700),Sc=new be("FINE",500);ge.prototype.log=function(t,e,n){if(t.value>=_e(this).value)for(u(e)&&(e=e()),t=new me(t,String(e),this.f),n&&(t.a=n),n="log:"+t.b,(t=uu.console)&&t.timeStamp&&t.timeStamp(n),(t=uu.msWriteProfilerMark)&&t(n),n=this;n;)n=n.a};var Oc={},Tc=null;iu=Ee.prototype,iu.P=function(){Ce(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},iu.S=function(){return Ce(this),this.a.concat()},iu.clear=function(){this.b={},this.c=this.a.length=0},iu.get=function(t,e){return Se(this.b,t)?this.b[t]:e},iu.set=function(t,e){Se(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},iu.forEach=function(t,e){for(var n=this.S(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);t.call(e,i,o,this)}};var Ic=null,Nc=null;Pe.prototype.cancel=function(t){if(this.a)this.c instanceof Pe&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):0>=--e.l&&e.cancel()}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new Fe,xe(this),Re(this,!1,t))}},Pe.prototype.m=function(t,e){this.i=!1,Re(this,t,e)},Pe.prototype.A=function(t){xe(this),Re(this,!0,t)},Pe.prototype.then=function(t,e,n){var r,o,i=new Z(function(t,e){r=t,o=e});return De(this,r,function(t){t instanceof Fe?i.cancel():o(t)}),i.then(t,e,n)},B(Pe),d(je,y),je.prototype.message="Deferred has already fired",je.prototype.name="AlreadyCalledError",d(Fe,y),Fe.prototype.message="Deferred was canceled",Fe.prototype.name="CanceledError",Ve.prototype.c=function(){throw delete Pc[this.a],this.b};var Ac,Pc={};d(Be,Ue);for(var Rc=64,xc=Rc-1,kc=[],Dc=0;Dc<xc;Dc++)kc[Dc]=0;var Mc=I(128,kc);Be.prototype.reset=function(){this.g=this.c=0,this.a=uu.Int32Array?new Int32Array(this.h):N(this.h)};var Lc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];d(He,Be);var jc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Fc=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Je.prototype.toString=function(){var t=[],e=this.c;e&&t.push(on(e,Vc,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(on(e,Vc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(on(n,"/"==n.charAt(0)?Bc:Uc,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",on(n,Wc)),t.join("")};var Vc=/[#\/\?@]/g,Uc=/[\#\?:]/g,Bc=/[\#\?]/g,qc=/[\#\?@]/g,Wc=/#/g;iu=an.prototype,iu.clear=function(){this.a=this.c=null,this.b=0},iu.forEach=function(t,e){un(this),this.a.forEach(function(n,r){Eu(n,function(n){t.call(e,n,r,this)},this)},this)},iu.S=function(){un(this);for(var t=this.a.P(),e=this.a.S(),n=[],r=0;r<e.length;r++)for(var o=t[r],i=0;i<o.length;i++)n.push(e[r]);return n},iu.P=function(e){un(this);var n=[];if(t(e))pn(this,e)&&(n=I(n,this.a.get(dn(this,e))));else{e=this.a.P();for(var r=0;r<e.length;r++)n=I(n,e[r])}return n},iu.set=function(t,e){return un(this),this.c=null,t=dn(this,t),pn(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},iu.get=function(t,e){return t=t?this.P(t):[],0<t.length?String(t[0]):e},iu.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.S(),n=0;n<e.length;n++){var r=e[n],o=encodeURIComponent(String(r));r=this.P(r);for(var i=0;i<r.length;i++){var s=o;""!==r[i]&&(s+="="+encodeURIComponent(String(r[i]))),t.push(s)}}return this.c=t.join("&")},vn.prototype.c=null;var Hc;d(gn,vn),gn.prototype.a=function(){var t=bn(this);return t?new ActiveXObject(t):new XMLHttpRequest},gn.prototype.b=function(){var t={};return bn(this)&&(t[0]=!0,t[1]=!0),t},Hc=new gn,d(_n,le);var Kc="",Gc=_n.prototype,Qc=we("goog.net.XhrIo");Gc.J=Qc;var zc=/^https?$/i,Jc=["POST","PUT"];iu=_n.prototype,iu.Ea=function(){void 0!==au&&this.a&&(this.g="Timed out after "+this.f+"ms, aborting",Oe(this.J,xn(this,this.g)),he(this,"timeout"),this.abort(8))},iu.abort=function(){this.a&&this.b&&(Oe(this.J,xn(this,"Aborting")),this.b=!1,this.c=!0,this.a.abort(),this.c=!1,he(this,"complete"),he(this,"abort"),In(this))},iu.ta=function(){this.a&&(this.b&&(this.b=!1,this.c=!0,this.a.abort(),this.c=!1),In(this,!0)),_n.ib.ta.call(this)},iu.zb=function(){this.oa||(this.G||this.h||this.c?Tn(this):this.fc())},iu.fc=function(){Tn(this)},iu.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.l){case Kc:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.J;return t&&t.log(Ec,"Response type "+this.l+" is not supported on this browser",void 0),null}catch(t){return Oe(this.J,"Can not get response: "+t.message),null}};var Xc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,Yc=0,Zc=1;d(jn,y),d(Fn,vn),Fn.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Vn;throw Error("Unsupported browser")},Fn.prototype.b=function(){return{}},iu=Vn.prototype,iu.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},iu.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},iu.abort=function(){this.a.abort()},iu.setRequestHeader=function(){},iu.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},iu.Sb=function(){this.status=200,this.responseText=this.a.responseText,Un(this,4)},iu.wb=function(){this.status=500,this.responseText="",Un(this,4)},iu.Ub=function(){this.wb()},iu.Tb=function(){this.status=200,Un(this,1)},iu.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};var $c=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tl="Firefox",el="Chrome",nl={Cc:"FirebaseCore-web",Ec:"FirebaseUI-web"};gr.prototype.get=function(){return this.a?this.b:this.c};var rl,ol={};try{var il={};Object.defineProperty(il,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(il,"abcd",{configurable:!0,enumerable:!0,value:2}),rl=2==il.abcd}catch(t){rl=!1}var sl="email",al="newEmail",ul="requestType",cl="email",ll="fromEmail",hl="data",pl="operation";d(Ar,Error),Ar.prototype.B=function(){return{code:this.code,message:this.message}},Ar.prototype.toJSON=function(){return this.B()};var fl="auth/",dl={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},yl="android",vl="handleCodeInApp",ml="iOS",gl="url",bl="installApp",_l="minimumVersion",wl="packageName",El="bundleId",Cl="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Sl=["client_id","response_type","scope","redirect_uri","state"],Ol={Dc:{Ma:"locale",za:500,ya:600,Na:"facebook.com",$a:Sl},Fc:{Ma:null,za:500,ya:620,Na:"github.com",$a:Sl},Gc:{Ma:"hl",za:515,ya:680,Na:"google.com",$a:Sl},Mc:{Ma:"lang",za:485,ya:705,Na:"twitter.com",$a:Cl}},Tl="idToken",Il="providerId";d(Fr,jr),d(Vr,Fr),d(Ur,Fr),d(Br,Fr),d(qr,Fr),Hr.prototype.wa=function(t){return Do(t,Kr(this))},Hr.prototype.b=function(t,e){var n=Kr(this);return n.idToken=e,Mo(t,n)},Hr.prototype.c=function(t,e){return Wr(Lo(t,Kr(this)),e)},Hr.prototype.B=function(){var t={providerId:this.providerId};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t},Gr.prototype.Ba=function(t){return this.qb=M(t),this},d(Qr,Gr),Qr.prototype.sa=function(t){return S(this.a,t)||this.a.push(t),this},Qr.prototype.vb=function(){return N(this.a)},Qr.prototype.credential=function(t,e){if(!t&&!e)throw new Ar("argument-error","credential failed: must provide the ID token and/or the access token.");return new Hr(this.providerId,{idToken:t||null,accessToken:e||null})},d(zr,Qr),Er(zr,"PROVIDER_ID","facebook.com"),d(Xr,Qr),Er(Xr,"PROVIDER_ID","github.com"),d(Zr,Qr),Er(Zr,"PROVIDER_ID","google.com"),d(to,Gr),Er(to,"PROVIDER_ID","twitter.com"),no.prototype.wa=function(t){return Fo(t,oh,{email:this.a,password:this.f})},no.prototype.b=function(t,e){return Fo(t,Zl,{idToken:e,email:this.a,password:this.f})},no.prototype.c=function(t,e){return Wr(this.wa(t),e)},no.prototype.B=function(){return{email:this.a,password:this.f}},Cr(ro,{PROVIDER_ID:"password"}),oo.prototype.wa=function(t){return t.Qa(io(this))},oo.prototype.b=function(t,e){var n=io(this);return n.idToken=e,Fo(t,sh,n)},oo.prototype.c=function(t,e){var n=io(this);return n.operation="REAUTH",t=Fo(t,ah,n),Wr(t,e)},oo.prototype.B=function(){var t={providerId:"phone"};return this.a.Pa&&(t.verificationId=this.a.Pa),this.a.Oa&&(t.verificationCode=this.a.Oa),this.a.Da&&(t.temporaryProof=this.a.Da),this.a.Y&&(t.phoneNumber=this.a.Y),t},so.prototype.Qa=function(e,n){var r=this.a.c;return et(n.verify()).then(function(o){if(!t(o))throw new Ar("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(n.type){case"recaptcha":return Po(r,{phoneNumber:e,recaptchaToken:o}).then(function(t){return"function"==typeof n.reset&&n.reset(),t},function(t){throw"function"==typeof n.reset&&n.reset(),t});default:throw new Ar("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Cr(so,{PROVIDER_ID:"phone"}),lo.prototype.B=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.B()}},d(po,Ar),d(fo,Ar),fo.prototype.B=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.B();return e&&L(t,e),t},fo.prototype.toJSON=function(){return this.B()},d(vo,vn),vo.prototype.a=function(){return new this.f},vo.prototype.b=function(){return{}};var Nl,Al="idToken",Pl=new gr(3e4,6e4),Rl={"Content-Type":"application/x-www-form-urlencoded"},xl=new gr(3e4,6e4),kl={"Content-Type":"application/json"};mo.prototype.m=function(t,e,n,r,o,i){var s="Node"==tr(),a=er()?s?new _n(this.o):new _n:new _n(this.f);if(i){a.f=Math.max(0,i);var u=setTimeout(function(){he(a,"timeout")},i)}pe(a,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(Rn(this))||null}catch(e){t=null}e&&e(t)}),fe(a,"ready",function(){u&&clearTimeout(u),Wt(this)}),fe(a,"timeout",function(){u&&clearTimeout(u),Wt(this),e&&e(null)}),wn(a,t,n,r,o)};var Dl=wt("https://apis.google.com/js/client.js?onload=%{onload}"),Ml="__fcb"+Math.floor(1e6*Math.random()).toString();mo.prototype.u=function(t,e,n,r,o){var i=this;Nl.then(function(){window.gapi.client.setApiKey(i.b);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:o,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},mo.prototype.gb=function(){return Fo(this,$l,{})},mo.prototype.kb=function(t,e){return Fo(this,Yl,{idToken:t,email:e})},mo.prototype.lb=function(t,e){return Fo(this,Zl,{idToken:t,password:e})};var Ll={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};iu=mo.prototype,iu.mb=function(t,e){var n={idToken:t},r=[];return P(Ll,function(t,o){var i=e[o];null===i?r.push(t):o in e&&(n[o]=i)}),r.length&&(n.deleteAttribute=r),Fo(this,Yl,n)},iu.cb=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},L(t,e),Fo(this,Gl,t)},iu.bb=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},L(t,e),Fo(this,Kl,t)},iu.Qa=function(t){return Fo(this,ih,t)},iu.Ta=function(t,e){return Fo(this,Jl,{oobCode:t,newPassword:e})},iu.Ia=function(t){return Fo(this,Vl,{oobCode:t})},iu.Sa=function(t){return Fo(this,Fl,{oobCode:t})};var jl,Fl={endpoint:"setAccountInfo",D:jo,ga:"email"},Vl={endpoint:"resetPassword",D:jo,O:function(t){if(!t.email||!t.requestType)throw new Ar("internal-error")}},Ul={endpoint:"signupNewUser",D:function(t){if(So(t),!t.password)throw new Ar("weak-password")},O:No,T:!0},Bl={endpoint:"createAuthUri"},ql={endpoint:"deleteAccount",ea:["idToken"]},Wl={endpoint:"setAccountInfo",ea:["idToken","deleteProvider"],D:function(t){if(!s(t.deleteProvider))throw new Ar("internal-error")}},Hl={endpoint:"getAccountInfo"},Kl={endpoint:"getOobConfirmationCode",ea:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Ar("internal-error")},ga:"email"},Gl={endpoint:"getOobConfirmationCode",ea:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Ar("internal-error");So(t)},ga:"email"},Ql={nb:!0,endpoint:"getProjectConfig",yb:"GET"},zl={nb:!0,endpoint:"getRecaptchaParam",yb:"GET",O:function(t){if(!t.recaptchaSiteKey)throw new Ar("internal-error")}},Jl={endpoint:"resetPassword",D:jo,ga:"email"},Xl={endpoint:"sendVerificationCode",ea:["phoneNumber","recaptchaToken"],ga:"sessionInfo"},Yl={endpoint:"setAccountInfo",ea:["idToken"],D:Oo,T:!0},Zl={endpoint:"setAccountInfo",ea:["idToken"],D:function(t){if(Oo(t),!t.password)throw new Ar("weak-password")},O:No,T:!0},$l={endpoint:"signupNewUser",O:No,T:!0},th={endpoint:"verifyAssertion",D:xo,O:ko,T:!0},eh={endpoint:"verifyAssertion",D:xo,O:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Ar("user-not-found");if(t.errorMessage)throw Vo(t.errorMessage);if(!t[Al])throw new Ar("internal-error")},T:!0},nh={endpoint:"verifyAssertion",D:function(t){if(xo(t),!t.idToken)throw new Ar("internal-error")},O:ko,T:!0},rh={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new Ar("invalid-custom-token")},O:No,T:!0},oh={endpoint:"verifyPassword",D:function(t){if(So(t),!t.password)throw new Ar("wrong-password")},O:No,T:!0},ih={endpoint:"verifyPhoneNumber",D:Ao,O:No},sh={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new Ar("internal-error");Ao(t)},O:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",yo(t);No(t)}},ah={Lb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Ao,O:No},uh={Ic:{Va:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ab:"https://securetoken.googleapis.com/v1/token",id:"p"},Kc:{Va:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ab:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},Lc:{Va:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ab:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};jl=Bo("__EID__")?"__EID__":void 0;var ch=wt("https://apis.google.com/js/api.js?onload=%{onload}"),lh=new gr(3e4,6e4),hh=new gr(5e3,15e3),ph=null;Qo.prototype.toString=function(){return this.f?$e(this.a,"v",this.f):hn(this.a.a,"v"),this.b?$e(this.a,"eid",this.b):hn(this.a.a,"eid"),this.c.length?$e(this.a,"fw",this.c.join(",")):hn(this.a.a,"fw"),this.a.toString()},zo.prototype.toString=function(){var t=nn(this.m,"/__/auth/handler");if($e(t,"apiKey",this.u),$e(t,"appName",this.c),$e(t,"authType",this.l),this.a.isOAuthProvider){var e=this.a;try{var n=su.app(this.c).auth().$()}catch(t){n=null}e.Ua=n,$e(t,"providerId",this.a.providerId),e=this.a,n=pr(e.qb);for(var r in n)n[r]=n[r].toString();r=e.nc,n=M(n);for(var o=0;o<r.length;o++){var i=r[o];i in n&&delete n[i]}e.Wa&&e.Ua&&!n[e.Wa]&&(n[e.Wa]=e.Ua),k(n)||$e(t,"customParameters",hr(n))}if("function"==typeof this.a.vb&&(e=this.a.vb(),e.length&&$e(t,"scopes",e.join(","))),this.h?$e(t,"redirectUrl",this.h):hn(t.a,"redirectUrl"),this.g?$e(t,"eventId",this.g):hn(t.a,"eventId"),this.i?$e(t,"v",this.i):hn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!tn(t,s)&&$e(t,s,this.b[s]);return this.f?$e(t,"eid",this.f):hn(t.a,"eid"),s=Jo(this.c),s.length&&$e(t,"fw",s.join(",")),t.toString()},iu=Xo.prototype,iu.Ca=function(t,e,n){var r=new Ar("popup-closed-by-user"),o=new Ar("web-storage-unsupported"),i=this,s=!1;return this.ba().then(function(){ni(i).then(function(n){n||(t&&Qn(t),e(o),s=!0)})}).s(function(){}).then(function(){if(!s)return Jn(t)}).then(function(){if(!s)return ve(n).then(function(){e(r)})})},iu.Cb=function(){var t=or();return!lr(t)&&!yr(t)},iu.xb=function(){return!1},iu.ub=function(t,e,n,r,o,i,s){if(!t)return nt(new Ar("popup-blocked"));if(s&&!lr())return this.ba().s(function(e){Qn(t),o(e)}),r(),et();this.a||(this.a=Yo($o(this)));var a=this;return this.a.then(function(){var e=a.ba().s(function(e){throw Qn(t),o(e),e});return r(),e}).then(function(){if(co(n),!s){Wn(ti(a.u,a.f,a.b,e,n,null,i,a.c,void 0,a.h),t)}}).s(function(t){throw"auth/network-request-failed"==t.code&&(a.a=null),t})},iu.Aa=function(t,e,n){this.a||(this.a=Yo($o(this)));var r=this;return this.a.then(function(){co(e),Wn(ti(r.u,r.f,r.b,t,e,qn(),n,r.c,void 0,r.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},iu.ba=function(){var t=this;return Zo(this).then(function(){return t.i.Ya}).s(function(){throw t.a=null,new Ar("network-request-failed")})},iu.Db=function(){return!0},iu.ua=function(t){this.g.push(t)},iu.Ja=function(t){T(this.g,function(e){return e==t})},iu=ri.prototype,iu.get=function(t){return et(this.a.getItem(t)).then(function(t){return t&&fr(t)})},iu.set=function(t,e){return et(this.a.setItem(t,hr(e)))},iu.X=function(t){return et(this.a.removeItem(t))},iu.ia=function(){},iu.da=function(){},iu=oi.prototype,iu.get=function(t){return et(this.a[t])},iu.set=function(t,e){return this.a[t]=e,et()},iu.X=function(t){return delete this.a[t],et()},iu.ia=function(){},iu.da=function(){};var fh;iu=ii.prototype,iu.set=function(t,e){var n,r=!1,o=this;return st(ai(this).then(function(e){return n=e,e=ui(o,ci(o,n,!0)),li(e.get(t))}).then(function(i){var s=ui(o,ci(o,n,!0));return i?(i.value=e,li(s.put(i))):(o.a++,r=!0,i={},i[o.g]=t,i[o.l]=e,li(s.add(i)))}).then(function(){o.f[t]=e}),function(){r&&o.a--})},iu.get=function(t){var e=this;return ai(this).then(function(n){return li(ui(e,ci(e,n,!1)).get(t))}).then(function(t){return t&&t.value})},iu.X=function(t){var e=!1,n=this;return st(ai(this).then(function(r){return e=!0,n.a++,li(ui(n,ci(n,r,!0)).delete(t))}).then(function(){delete n.f[t]}),function(){e&&n.a--})},iu.vc=function(){var t=this;return ai(this).then(function(e){var n=ui(t,ci(t,e,!1));return n.getAll?li(n.getAll()):new Z(function(t,e){var r=[],o=n.openCursor();o.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},o.onerror=function(t){e(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.a){for(r=0;r<e.length;r++)n[e[r][t.g]]=e[r][t.l];r=Hn(t.f,n),t.f=n}return r})},iu.ia=function(t){0==this.c.length&&hi(this),this.c.push(t)},iu.da=function(t){T(this.c,function(e){return e==t}),0==this.c.length&&this.b&&this.b.cancel("STOP_EVENT")},iu=pi.prototype,iu.get=function(t){var e=this;return et().then(function(){return fr(e.a.getItem(t))})},iu.set=function(t,e){var n=this;return et().then(function(){var r=hr(e);null===r?n.X(t):n.a.setItem(t,r)})},iu.X=function(t){var e=this;return et().then(function(){e.a.removeItem(t)})},iu.ia=function(t){uu.window&&Zt(uu.window,"storage",t)},iu.da=function(t){uu.window&&ne(uu.window,"storage",t)},iu=yi.prototype,iu.get=function(){return et(null)},iu.set=function(){return et()},iu.X=function(){return et()},iu.ia=function(){},iu.da=function(){},iu=vi.prototype,iu.get=function(t){var e=this;return et().then(function(){return fr(e.a.getItem(t))})},iu.set=function(t,e){var n=this;return et().then(function(){var r=hr(e);null===r?n.X(t):n.a.setItem(t,r)})},iu.X=function(t){var e=this;return et().then(function(){e.a.removeItem(t)})},iu.ia=function(){},iu.da=function(){};var dh,yh,vh={C:pi,jb:vi},mh={C:pi,jb:vi},gh={C:ri,jb:yi},bh={Hc:"local",NONE:"none",Jc:"session"};wi.prototype.get=function(t,e){return Ci(this,t.C).get(Si(this,t,e))},wi.prototype.set=function(t,e,n){var r=Si(this,t,n),o=this,i=Ci(this,t.C);return i.set(r,e).then(function(){return i.get(r)}).then(function(e){"local"==t.C&&(o.b[r]=e)})},wi.prototype.m=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var o=uu.localStorage.getItem(n);o!==r&&(this.b[n]=o,this.c(n))}else if(0==e.indexOf(this.i+this.g)&&this.a[e]){if(void 0!==t.a.a?Ci(this,"local").da(this.h):Ai(this),this.A)if(n=uu.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?uu.localStorage.setItem(e,r):uu.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var i=this;n=function(){void 0===t.a.a&&i.b[e]===uu.localStorage.getItem(e)||(i.b[e]=uu.localStorage.getItem(e),i.c(e))},Pu&&Fu&&10==Fu&&uu.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else Eu(t,p(this.c,this))},wi.prototype.c=function(t){this.a[t]&&Eu(this.a[t],function(t){t()})};var _h={name:"authEvent",C:"local"};iu=Di.prototype,iu.ba=function(){return this.xa?this.xa:this.xa=Yn().then(function(){if("function"!=typeof ir("universalLinks.subscribe",uu))throw Mi("cordova-universal-links-plugin is not installed");if(void 0===ir("BuildInfo.packageName",uu))throw Mi("cordova-plugin-buildinfo is not installed");if("function"!=typeof ir("cordova.plugins.browsertab.openUrl",uu))throw Mi("cordova-plugin-browsertab is not installed");if("function"!=typeof ir("cordova.InAppBrowser.open",uu))throw Mi("cordova-plugin-inappbrowser is not installed")},function(){throw new Ar("cordova-not-ready")})},iu.Ca=function(t,e){return e(new Ar("operation-not-supported-in-this-environment")),et()},iu.ub=function(){return nt(new Ar("operation-not-supported-in-this-environment"))},iu.Db=function(){return!1},iu.Cb=function(){return!0},iu.xb=function(){return!0},iu.Aa=function(t,e,n){if(this.c)return nt(new Ar("redirect-operation-pending"));var r=this,o=uu.document,i=null,s=null,a=null,u=null;return this.c=st(et().then(function(){return co(e),Ui(r)}).then(function(){return Fi(r,t,e,n)}).then(function(){return new Z(function(t,e){s=function(){var e=ir("cordova.plugins.browsertab.close",uu);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.ua(s),a=function(){i||(i=ve(r.w).then(function(){e(new Ar("redirect-cancelled-by-user"))}))},u=function(){br()&&a()},o.addEventListener("resume",a,!1),or().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",u,!1)}).s(function(t){return Bi(r).then(function(){throw t})})}),function(){a&&o.removeEventListener("resume",a,!1),u&&o.removeEventListener("visibilitychange",u,!1),i&&i.cancel(),s&&r.Ja(s),r.c=null})},iu.ua=function(t){this.b.push(t),Ui(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new lo("unknown",null,null,null,new Ar("no-auth-event")),t(e))})},iu.Ja=function(t){T(this.b,function(e){return e==t})};var wh={name:"pendingRedirect",C:"session"};Qi.prototype.reset=function(){this.f=!1,this.a.Ja(this.i),this.a=zi(this.v,this.l,this.u)},Qi.prototype.subscribe=function(t){if(S(this.h,t)||this.h.push(t),!this.f){var e=this;Gi(this.g).then(function(t){t?Ki(e.g).then(function(){Ji(e).s(function(t){var n=new lo("unknown",null,null,null,new Ar("operation-not-supported-in-this-environment"));Zi(t)&&e.m(n)})}):Xi(e)}).s(function(){Xi(e)})}},Qi.prototype.unsubscribe=function(t){T(this.h,function(e){return e==t})},Qi.prototype.m=function(t){if(!t)throw new Ar("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.ob(t.b,t.c)){(e=this.b[t.b])&&e.h(t,r),e=!0;break}}return es(this.c),e};var Eh=new gr(2e3,1e4),Ch=new gr(3e4,6e4);Qi.prototype.aa=function(){return this.c.aa()},Qi.prototype.Aa=function(t,e,n){var r,o=this;return Hi(this.g).then(function(){return o.a.Aa(t,e,n).s(function(t){if(Zi(t))throw new Ar("operation-not-supported-in-this-environment");return r=t,Ki(o.g).then(function(){throw r})}).then(function(){return o.a.Db()?new Z(function(){}):Ki(o.g).then(function(){return o.aa()}).then(function(){}).s(function(){})})})},Qi.prototype.Ca=function(t,e,n,r){return this.a.Ca(n,function(n){t.fa(e,null,n,r)},Eh.get())};var Sh={};ts.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ts.prototype.h=function(t,e){if(!t)return nt(new Ar("invalid-auth-event"));this.reset(),this.g=!0;var n=t.b,r=t.c,o=t.a&&"auth/web-storage-unsupported"==t.a.code,i=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;return"unknown"!=n||o||i?t.a?(is(this,!0,null,t.a),t=et()):t=e.va(n,r)?ns(this,t,e):nt(new Ar("invalid-auth-event")):(is(this,!1,null,null),t=et()),t},ts.prototype.aa=function(){var t=this;return new Z(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),ss(t))})},as.prototype.h=function(t,e){if(!t)return nt(new Ar("invalid-auth-event"));var n=t.b,r=t.c;return t.a?(e.fa(t.b,null,t.a,t.c),t=et()):t=e.va(n,r)?us(t,e):nt(new Ar("invalid-auth-event")),t},cs.prototype.confirm=function(t){return t=ao(this.verificationId,t),this.a(t)},hs.prototype.start=function(){this.a=this.c,fs(this,!0)},ys.prototype.B=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},ys.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?nt(new Ar("user-token-expired")):t||!this.b||hu()>this.c-3e4?this.a?gs(this,{grant_type:"refresh_token",refresh_token:this.a}):et(null):et({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},bs.prototype.B=function(){return{lastLoginAt:this.b,createdAt:this.a}},d(Es,Ht),d(Cs,le),Cs.prototype.na=function(t){this.ha=t,go(this.c,t)},Cs.prototype.$=function(){return this.ha},Cs.prototype.Ka=function(){return N(this.R)},Cs.prototype.Ga=function(){this.l.b&&(ds(this.l),this.l.start())},Er(Cs.prototype,"providerId","firebase"),iu=Cs.prototype,iu.reload=function(){var t=this;return $s(this,js(this).then(function(){return Ws(t).then(function(){return ks(t)}).then(Ls)}))},iu.F=function(t){var e=this;return $s(this,js(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Ar("internal-error");return t.accessToken!=e.pa&&(Rs(e,t.accessToken),he(e,new Es("tokenChanged"))),Bs(e,"refreshToken",t.refreshToken),t.accessToken}))},iu.getToken=function(t){return ol["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(ol["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.F(t)},iu.gc=function(t){if(!(t=t.users)||!t.length)throw new Ar("internal-error");t=t[0],Ms(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=Gs(t),n=0;n<e.length;n++)Vs(this,e[n]);Bs(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},iu.Za=function(t){var e=this,n=null;return $s(this,t.c(this.c,this.uid).then(function(t){return Hs(e,t),n=zs(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},iu.hc=function(t){return this.Za(t).then(function(){})},iu.Xa=function(t){var e=this,n=null;return $s(this,Qs(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.b(e.c,n)}).then(function(t){return n=zs(e,t,"link"),Js(e,t)}).then(function(){return n}))},iu.Zb=function(t){return this.Xa(t).then(function(t){return t.user})},iu.$b=function(t,e){var n=this;return $s(this,Qs(this,"phone").then(function(){return ls(Is(n),t,e,p(n.Xa,n))}))},iu.ic=function(t,e){var n=this;return $s(this,et().then(function(){return ls(Is(n),t,e,p(n.Za,n))}),!0)},iu.kb=function(t){var e=this;return $s(this,this.F().then(function(n){return e.c.kb(n,t)}).then(function(t){return Hs(e,t),e.reload()}))},iu.zc=function(t){var e=this;return $s(this,this.F().then(function(n){return t.b(e.c,n)}).then(function(t){return Hs(e,t),e.reload()}))},iu.lb=function(t){var e=this;return $s(this,this.F().then(function(n){return e.c.lb(n,t)}).then(function(t){return Hs(e,t),e.reload()}))},iu.mb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return js(this);var e=this;return $s(this,this.F().then(function(n){return e.c.mb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Hs(e,t),Bs(e,"displayName",t.displayName||null),Bs(e,"photoURL",t.photoUrl||null),Eu(e.providerData,function(t){"password"===t.providerId&&(Er(t,"displayName",e.displayName),Er(t,"photoURL",e.photoURL))}),ks(e)}).then(Ls))},iu.yc=function(t){var e=this;return $s(this,Ws(this).then(function(n){return S(Fs(e),t)?Ro(e.c,n,[t]).then(function(t){var n={};return Eu(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),Eu(Fs(e),function(t){n[t]||Us(e,t)}),n[so.PROVIDER_ID]||Er(e,"phoneNumber",null),ks(e)}):ks(e).then(function(){throw new Ar("no-such-provider")})}))},iu.delete=function(){var t=this;return $s(this,this.F().then(function(e){return Fo(t.c,ql,{idToken:e})}).then(function(){he(t,new Es("userDeleted"))})).then(function(){for(var e=0;e<t.A.length;e++)t.A[e].cancel("app-deleted");Ss(t,null),Ts(t,null),t.A=[],t.m=!0,Ps(t),Er(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},iu.ob=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.Z||null)==e||"reauthViaRedirect"==t&&(this.Z||null)==e)},iu.fa=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},iu.va=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?p(this.sb,this):"reauthViaPopup"==t&&e==(this.g||null)?p(this.tb,this):"linkViaRedirect"==t&&(this.Z||null)==e?p(this.sb,this):"reauthViaRedirect"==t&&(this.Z||null)==e?p(this.tb,this):null},iu.ac=function(t){var e=this;return Xs(this,"linkViaPopup",t,function(){return Qs(e,t.providerId).then(function(){return ks(e)})},!1)},iu.jc=function(t){return Xs(this,"reauthViaPopup",t,function(){return et()},!0)},iu.bc=function(t){var e=this;return Ys(this,"linkViaRedirect",t,function(){return Qs(e,t.providerId)},!1)},iu.kc=function(t){return Ys(this,"reauthViaRedirect",t,function(){return et()},!0)},iu.sb=function(t,e){var n=this;this.b&&(this.b.cancel(),this.b=null);var r=null;return $s(this,this.F().then(function(r){return Mo(n.c,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=zs(n,t,"link"),Js(n,t)}).then(function(){return r}))},iu.tb=function(t,e){var n=this;this.b&&(this.b.cancel(),this.b=null);var r=null;return $s(this,et().then(function(){return Wr(Lo(n.c,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return r=zs(n,t,"reauthenticate"),Hs(n,t),n.i=null,n.reload()}).then(function(){return r}),!0)},iu.bb=function(t){var e=this,n=null;return $s(this,this.F().then(function(e){return n=e,void 0===t||k(t)?{}:xr(new Rr(t))}).then(function(t){return e.c.bb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},iu.toJSON=function(){return this.B()},iu.B=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.G,appName:this.o,authDomain:this.w,stsTokenManager:this.h.B(),redirectEventId:this.Z||null};return this.metadata&&L(t,this.metadata.B()),Eu(this.providerData,function(e){t.providerData.push(Or(e))}),t};var Oh={name:"redirectUser",C:"session"};sa.prototype.g=function(){var t=this,e=ca("local");da(this,function(){return et().then(function(){return t.c&&"local"!=t.c.C?t.b.get(e,t.a):null}).then(function(n){if(n)return aa(t,"local").then(function(){t.c=e})})})};var Th={name:"persistence",C:"session"};sa.prototype.eb=function(t){var e=null,n=this;return _i(t),da(this,function(){return t!=n.c.C?n.b.get(n.c,n.a).then(function(r){return e=r,aa(n,t)}).then(function(){if(n.c=ca(t),e)return n.b.set(n.c,e,n.a)}):et()})},d(ya,le),d(va,Ht),d(ma,Ht),iu=ya.prototype,iu.eb=function(t){return t=this.h.eb(t),xa(this,t)},iu.na=function(t){this.V===t||this.l||(this.V=t,go(this.c,this.V),he(this,new va(this.$())))},iu.$=function(){return this.V},iu.Ac=function(){var t=uu.navigator;this.na(t?t.languages&&t.languages[0]||t.language||t.userLanguage||null:null)},iu.cc=function(t){this.A.push(t),bo(this.c,su.SDK_VERSION?rr(su.SDK_VERSION,this.A):null),he(this,new ma(this.A))},iu.Ka=function(){return N(this.A)},iu.toJSON=function(){return{apiKey:Ia(this).options.apiKey,authDomain:Ia(this).options.authDomain,appName:Ia(this).name,currentUser:Na(this)&&Na(this).B()}},iu.ob=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},iu.fa=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},iu.va=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?p(this.Ob,this):null},iu.Ob=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.b&&(this.b.cancel(),this.b=null);var r=null,o=null,i=Do(n.c,t).then(function(t){return r=uo(t),o=Lr(t),t});return t=n.U.then(function(){return i}).then(function(t){return wa(n,t)}).then(function(){return Sr({user:Na(n),credential:r,additionalUserInfo:o,operationType:"signIn"})}),xa(this,t)},iu.sc=function(t){if(!ar())return nt(new Ar("operation-not-supported-in-this-environment"));var e=this,n=Mr(t.providerId),r=dr(),o=null;(!lr()||$n())&&Ia(this).options.authDomain&&t.isOAuthProvider&&(o=ti(Ia(this).options.authDomain,Ia(this).options.apiKey,Ia(this).name,"signInViaPopup",t,null,r,su.SDK_VERSION||null));var i=zn(o,n&&n.za,n&&n.ya);return n=ba(this).then(function(e){return Yi(e,i,"signInViaPopup",t,r,!!o)}).then(function(){return new Z(function(t,n){e.fa("signInViaPopup",null,new Ar("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.b=e.a.Ca(e,"signInViaPopup",i,r)})}).then(function(t){return i&&Qn(i),t?Sr(t):null}).s(function(t){throw i&&Qn(i),t}),xa(this,n)},iu.tc=function(t){if(!ar())return nt(new Ar("operation-not-supported-in-this-environment"));var e=this;return xa(this,ba(this).then(function(){return la(e.h)}).then(function(){return e.a.Aa("signInViaRedirect",t)}))},iu.aa=function(){if(!ar())return nt(new Ar("operation-not-supported-in-this-environment"));var t=this;return xa(this,ba(this).then(function(){return t.a.aa()}).then(function(t){return t?Sr(t):null}))},iu.hb=function(){var t=this;return xa(this,this.i.then(function(){return Na(t)?(Ea(t,null),pa(t.h).then(function(){Pa(t)})):et()}))},iu.uc=function(){var t=this;return fa(this.h,Ia(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=Na(t)&&e){n=Na(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return qs(Na(t),e),Na(t).F();(Na(t)||e)&&(Ea(t,e),e&&(Ds(e),e.ca=t.G),t.a&&t.a.subscribe(t),Pa(t))}})},iu.ka=function(t){return ha(this.h,t)},iu.Pb=function(){Pa(this),this.ka(Na(this))},iu.Vb=function(){this.hb()},iu.Wb=function(){this.hb()},iu.Xb=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Na(e))})},iu.Yb=function(t){var e=this;Ra(this,function(){t.next(Na(e))})},iu.ec=function(t,e,n){var r=this;return this.W&&su.Promise.resolve().then(function(){u(t)?t(Na(r)):u(t.next)&&t.next(Na(r))}),this.Gb(t,e,n)},iu.dc=function(t,e,n){var r=this;return this.W&&su.Promise.resolve().then(function(){r.R=r.getUid(),u(t)?t(Na(r)):u(t.next)&&t.next(Na(r))}),this.Hb(t,e,n)},iu.Rb=function(t){var e=this;return xa(this,this.i.then(function(){return Na(e)?Na(e).F(t).then(function(t){return{accessToken:t}}):null}))},iu.pc=function(t){var e=this;return this.i.then(function(){return Ta(e,Fo(e.c,rh,{token:t}))}).then(function(t){return t=t.user,Bs(t,"isAnonymous",!1),e.ka(t)}).then(function(){return Na(e)})},iu.qc=function(t,e){var n=this;return this.i.then(function(){return Ta(n,Fo(n.c,oh,{email:t,password:e}))}).then(function(t){return t.user})},iu.Kb=function(t,e){var n=this;return this.i.then(function(){return Ta(n,Fo(n.c,Ul,{email:t,password:e}))}).then(function(t){return t.user})},iu.oc=function(t){return this.fb(t).then(function(t){return t.user})},iu.fb=function(t){var e=this;return this.i.then(function(){return Ta(e,t.wa(e.c))})},iu.gb=function(){var t=this;return this.i.then(function(){var e=Na(t);return e&&e.isAnonymous?e:Ta(t,t.c.gb()).then(function(e){return e=e.user,Bs(e,"isAnonymous",!0),t.ka(e)}).then(function(){return Na(t)})})},iu.getUid=function(){return Na(this)&&Na(this).uid||null},iu.Ib=function(t){this.addAuthTokenListener(t),0<++this.o&&Na(this)&&As(Na(this))},iu.mc=function(t){var e=this;Eu(this.m,function(n){n==t&&e.o--}),0>this.o&&(this.o=0),0==this.o&&Na(this)&&Ps(Na(this)),this.removeAuthTokenListener(t)},iu.addAuthTokenListener=function(t){var e=this;this.m.push(t),xa(this,this.i.then(function(){e.l||S(e.m,t)&&t(Aa(e))}))},iu.removeAuthTokenListener=function(t){T(this.m,function(e){return e==t})},iu.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h,Ii(t.b,t.a,this.ha)),this.a&&this.a.unsubscribe(this),su.Promise.resolve()},iu.Nb=function(t){return xa(this,To(this.c,t))},iu.Bc=function(t){return this.Ia(t).then(function(t){return t.data.email})},iu.Ta=function(t,e){return xa(this,this.c.Ta(t,e).then(function(){}))},iu.Ia=function(t){return xa(this,this.c.Ia(t).then(function(t){return new Nr(t)}))},iu.Sa=function(t){return xa(this,this.c.Sa(t).then(function(){}))},iu.cb=function(t,e){var n=this;return xa(this,et().then(function(){return void 0===e||k(e)?{}:xr(new Rr(e))}).then(function(e){return n.c.cb(t,e)}).then(function(){}))},iu.rc=function(t,e){return xa(this,ls(this,t,e,p(this.fb,this)))};var Ih="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),Nh="callback",Ah="expired-callback",Ph="sitekey",Rh="size";iu=Ga.prototype,iu.xa=function(){var t=this;return this.c?this.c:this.c=Ja(this,et().then(function(){if(ur())return Xn();throw new Ar("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return Za($a(),t.o())}).then(function(){return Fo(t.u,zl,{})}).then(function(e){t.a[Ph]=e.recaptchaSiteKey}).s(function(e){throw t.c=null,e}))},iu.render=function(){Xa(this);var t=this;return Ja(this,this.xa().then(function(){if(null===t.b){var e=t.l;if(!t.h){var n=kt(e);e=Mt("DIV"),n.appendChild(e)}t.b=grecaptcha.render(e,t.a)}return t.b}))},iu.verify=function(){Xa(this);var t=this;return Ja(this,this.render().then(function(e){return new Z(function(n){var r=grecaptcha.getResponse(e);if(r)n(r);else{var o=function(e){e&&(za(t,o),n(e))};t.i.push(o),t.h&&grecaptcha.execute(t.b)}})}))},iu.reset=function(){Xa(this),null!==this.b&&grecaptcha.reset(this.b)},iu.clear=function(){Xa(this),this.m=!0,$a().b--;for(var t=0;t<this.g.length;t++)this.g[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=kt(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}};var xh=wt("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),kh=null;d(tu,Ga),eu(ya.prototype,{Sa:{name:"applyActionCode",j:[Da("code")]},Ia:{name:"checkActionCode",j:[Da("code")]},Ta:{name:"confirmPasswordReset",j:[Da("code"),Da("newPassword")]},Kb:{name:"createUserWithEmailAndPassword",j:[Da("email"),Da("password")]},Nb:{name:"fetchProvidersForEmail",j:[Da("email")]},aa:{name:"getRedirectResult",j:[]},dc:{name:"onAuthStateChanged",j:[Ka(La(),ja(),"nextOrObserver"),ja("opt_error",!0),ja("opt_completed",!0)]},ec:{name:"onIdTokenChanged",j:[Ka(La(),ja(),"nextOrObserver"),ja("opt_error",!0),ja("opt_completed",!0)]},cb:{name:"sendPasswordResetEmail",j:[Da("email"),Ka(La("opt_actionCodeSettings",!0),Fa(null,!0),"opt_actionCodeSettings",!0)]},eb:{name:"setPersistence",j:[Da("persistence")]},fb:{name:"signInAndRetrieveDataWithCredential",j:[qa()]},gb:{name:"signInAnonymously",j:[]},oc:{name:"signInWithCredential",j:[qa()]},pc:{name:"signInWithCustomToken",j:[Da("token")]},qc:{name:"signInWithEmailAndPassword",j:[Da("email"),Da("password")]},rc:{name:"signInWithPhoneNumber",j:[Da("phoneNumber"),Ha()]},sc:{name:"signInWithPopup",j:[Wa()]},tc:{name:"signInWithRedirect",j:[Wa()]},hb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Da(null,!0)]},Ac:{name:"useDeviceLanguage",j:[]},Bc:{name:"verifyPasswordResetCode",j:[Da("code")]}}),function(t,e){for(var n in e){var r=e[n].name;if(r!==n){var o=e[n].Jb;Object.defineProperty(t,r,{get:function(){return this[n]},set:function(t){ka(r,[o],[t],!0),this[n]=t},enumerable:!0})}}}(ya.prototype,{lc:{name:"languageCode",Jb:Ka(Da(),Fa(),"languageCode")}}),ya.Persistence=bh,ya.Persistence.LOCAL="local",ya.Persistence.SESSION="session",ya.Persistence.NONE="none",eu(Cs.prototype,{delete:{name:"delete",j:[]},F:{name:"getIdToken",j:[Ma()]},getToken:{name:"getToken",j:[Ma()]},Xa:{name:"linkAndRetrieveDataWithCredential",j:[qa()]},Zb:{name:"linkWithCredential",j:[qa()]},$b:{name:"linkWithPhoneNumber",j:[Da("phoneNumber"),Ha()]},ac:{name:"linkWithPopup",j:[Wa()]},bc:{name:"linkWithRedirect",j:[Wa()]},Za:{name:"reauthenticateAndRetrieveDataWithCredential",j:[qa()]},hc:{name:"reauthenticateWithCredential",j:[qa()]},ic:{name:"reauthenticateWithPhoneNumber",j:[Da("phoneNumber"),Ha()]},jc:{name:"reauthenticateWithPopup",j:[Wa()]},kc:{name:"reauthenticateWithRedirect",j:[Wa()]},reload:{name:"reload",j:[]},bb:{name:"sendEmailVerification",j:[Ka(La("opt_actionCodeSettings",!0),Fa(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Da(null,!0)]},yc:{name:"unlink",j:[Da("provider")]},kb:{name:"updateEmail",j:[Da("email")]},lb:{name:"updatePassword",j:[Da("password")]},zc:{name:"updatePhoneNumber",j:[qa("phone")]},mb:{name:"updateProfile",j:[La("profile")]}}),eu(Z.prototype,{s:{name:"catch"},then:{name:"then"}}),eu(cs.prototype,{confirm:{name:"confirm",j:[Da("verificationCode")]}}),nu(ro,"credential",function(t,e){return new no(t,e)},[Da("email"),Da("password")]),eu(zr.prototype,{sa:{name:"addScope",j:[Da("scope")]},Ba:{name:"setCustomParameters",j:[La("customOAuthParameters")]}}),nu(zr,"credential",Jr,[Ka(Da(),La(),"token")]),eu(Xr.prototype,{sa:{name:"addScope",j:[Da("scope")]},Ba:{name:"setCustomParameters",j:[La("customOAuthParameters")]}}),nu(Xr,"credential",Yr,[Ka(Da(),La(),"token")]),eu(Zr.prototype,{sa:{name:"addScope",j:[Da("scope")]},Ba:{name:"setCustomParameters",j:[La("customOAuthParameters")]}}),nu(Zr,"credential",$r,[Ka(Da(),Ka(La(),Fa()),"idToken"),Ka(Da(),Fa(),"accessToken",!0)]),eu(to.prototype,{Ba:{name:"setCustomParameters",j:[La("customOAuthParameters")]}}),nu(to,"credential",eo,[Ka(Da(),La(),"token"),Da("secret",!0)]),eu(Qr.prototype,{sa:{name:"addScope",j:[Da("scope")]},credential:{name:"credential",j:[Ka(Da(),Fa(),"idToken",!0),Ka(Da(),Fa(),"accessToken",!0)]},Ba:{name:"setCustomParameters",j:[La("customOAuthParameters")]}}),nu(so,"credential",ao,[Da("verificationId"),Da("verificationCode")]),eu(so.prototype,{Qa:{name:"verifyPhoneNumber",j:[Da("phoneNumber"),Ha()]}}),eu(Ar.prototype,{toJSON:{name:"toJSON",j:[Da(null,!0)]}}),eu(fo.prototype,{toJSON:{name:"toJSON",j:[Da(null,!0)]}}),eu(po.prototype,{toJSON:{name:"toJSON",j:[Da(null,!0)]}}),eu(tu.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===su||!su.INTERNAL||!su.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:ya,Error:Ar};nu(t,"EmailAuthProvider",ro,[]),nu(t,"FacebookAuthProvider",zr,[]),nu(t,"GithubAuthProvider",Xr,[]),nu(t,"GoogleAuthProvider",Zr,[]),nu(t,"TwitterAuthProvider",to,[]),nu(t,"OAuthProvider",Qr,[Da("providerId")]),nu(t,"PhoneAuthProvider",so,[Ua()]),nu(t,"RecaptchaVerifier",tu,[Ka(Da(),Va(),"recaptchaContainer"),La("recaptchaParameters",!0),Ba()]),su.INTERNAL.registerService("auth",function(t,e){return t=new ya(t),e({INTERNAL:{getUid:p(t.getUid,t),getToken:p(t.Rb,t),addAuthTokenListener:p(t.Ib,t),removeAuthTokenListener:p(t.mc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),su.INTERNAL.extendNamespace({User:Cs})}()}).call(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(e,n("fRUx"))},TQn8:function(t,e,n){"use strict";function r(t,e){return this.lift(new o.MergeMapOperator(t,e,1))}var o=n("cPhF");e.concatMap=r},Tmcl:function(t,e,n){"use strict";function r(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=t+" failed: ";return o+=r+" argument "}function o(t,e,n,o){if((!o||n)&&"string"!=typeof n)throw new Error(r(t,e,o)+"must be a valid firebase namespace.")}function i(t,e,n,o){if((!o||n)&&"function"!=typeof n)throw new Error(r(t,e,o)+"must be a valid function.")}function s(t,e,n,o){if((!o||n)&&("object"!=typeof n||null===n))throw new Error(r(t,e,o)+"must be a valid context object.")}Object.defineProperty(e,"__esModule",{value:!0}),e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o){var i=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".";throw new Error(i)}},e.errorPrefix=r,e.validateNamespace=o,e.validateCallback=i,e.validateContextObject=s},TnjP:function(t,e,n){"use strict";var r=n("bKpL"),o=n("XOyC");r.Observable.prototype.delayWhen=o.delayWhen},TpsG:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.EmptyError=o},Tq0x:function(t,e,n){"use strict";function r(t,e){var n=!1;return arguments.length>=2&&(n=!0),this.lift(new s(t,e,n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.reduce=r;var s=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}();e.ReduceOperator=s;var a=function(t){function e(e,n,r,o){t.call(this,e),this.accumulator=n,this.hasSeed=o,this.index=0,this.hasValue=!1,this.acc=r,this.hasSeed||this.index++}return o(e,t),e.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},e.prototype._tryReduce=function(t){var e;try{e=this.accumulator(this.acc,t,this.index++)}catch(t){return void this.destination.error(t)}this.acc=e},e.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},e}(i.Subscriber);e.ReduceSubscriber=a},Txt5:function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=s.async),this.lift(new u(t,e))}function o(t){t.clearThrottle()}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n("IhB/"),a=n("T14+");e.auditTime=r;var u=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.duration,this.scheduler))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.duration=n,this.scheduler=r,this.hasValue=!1}return i(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(o,this.duration,this))},e.prototype.clearThrottle=function(){var t=this,e=t.value,n=t.hasValue,r=t.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e}(a.Subscriber)},U4XL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("/byE");e.getUA=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(e.getUA())},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isNodeSdk=function(){return!0===r.CONSTANTS.NODE_CLIENT||!0===r.CONSTANTS.NODE_ADMIN}},"UD+B":function(t,e,n){"use strict";var r=n("bKpL"),o=n("wDL6");r.Observable.prototype.repeat=o.repeat},UVHa:function(t,e,n){"use strict";var r=n("bKpL"),o=n("f7nC");r.Observable.prototype.bufferWhen=o.bufferWhen},UbPm:function(t,e,n){"use strict";var r=n("bKpL"),o=n("H9QY");r.Observable.prototype.timeInterval=o.timeInterval},UcKF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PROTOCOL_VERSION="5",e.VERSION_PARAM="v",e.TRANSPORT_SESSION_PARAM="s",e.REFERER_PARAM="r",e.FORGE_REF="f",e.FORGE_DOMAIN="firebaseio.com",e.LAST_SESSION_PARAM="ls",e.WEBSOCKET="websocket",e.LONG_POLLING="long_polling"},Uvlg:function(t,e,n){"use strict";var r=n("bKpL"),o=n("LBqD");r.Observable.prototype.pairwise=o.pairwise},VML3:function(t,e,n){"use strict";var r=n("bKpL"),o=n("K5Xx");r.Observable.prototype.publish=o.publish},VXtB:function(t,e,n){"use strict";var r=n("bKpL"),o=n("ytB7");r.Observable.prototype.sampleTime=o.sampleTime},ViUi:function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(o.apply(void 0,[this].concat(t)))}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return u.isScheduler(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof i.Observable?t[0]:new s.ArrayObservable(t,r).lift(new a.MergeAllOperator(n))}var i=n("bKpL"),s=n("wZOE"),a=n("TIdC"),u=n("MicL");e.merge=r,e.mergeStatic=o},VsKd:function(t,e,n){"use strict";var r=n("bKpL"),o=n("23I1");r.Observable.defer=o.defer},VzZx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n("JEJ4"),i=n("5pXs"),s=n("GnQ5"),a=n("fvGz"),u=n("hkXn"),c=n("/fob"),l=n("F1yO"),h=n("ZGn5"),p=n("xfHL"),f=n("JEJ4"),d=n("43Go"),y=n("R3TC"),v=n("pHuv");!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(r=e.TransactionStatus||(e.TransactionStatus={})),v.Repo.MAX_TRANSACTION_RETRIES_=25,v.Repo.prototype.transactions_init_=function(){this.transactionQueueTree_=new u.Tree},v.Repo.prototype.startTransaction=function(t,e,n,a){this.log_("transaction on "+t);var u=function(){},v=new i.Reference(this,t);v.on("value",u);var m=function(){v.off("value",u)},g={path:t,update:e,onComplete:n,status:null,order:l.LUIDGenerator(),applyLocally:a,retryCount:0,unwatcher:m,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},b=this.getLatestState_(t);g.currentInputSnapshot=b;var _=g.update(b.val());if(void 0===_){if(g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete){var w=new s.DataSnapshot(g.currentInputSnapshot,new i.Reference(this,g.path),c.PRIORITY_INDEX);g.onComplete(null,!1,w)}}else{p.validateFirebaseData("transaction failed: Data returned ",_,g.path),g.status=r.RUN;var E=this.transactionQueueTree_.subTree(t),C=E.getValue()||[];C.push(g),E.setValue(C);var S=void 0;if("object"==typeof _&&null!==_&&f.contains(_,".priority"))S=f.safeGet(_,".priority"),o.assert(p.isValidPriority(S),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{S=(this.serverSyncTree_.calcCompleteEventCache(t)||y.ChildrenNode.EMPTY_NODE).getPriority().val()}S=S;var O=this.generateServerValues(),T=d.nodeFromJSON(_,S),I=h.resolveDeferredValueSnapshot(T,O);g.currentOutputSnapshotRaw=T,g.currentOutputSnapshotResolved=I,g.currentWriteId=this.getNextWriteId_();var N=this.serverSyncTree_.applyUserOverwrite(t,I,g.currentWriteId,g.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,N),this.sendReadyTransactions_()}},v.Repo.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||y.ChildrenNode.EMPTY_NODE},v.Repo.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);o.assert(n.length>0,"Sending zero length transaction queue");n.every(function(t){return t.status===r.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},v.Repo.prototype.sendTransactionQueue_=function(t,e){for(var n=this,u=e.map(function(t){return t.currentWriteId}),h=this.getLatestState_(t,u),p=h,f=h.hash(),d=0;d<e.length;d++){var y=e[d];o.assert(y.status===r.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=r.SENT,y.retryCount++;var v=a.Path.relativePath(t,y.path);p=p.updateChild(v,y.currentOutputSnapshotRaw)}var m=p.val(!0),g=t;this.server_.put(g.toString(),m,function(o){n.log_("transaction put response",{path:g.toString(),status:o});var a=[];if("ok"===o){for(var u=[],h=0;h<e.length;h++){if(e[h].status=r.COMPLETED,a=a.concat(n.serverSyncTree_.ackUserWrite(e[h].currentWriteId)),e[h].onComplete){var p=e[h].currentOutputSnapshotResolved,f=new i.Reference(n,e[h].path),d=new s.DataSnapshot(p,f,c.PRIORITY_INDEX);u.push(e[h].onComplete.bind(null,null,!0,d))}e[h].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,a);for(var h=0;h<u.length;h++)l.exceptionGuard(u[h])}else{if("datastale"===o)for(var h=0;h<e.length;h++)e[h].status===r.SENT_NEEDS_ABORT?e[h].status=r.NEEDS_ABORT:e[h].status=r.RUN;else{l.warn("transaction at "+g.toString()+" failed: "+o);for(var h=0;h<e.length;h++)e[h].status=r.NEEDS_ABORT,e[h].abortReason=o}n.rerunTransactions_(t)}},f)},v.Repo.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},v.Repo.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],u=[],y=t.filter(function(t){return t.status===r.RUN}),m=y.map(function(t){return t.currentWriteId}),g=0;g<t.length;g++){var b=t[g],_=a.Path.relativePath(e,b.path),w=!1,E=void 0;if(o.assert(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),b.status===r.NEEDS_ABORT)w=!0,E=b.abortReason,u=u.concat(this.serverSyncTree_.ackUserWrite(b.currentWriteId,!0));else if(b.status===r.RUN)if(b.retryCount>=v.Repo.MAX_TRANSACTION_RETRIES_)w=!0,E="maxretry",u=u.concat(this.serverSyncTree_.ackUserWrite(b.currentWriteId,!0));else{var C=this.getLatestState_(b.path,m);b.currentInputSnapshot=C;var S=t[g].update(C.val());if(void 0!==S){p.validateFirebaseData("transaction failed: Data returned ",S,b.path);var O=d.nodeFromJSON(S),T="object"==typeof S&&null!=S&&f.contains(S,".priority");T||(O=O.updatePriority(C.getPriority()));var I=b.currentWriteId,N=this.generateServerValues(),A=h.resolveDeferredValueSnapshot(O,N);b.currentOutputSnapshotRaw=O,b.currentOutputSnapshotResolved=A,b.currentWriteId=this.getNextWriteId_(),m.splice(m.indexOf(I),1),u=u.concat(this.serverSyncTree_.applyUserOverwrite(b.path,A,b.currentWriteId,b.applyLocally)),u=u.concat(this.serverSyncTree_.ackUserWrite(I,!0))}else w=!0,E="nodata",u=u.concat(this.serverSyncTree_.ackUserWrite(b.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,u),u=[],w&&(t[g].status=r.COMPLETED,function(t){setTimeout(t,Math.floor(0))}(t[g].unwatcher),t[g].onComplete))if("nodata"===E){var P=new i.Reference(this,t[g].path),R=t[g].currentInputSnapshot,x=new s.DataSnapshot(R,P,c.PRIORITY_INDEX);n.push(t[g].onComplete.bind(null,null,!1,x))}else n.push(t[g].onComplete.bind(null,new Error(E),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var g=0;g<n.length;g++)l.exceptionGuard(n[g]);this.sendReadyTransactions_()}},v.Repo.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},v.Repo.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},v.Repo.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var o=0;o<r.length;o++)e.push(r[o]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},v.Repo.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var o=0,i=0;i<n.length;i++)n[i].status!==r.COMPLETED&&(n[o]=n[i],o++);n.length=o,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},v.Repo.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},v.Repo.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],i=[],s=-1,a=0;a<e.length;a++)if(e[a].status===r.SENT_NEEDS_ABORT);else if(e[a].status===r.SENT)o.assert(s===a-1,"All SENT items should be at beginning of queue."),s=a,e[a].status=r.SENT_NEEDS_ABORT,e[a].abortReason="set";else if(o.assert(e[a].status===r.RUN,"Unexpected transaction status in abort"),e[a].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(e[a].currentWriteId,!0)),e[a].onComplete){n.push(e[a].onComplete.bind(null,new Error("set"),!1,null))}-1===s?t.setValue(null):e.length=s+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),i);for(var a=0;a<n.length;a++)l.exceptionGuard(n[a])}}},W4Cj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=n("ertD"),i=n("R3TC"),s=n("/fob"),a=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,i,s,a){r.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var u=t.getImmediateChild(e);return u.getChild(i).equals(n.getChild(i))&&u.isEmpty()==n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(o.Change.childRemovedChange(e,u)):r.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(o.Change.childAddedChange(e,n)):a.trackChildChange(o.Change.childChangedChange(e,n,u))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(s.PRIORITY_INDEX,function(t,r){e.hasChild(t)||n.trackChildChange(o.Change.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(s.PRIORITY_INDEX,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(o.Change.childChangedChange(e,r,i))}else n.trackChildChange(o.Change.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?i.ChildrenNode.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();e.IndexedFilter=a},W5L8:function(t,e,n){"use strict";var r=n("bKpL"),o=n("7PW3");r.Observable.using=o.using},WAO4:function(t,e,n){"use strict";function r(t,e,n){void 0===n&&(n=i.async);var r=s.isDate(t),o=r?+t-n.now():Math.abs(t);return this.lift(new c(o,r,e,n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("IhB/"),s=n("6jp4"),a=n("yW9Z"),u=n("ktfo");e.timeoutWith=r;var c=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),l=function(t){function e(e,n,r,o,i){t.call(this,e),this.absoluteTimeout=n,this.waitFor=r,this.withObservable=o,this.scheduler=i,this.action=null,this.scheduleTimeout()}return o(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(u.subscribeToResult(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(a.OuterSubscriber)},WH8D:function(t,e,n){"use strict";function r(t){return JSON.parse(t)}function o(t){return JSON.stringify(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.jsonEval=r,e.stringify=o},WSkQ:function(t,e,n){"use strict";function r(t,e,n){return this.lift(new a(t,e,n,this))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("TpsG");e.last=r;var a=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,n,r,o,i){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=o,this.source=i,this.hasValue=!1,this.index=0,void 0!==o&&(this.lastValue=o,this.hasValue=!0)}return o(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new s.EmptyError)},e}(i.Subscriber)},WmO6:function(t,e,n){"use strict";function r(t,e){return[i.filter.call(this,t,e),i.filter.call(this,o.not(t,e))]}var o=n("iyHZ"),i=n("422b");e.partition=r},XL2q:function(t,e,n){"use strict";var r=n("bKpL"),o=n("7JOC");r.Observable.from=o.from},XNum:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("xFbG"),i=function(t){function e(e,n){t.call(this)}return r(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(o.Subscription);e.Action=i},XOyC:function(t,e,n){"use strict";function r(t,e){return e?new h(this,e).lift(new c(t)):this.lift(new c(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("bKpL"),a=n("yW9Z"),u=n("ktfo");e.delayWhen=r;var c=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.delayDurationSelector))},t}(),l=function(t){function e(e,n){t.call(this,e),this.delayDurationSelector=n,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return o(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(t),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t),n=null;return-1!==e&&(n=this.values[e],this.delayNotifierSubscriptions.splice(e,1),this.values.splice(e,1)),n},e.prototype.tryDelay=function(t,e){var n=u.subscribeToResult(this,t,e);n&&!n.closed&&(this.add(n),this.delayNotifierSubscriptions.push(n)),this.values.push(e)},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(a.OuterSubscriber),h=function(t){function e(e,n){t.call(this),this.source=e,this.subscriptionDelay=n}return o(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new p(t,this.source))},e}(s.Observable),p=function(t){function e(e,n){t.call(this),this.parent=e,this.source=n,this.sourceSubscribed=!1}return o(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(i.Subscriber)},XR5H:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("rlar"),i=n("xFbG"),s=n("Xga8"),a=n("p2y2"),u=function(t){function e(e,n){t.call(this),this.messages=e,this.subscriptions=[],this.scheduler=n}return r(e,t),e.prototype._subscribe=function(e){var n=this,r=n.logSubscribedFrame();return e.add(new i.Subscription(function(){n.logUnsubscribedFrame(r)})),t.prototype._subscribe.call(this,e)},e.prototype.setup=function(){for(var t=this,e=t.messages.length,n=0;n<e;n++)!function(){var e=t.messages[n];t.scheduler.schedule(function(){e.notification.observe(t)},e.frame)}()},e}(o.Subject);e.HotObservable=u,a.applyMixins(u,[s.SubscriptionLoggable])},XR71:function(t,e,n){"use strict";var r=n("bKpL"),o=n("AHF9");r.Observable.prototype.observeOn=o.observeOn},XRvs:function(t,e,n){"use strict";e.errorObject={e:{}}},Xa8F:function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=0),this.lift(new a(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("rlar");e.windowCount=r;var a=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.windowSize,this.startWindowEvery))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.destination=e,this.windowSize=n,this.startWindowEvery=r,this.windows=[new s.Subject],this.count=0,e.next(this.windows[0])}return o(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,o=this.windows,i=o.length,a=0;a<i&&!this.closed;a++)o[a].next(t);var u=this.count-r+1;if(u>=0&&u%e==0&&!this.closed&&o.shift().complete(),++this.count%e==0&&!this.closed){var c=new s.Subject;o.push(c),n.next(c)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(i.Subscriber)},Xga8:function(t,e,n){"use strict";var r=n("OXmC"),o=function(){function t(){this.subscriptions=[]}return t.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new r.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},t.prototype.logUnsubscribedFrame=function(t){var e=this.subscriptions,n=e[t];e[t]=new r.SubscriptionLog(n.subscribedFrame,this.scheduler.now())},t}();e.SubscriptionLoggable=o},XiwH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("W4Cj"),o=n("/fob"),i=n("p+VM"),s=n("R3TC"),a=function(){function t(e){this.indexedFilter_=new r.IndexedFilter(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,o,a){return this.matches(new i.NamedNode(e,n))||(n=s.ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,o,a)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=s.ChildrenNode.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(s.ChildrenNode.EMPTY_NODE);var a=this;return e.forEachChild(o.PRIORITY_INDEX,function(t,e){a.matches(new i.NamedNode(t,e))||(r=r.updateImmediateChild(t,s.ChildrenNode.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}();e.RangedFilter=a},Xp63:function(t,e,n){"use strict";function r(t,e){var n=new a(t,e);return n.subscribe.bind(n)}function o(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function i(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}function s(){}Object.defineProperty(e,"__esModule",{value:!0}),e.createSubscribe=r;var a=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=i(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=s),void 0===r.error&&(r.error=s),void 0===r.complete&&(r.complete=s);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}}),this.observers.push(r),a},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();e.async=o},XtH8:function(t,e,n){"use strict";function r(){function t(t){p(d[t],"delete"),delete d[t]}function e(t){return t=t||a,s(d,t)||o("no-app",{name:t}),d[t]}function n(t,e){void 0===e?e=a:"string"==typeof e&&""!==e||o("bad-app-name",{name:e+""}),s(d,e)&&o("duplicate-app",{name:e});var n=new c(t,e,m);return d[e]=n,p(n,"create"),n}function u(){return Object.keys(d).map(function(t){return d[t]})}function l(t,n,r,s,a){y[t]&&o("duplicate-service",{name:t}),y[t]=n,s&&(v[t]=s,u().forEach(function(t){s("create",t)}));var l=function(n){return void 0===n&&(n=e()),"function"!=typeof n[t]&&o("invalid-app-argument",{name:t}),n[t]()};return void 0!==r&&Object(i.deepExtend)(l,r),m[t]=l,c.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,a?e:[])},l}function h(t){Object(i.deepExtend)(m,t)}function p(t,e){Object.keys(y).forEach(function(n){var r=f(t,n);null!==r&&v[r]&&v[r](e,t)})}function f(t,e){if("serverAuth"===e)return null;var n=e;t.options;return n}var d={},y={},v={},m={__esModule:!0,initializeApp:n,app:e,apps:null,Promise:Promise,SDK_VERSION:"4.6.1",INTERNAL:{registerService:l,createFirebaseNamespace:r,extendNamespace:h,createSubscribe:i.createSubscribe,ErrorFactory:i.ErrorFactory,removeApp:t,factories:y,useAsService:f,Promise:Promise,deepExtend:i.deepExtend}};return Object(i.patchProperty)(m,"default",m),Object.defineProperty(m,"apps",{get:u}),Object(i.patchProperty)(e,"App",c),m}function o(t,e){throw h.create(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var i=n("JEJ4"),s=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a="[DEFAULT]",u=[],c=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e,this.options_=Object(i.deepCopy)(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){u.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){u=u.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=a),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==a?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;Object(i.deepExtend)(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(u.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),u=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&o("app-deleted",{name:this.name_})},t}();c.prototype.name&&c.prototype.options||c.prototype.delete||console.log("dc");var l={"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."},h=new i.ErrorFactory("app","Firebase",l);n.d(e,"firebase",function(){return p});var p=r();e.default=p},Xtvq:function(t,e,n){"use strict";var r=n("bKpL"),o=n("zGUx");r.Observable.fromEvent=o.fromEvent},"Y+l6":function(t,e,n){"use strict";function r(){return this.lift(new s)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.toArray=r;var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){t.call(this,e),this.array=[]}return o(e,t),e.prototype._next=function(t){this.array.push(t)},e.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},e}(i.Subscriber)},Y5DG:function(t,e,n){n("OzfH")},YFUQ:function(t,e,n){"use strict";var r=n("bKpL"),o=n("BJqU");r.Observable.prototype.throttleTime=o.throttleTime},YY8E:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=function(){function t(t){this.allowedEvents_=t,this.listeners_={},r.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],o=0;o<r.length;o++)if(r[o].callback===e&&(!n||n===r[o].context))return void r.splice(o,1)},t.prototype.validateEventType_=function(t){r.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}();e.EventEmitter=o},"Yj/5":function(t,e,n){"use strict";var r=n("Fq81");e.fromEventPattern=r.FromEventPatternObservable.create},YofN:function(t,e,n){"use strict";var r=n("7dLC");e.race=r.raceStatic},Yvsb:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=n("Z5ED"),s=function(t){function e(){t.call(this)}return r(e,t),e.create=function(){return new e},e.prototype._subscribe=function(t){i.noop()},e}(o.Observable);e.NeverObservable=s},Z0p1:function(t,e,n){"use strict";function r(t){var e=new m.Observable(function(e){return{unsubscribe:t.onSnapshot(e)}});return g.observeOn.call(e,new v.e(Zone.current))}function o(t){return r(t).share()}function i(t){return o(t).map(function(t){return{payload:t,type:"value"}})}function s(t){return o(t).map(function(t){return{payload:t,type:"query"}})}function a(t){return s(t).map(function(t){return t.payload.docChanges.map(function(t){return{type:t.type,payload:t}})})}function u(t,e){return s(t).map(function(t){return t.payload.docChanges}).scan(function(t,n){return c(t,n,e)},[]).map(function(t){return t.map(function(t){return{type:t.type,payload:t}})})}function c(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=l(t,e))}),t}function l(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.id==e.doc.id||t.splice(e.newIndex,0,e);break;case"modified":e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e);break;case"removed":t.splice(e.oldIndex,1)}return t}function h(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}function p(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}function f(t,e){return new w(t,e)}var d=(n("/9hx"),n("7JOC")),y=(n("5v8a"),n("/oeL")),v=n("13je"),m=n("bKpL"),g=n("AHF9"),b=(n("qm+V"),n("gbhw"),n("6NKQ"),function(){function t(t,e){this.ref=t,this.query=e}return t.prototype.stateChanges=function(t){return t&&0!==t.length?a(this.query).map(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}).filter(function(t){return t.length>0}):a(this.query)},t.prototype.auditTrail=function(t){return this.stateChanges(t).scan(function(t,e){return t.concat(e)},[])},t.prototype.snapshotChanges=function(t){return t=h(t),u(this.query,t)},t.prototype.valueChanges=function(t){return s(this.query).map(function(t){return t.payload.docs.map(function(t){return t.data()})})},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new _(this.ref.doc(t))},t}()),_=function(){function t(t){this.ref=t}return t.prototype.set=function(t){return this.ref.set(t)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=this.ref.collection(t),r=p(n,e),o=r.ref,i=r.query;return new b(o,i)},t.prototype.snapshotChanges=function(){return i(this.ref)},t.prototype.valueChanges=function(){return this.snapshotChanges().map(function(t){return t.payload.exists?t.payload.data():null})},t}(),w=function(){function t(t,e){this.app=t,this.firestore=t.firestore(),this.persistenceEnabled$=e?Object(d.from)(t.firestore().enablePersistence().then(function(){return!0})):Object(d.from)(new Promise(function(t,e){t(!1)}))}return t.prototype.collection=function(t,e){var n=this.firestore.collection(t),r=p(n,e),o=r.ref,i=r.query;return new b(o,i)},t.prototype.doc=function(t){var e=this.firestore.doc(t);return new _(e)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},t.decorators=[{type:y.u}],t.ctorParameters=function(){return[{type:v.b},null]},t}(),E=new y.v("EnablePersistenceToken"),C={provide:w,useFactory:f,deps:[v.b,E]},S=[C,{provide:E,useValue:!1}],O=function(){function t(){}return t.enablePersistence=function(){return{ngModule:v.a,providers:[{provide:E,useValue:!0},C]}},t.decorators=[{type:y.B,args:[{imports:[v.a],providers:[S]}]}],t.ctorParameters=function(){return[]},t}();n.d(e,!1,function(){return p}),n.d(e,"a",function(){return w}),n.d(e,"c",function(){return E}),n.d(e,"d",function(){return f}),n.d(e,!1,function(){return C}),n.d(e,!1,function(){return S}),n.d(e,"b",function(){return O}),n.d(e,!1,function(){return h}),n.d(e,!1,function(){return b}),n.d(e,!1,function(){return _}),n.d(e,!1,function(){return a}),n.d(e,!1,function(){return u}),n.d(e,!1,function(){return c}),n.d(e,!1,function(){return l}),n.d(e,!1,function(){return o}),n.d(e,!1,function(){return i}),n.d(e,!1,function(){return s})},Z2Sm:function(t,e,n){"use strict";var r=n("bKpL"),o=n("3N4h");r.Observable.prototype.window=o.window},Z5ED:function(t,e,n){"use strict";function r(){}e.noop=r},ZGn5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=n("fvGz"),i=n("z8+r"),s=n("04zk"),a=n("43Go"),u=n("/fob");e.generateWithValues=function(t){return t=t||{},t.timestamp=t.timestamp||(new Date).getTime(),t},e.resolveDeferredValue=function(t,e){return t&&"object"==typeof t?(r.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},e.resolveDeferredValueTree=function(t,n){var r=new i.SparseSnapshotTree;return t.forEachTree(new o.Path(""),function(t,o){r.remember(t,e.resolveDeferredValueSnapshot(o,n))}),r},e.resolveDeferredValueSnapshot=function(t,n){var r,o=t.getPriority().val(),i=e.resolveDeferredValue(o,n);if(t.isLeafNode()){var c=t,l=e.resolveDeferredValue(c.getValue(),n);return l!==c.getValue()||i!==c.getPriority().val()?new s.LeafNode(l,a.nodeFromJSON(i)):t}var h=t;return r=h,i!==h.getPriority().val()&&(r=r.updatePriority(new s.LeafNode(i))),h.forEachChild(u.PRIORITY_INDEX,function(t,o){var i=e.resolveDeferredValueSnapshot(o,n);i!==o&&(r=r.updateImmediateChild(t,i))}),r}},ZQKz:function(t,e,n){"use strict";var r=n("bKpL"),o=n("1eQ7");r.Observable.prototype.first=o.first},ZQVD:function(t,e,n){"use strict";function r(){return this.lift(new a)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("Z5ED");e.ignoreElements=r;var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype._next=function(t){s.noop()},e}(i.Subscriber)},ZXBV:function(t,e,n){"use strict";var r=n("bKpL"),o=n("Yj/5");r.Observable.fromEventPattern=o.fromEventPattern},Zfg9:function(t,e,n){"use strict";function r(t){return this.lift(new a(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("uT+d");e.skipLast=r;var a=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new i.Subscriber(t)):e.subscribe(new u(t,this._skipCount))},t}(),u=function(t){function e(e,n){t.call(this,e),this._skipCount=n,this._count=0,this._ring=new Array(n)}return o(e,t),e.prototype._next=function(t){var e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{var r=n%e,o=this._ring,i=o[r];o[r]=t,this.destination.next(i)}},e}(i.Subscriber)},a9bY:function(t,e,n){"use strict";function r(t){var e="function"==typeof t?function(e,n){return t(e,n)>0?e:n}:function(t,e){return t>e?t:e};return this.lift(new o.ReduceOperator(e))}var o=n("Tq0x");e.max=r},aCMF:function(t,e,n){"use strict";function r(t,e){return this.lift(new a(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),s=n("ktfo");e.switchMap=r;var a=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.resultSelector=r,this.index=0}return o(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=s.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,o){this.resultSelector?this._tryNotifyNext(t,e,n,r):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,n,r){var o;try{o=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(o)},e}(i.OuterSubscriber)},aOKN:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.done,n=t.value,r=t.subscriber;if(e)return void r.complete();r.next(n),r.closed||(t.done=!0,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(o.Observable);e.ScalarObservable=i},afTc:function(t,e,n){"use strict";var r=n("bKpL"),o=n("OdUO");r.Observable.prototype.elementAt=o.elementAt},amjc:function(t,e,n){"use strict";var r=n("bKpL"),o=n("yQ6o");r.Observable.bindCallback=o.bindCallback},asHm:function(t,e,n){"use strict";var r=n("bKpL"),o=n("OADz");r.Observable.prototype.withLatestFrom=o.withLatestFrom},azLz:function(t,e,n){"use strict";var r=n("bKpL"),o=n("CH/r");r.Observable.prototype.debounceTime=o.debounceTime},b5Wm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n("JEJ4"),i=n("2BLv"),s=n("JEJ4"),a=n("p+VM"),u=n("/fob"),c=n("stu6"),l={},h=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return o.assert(l&&u.PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),r=r||new t({".priority":l},{".priority":u.PRIORITY_INDEX})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=s.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===l?null:e},t.prototype.hasIndex=function(t){return s.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){o.assert(e!==c.KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],u=!1,h=n.getIterator(a.NamedNode.Wrap),p=h.getNext();p;)u=u||e.isDefinedOn(p.node),r.push(p),p=h.getNext();var f;f=u?i.buildChildSet(r,e.getCompare()):l;var d=e.toString(),y=s.clone(this.indexSet_);y[d]=e;var v=s.clone(this.indexes_);return v[d]=f,new t(v,y)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(s.map(this.indexes_,function(t,u){var c=s.safeGet(r.indexSet_,u);if(o.assert(c,"Missing index implementation for "+u),t===l){if(c.isDefinedOn(e.node)){for(var h=[],p=n.getIterator(a.NamedNode.Wrap),f=p.getNext();f;)f.name!=e.name&&h.push(f),f=p.getNext();return h.push(e),i.buildChildSet(h,c.getCompare())}return l}var d=n.get(e.name),y=t;return d&&(y=y.remove(new a.NamedNode(e.name,d))),y.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(s.map(this.indexes_,function(t){if(t===l)return t;var r=n.get(e.name);return r?t.remove(new a.NamedNode(e.name,r)):t}),this.indexSet_)},t}();e.IndexMap=h},bKpL:function(t,e,n){"use strict";var r=n("zijX"),o=n("rf3q"),i=n("DP67"),s=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=o.toSubscriber(t,e,n);if(r?r.call(i,this.source):i.add(this.source?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var o;o=n.subscribe(function(e){if(o)try{t(e)}catch(t){r(t),o.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[i.observable]=function(){return this},t.create=function(e){return new t(e)},t}();e.Observable=s},bN7U:function(t,e,n){"use strict";var r=n("bKpL"),o=n("fxBd");r.Observable.prototype.takeLast=o.takeLast},bN85:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("R3TC"),o=n("y8hQ"),i=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new o.CacheNode(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new o.CacheNode(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new o.CacheNode(r.ChildrenNode.EMPTY_NODE,!1,!1),new o.CacheNode(r.ChildrenNode.EMPTY_NODE,!1,!1)),t}();e.ViewCache=i},bjDG:function(t,e,n){"use strict";var r=n("NZPJ");e.generate=r.GenerateObservable.create},bm2B:function(t,e,n){"use strict";function r(t){return null==t||0===t.length}function o(t){return null!=t}function i(t){var e=Object(D._23)(t)?Object(L.fromPromise)(t):t;if(!Object(D._22)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function s(t,e){return e.map(function(e){return e(t)})}function a(t,e){return e.map(function(e){return e(t)})}function u(t){var e=t.reduce(function(t,e){return null!=e?Object.assign({},t,e):t},{});return 0===Object.keys(e).length?null:e}function c(){return/android (\d+)/.test((Object(F.t)()?Object(F.t)().getUserAgent():"").toLowerCase())}function l(t){return t.validate?function(e){return t.validate(e)}:t}function h(t){return t.validate?function(e){return t.validate(e)}:t}function p(){throw new Error("unimplemented")}function f(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}function d(t){return t.split(":")[0]}function y(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}function v(t){return t.split(":")[0]}function m(t,e){return e.path.concat([t])}function g(t,e){t||E(e,"Cannot find control with"),e.valueAccessor||E(e,"No value accessor for form control with"),t.validator=H.compose([t.validator,e.validator]),t.asyncValidator=H.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),e.valueAccessor.registerOnChange(function(n){e.viewToModelUpdate(n),t.markAsDirty(),t.setValue(n,{emitModelToViewChange:!1})}),e.valueAccessor.registerOnTouched(function(){return t.markAsTouched()}),t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function b(t,e){e.valueAccessor.registerOnChange(function(){return w(e)}),e.valueAccessor.registerOnTouched(function(){return w(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}function _(t,e){null==t&&E(e,"Cannot find control with"),t.validator=H.compose([t.validator,e.validator]),t.asyncValidator=H.composeAsync([t.asyncValidator,e.asyncValidator])}function w(t){return E(t,"There is no FormControl instance attached to form control element with")}function E(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function C(t){return null!=t?H.compose(t.map(l)):null}function S(t){return null!=t?H.composeAsync(t.map(h)):null}function O(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(D._26)(e,n.currentValue)}function T(t){return ht.some(function(e){return t.constructor===e})}function I(t,e){if(!e)return null;var n=void 0,r=void 0,o=void 0;return e.forEach(function(e){e.constructor===X?n=e:T(e)?(r&&E(t,"More than one built-in value accessor matches form control with"),r=e):(o&&E(t,"More than one custom value accessor matches form control with"),o=e)}),o||(r||(n||(E(t,"No valid value accessor for form control with"),null)))}function N(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(n)),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof bt?t.controls[e]||null:t instanceof _t?t.at(e)||null:null},t))}function A(t){return Array.isArray(t)?C(t):t||null}function P(t){return Array.isArray(t)?S(t):t||null}function R(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function x(t){return!(t instanceof jt||t instanceof Mt||t instanceof Vt)}n.d(e,"b",function(){return U}),n.d(e,"g",function(){return K}),n.d(e,"a",function(){return J}),n.d(e,"c",function(){return X}),n.d(e,"h",function(){return $}),n.d(e,"i",function(){return yt}),n.d(e,"j",function(){return vt}),n.d(e,"k",function(){return Ct}),n.d(e,"l",function(){return Pt}),n.d(e,"m",function(){return at}),n.d(e,"o",function(){return st}),n.d(e,"d",function(){return Qt}),n.d(e,"n",function(){return Ht}),n.d(e,"f",function(){return B}),n.d(e,"e",function(){return se}),n.d(e,"p",function(){return ie}),n.d(e,"r",function(){return ee}),n.d(e,"q",function(){return Z}),n.d(e,"s",function(){return et}),n.d(e,"t",function(){return lt});var k=n("6Xbx"),D=n("/oeL"),M=n("Fhmd"),L=(n.n(M),n("QU9E")),j=(n.n(L),n("lx+J")),F=(n.n(j),n("fc+i")),V=function(){function t(){}return t.prototype.control=function(){},Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k.a(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(V),B=new D.v("NgValidators"),q=new D.v("NgAsyncValidators"),W=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,H=function(){function t(){}return t.min=function(t){return function(e){if(r(e.value)||r(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(r(e.value)||r(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return r(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return W.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(r(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){if(!e)return t.nullValidator;var n,o;return"string"==typeof e?(o="^"+e+"$",n=new RegExp(o)):(o=e.toString(),n=e),function(t){if(r(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:o,actualValue:e}}}},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(o);return 0==e.length?null:function(t){return u(s(t,e))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(o);return 0==e.length?null:function(t){var n=a(t,e).map(i);return j.map.call(Object(M.forkJoin)(n),u)}},t}(),K=new D.v("NgValueAccessor"),G={provide:K,useExisting:Object(D._4)(function(){return Q}),multi:!0},Q=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();Q.decorators=[{type:D.m,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[G]}]}],Q.ctorParameters=function(){return[{type:D.N},{type:D.n}]};var z={provide:K,useExisting:Object(D._4)(function(){return X}),multi:!0},J=new D.v("CompositionEventMode"),X=function(){function t(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!c())}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();X.decorators=[{type:D.m,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"_handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"_compositionStart()","(compositionend)":"_compositionEnd($event.target.value)"},providers:[z]}]}],X.ctorParameters=function(){return[{type:D.N},{type:D.n},{type:void 0,decorators:[{type:D.H},{type:D.t,args:[J]}]}]};var Y={provide:K,useExisting:Object(D._4)(function(){return Z}),multi:!0},Z=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();Z.decorators=[{type:D.m,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[Y]}]}],Z.ctorParameters=function(){return[{type:D.N},{type:D.n}]};var $=function(t){function e(){var e=t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return k.a(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return p()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return p()},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){},e}(V),tt={provide:K,useExisting:Object(D._4)(function(){return nt}),multi:!0},et=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&(t[0]._parent===e._control._parent&&t[1].name===e.name)},t}();et.decorators=[{type:D.u}],et.ctorParameters=function(){return[]};var nt=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get($),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}();nt.decorators=[{type:D.m,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[tt]}]}],nt.ctorParameters=function(){return[{type:D.N},{type:D.n},{type:et},{type:D.w}]},nt.propDecorators={name:[{type:D.x}],formControlName:[{type:D.x}],value:[{type:D.x}]};var rt={provide:K,useExisting:Object(D._4)(function(){return ot}),multi:!0},ot=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();ot.decorators=[{type:D.m,args:[{selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[rt]}]}],ot.ctorParameters=function(){return[{type:D.N},{type:D.n}]};var it={provide:K,useExisting:Object(D._4)(function(){return st}),multi:!0},st=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=D._26}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=f(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null},t.prototype._getOptionValue=function(t){var e=d(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}();st.decorators=[{type:D.m,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[it]}]}],st.ctorParameters=function(){return[{type:D.N},{type:D.n}]},st.propDecorators={compareWith:[{type:D.x}]};var at=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(f(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();at.decorators=[{type:D.m,args:[{selector:"option"}]}],at.ctorParameters=function(){return[{type:D.n},{type:D.N},{type:st,decorators:[{type:D.H},{type:D.q}]}]},at.propDecorators={ngValue:[{type:D.x,args:["ngValue"]}],value:[{type:D.x,args:["value"]}]};var ut={provide:K,useExisting:Object(D._4)(function(){return ct}),multi:!0},ct=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=D._26}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e=this;this.value=t;var n;if(Array.isArray(t)){var r=t.map(function(t){return e._getOptionId(t)});n=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else n=function(t,e){t._setSelected(!1)};this._optionMap.forEach(n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var o=n.selectedOptions,i=0;i<o.length;i++){var s=o.item(i),a=e._getOptionValue(s.value);r.push(a)}else for(var o=n.options,i=0;i<o.length;i++){var s=o.item(i);if(s.selected){var a=e._getOptionValue(s.value);r.push(a)}}e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null},t.prototype._getOptionValue=function(t){var e=v(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}();ct.decorators=[{type:D.m,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[ut]}]}],ct.ctorParameters=function(){return[{type:D.N},{type:D.n}]},ct.propDecorators={compareWith:[{type:D.x}]};var lt=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(y(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(y(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();lt.decorators=[{type:D.m,args:[{selector:"option"}]}],lt.ctorParameters=function(){return[{type:D.n},{type:D.N},{type:ct,decorators:[{type:D.H},{type:D.q}]}]},lt.propDecorators={ngValue:[{type:D.x,args:["ngValue"]}],value:[{type:D.x,args:["value"]}]};var ht=[Q,ot,Z,st,ct,nt],pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k.a(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return m(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return C(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return S(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(U),ft=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),dt={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"},yt=function(t){function e(e){return t.call(this,e)||this}return k.a(e,t),e}(ft);yt.decorators=[{type:D.m,args:[{selector:"[formControlName],[ngModel],[formControl]",host:dt}]}],yt.ctorParameters=function(){return[{type:$,decorators:[{type:D.S}]}]};var vt=function(t){function e(e){return t.call(this,e)||this}return k.a(e,t),e}(ft);vt.decorators=[{type:D.m,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:dt}]}],vt.ctorParameters=function(){return[{type:U,decorators:[{type:D.S}]}]};var mt=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this._pristine=!0,this._touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=A(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=P(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this._touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this._touched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this._pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this._pristine=!0,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this._status="PENDING",this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this._status="DISABLED",this._errors=null,this._forEachChild(function(t){t.disable({onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._updateAncestors(!!t.onlySelf),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this._status="VALID",this._forEachChild(function(t){t.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(!!t.onlySelf),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.setValue=function(t,e){},t.prototype.patchValue=function(t,e){},t.prototype.reset=function(t,e){},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this._errors=this._runValidator(),this._status=this._calculateStatus(),"VALID"!==this._status&&"PENDING"!==this._status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this._status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this._status="PENDING";var n=i(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this._errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return N(this,t,".")},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n._errors?n._errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this._status=this._calculateStatus(),t&&this._statusChanges.emit(this._status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this._valueChanges=new D.p,this._statusChanges=new D.p},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this._errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._updateValue=function(){},t.prototype._forEachChild=function(t){},t.prototype._anyControls=function(t){},t.prototype._allControlsDisabled=function(){},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this._pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this._touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t}(),gt=function(t){function e(e,n,r){void 0===e&&(e=null);var o=t.call(this,A(n),P(r))||this;return o._onChange=[],o._applyFormState(e),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o._initObservables(),o}return k.a(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._value=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n._value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this._value,e)},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this._value=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this._value=t},e}(mt),bt=function(t){function e(e,n,r){var o=t.call(this,n||null,r||null)||this;return o.controls=e,o._initObservables(),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return k.a(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof gt?e.value:e.getRawValue(),t})},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this._value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,o){n=n||e.contains(o)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(mt),_t=function(t){function e(e,n,r){var o=t.call(this,n||null,r||null)||this;return o.controls=e,o._initObservables(),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return k.a(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof gt?t.value:t.getRawValue()})},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this._value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++){if(e[t].enabled)return!1}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(mt),wt={provide:U,useExisting:Object(D._4)(function(){return Ct})},Et=Promise.resolve(null),Ct=function(t){function e(e,n){var r=t.call(this)||this;return r._submitted=!1,r.ngSubmit=new D.p,r.form=new bt({},C(e),S(n)),r}return k.a(e,t),Object.defineProperty(e.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;Et.then(function(){var n=e._findContainer(t.path);t._control=n.registerControl(t.name,t.control),g(t.control,t),t.control.updateValueAndValidity({emitEvent:!1})})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;Et.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.addFormGroup=function(t){var e=this;Et.then(function(){var n=e._findContainer(t.path),r=new bt({});_(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;Et.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;Et.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(U);Ct.decorators=[{type:D.m,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[wt],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],Ct.ctorParameters=function(){return[{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[B]}]},{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[q]}]}]};var St={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '},Ot=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+St.formControlName+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+St.ngModelWithFormGroup)},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+St.formGroupName+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+St.ngModelGroup)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+St.formGroupName+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+St.ngModelGroup)},t}(),Tt={provide:U,useExisting:Object(D._4)(function(){return It})},It=function(t){function e(e,n,r){var o=t.call(this)||this;return o._parent=e,o._validators=n,o._asyncValidators=r,o}return k.a(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof Ct||Ot.modelGroupParentException()},e}(pt);It.decorators=[{type:D.m,args:[{selector:"[ngModelGroup]",providers:[Tt],exportAs:"ngModelGroup"}]}],It.ctorParameters=function(){return[{type:U,decorators:[{type:D.q},{type:D.T}]},{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[B]}]},{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[q]}]}]},It.propDecorators={name:[{type:D.x,args:["ngModelGroup"]}]};var Nt={provide:$,useExisting:Object(D._4)(function(){return Pt})},At=Promise.resolve(null),Pt=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i._control=new gt,i._registered=!1,i.update=new D.p,i._parent=e,i._rawValidators=n||[],i._rawAsyncValidators=r||[],i.valueAccessor=I(i,o),i}return k.a(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),O(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?m(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return C(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return S(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){g(this._control,this),this._control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof It)&&this._parent instanceof pt?Ot.formGroupNameException():this._parent instanceof It||this._parent instanceof Ct||Ot.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Ot.missingNameException()},e.prototype._updateValue=function(t){var e=this;At.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;At.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}($);Pt.decorators=[{type:D.m,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[Nt],exportAs:"ngModel"}]}],Pt.ctorParameters=function(){return[{type:U,decorators:[{type:D.H},{type:D.q}]},{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[B]}]},{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[q]}]},{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[K]}]}]},Pt.propDecorators={name:[{type:D.x}],isDisabled:[{type:D.x,args:["disabled"]}],model:[{type:D.x,args:["ngModel"]}],options:[{type:D.x,args:["ngModelOptions"]}],update:[{type:D.I,args:["ngModelChange"]}]};var Rt=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+St.formControlName)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+St.formGroupName+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+St.ngModelGroup)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+St.formControlName)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+St.formGroupName)},t.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+St.formArrayName)},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t}(),xt={provide:$,useExisting:Object(D._4)(function(){return kt})},kt=function(t){function e(e,n,r){var o=t.call(this)||this;return o.update=new D.p,o._rawValidators=e||[],o._rawAsyncValidators=n||[],o.valueAccessor=I(o,r),o}return k.a(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){Rt.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._isControlChanged(t)&&(g(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),O(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return C(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return S(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._isControlChanged=function(t){return t.hasOwnProperty("form")},e}($);kt.decorators=[{type:D.m,args:[{selector:"[formControl]",providers:[xt],exportAs:"ngForm"}]}],kt.ctorParameters=function(){return[{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[B]}]},{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[q]}]},{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[K]}]}]},kt.propDecorators={form:[{type:D.x,args:["formControl"]}],model:[{type:D.x,args:["ngModel"]}],update:[{type:D.I,args:["ngModelChange"]}],isDisabled:[{type:D.x,args:["disabled"]}]};var Dt={provide:U,useExisting:Object(D._4)(function(){return Mt})},Mt=function(t){function e(e,n){var r=t.call(this)||this;return r._validators=e,r._asyncValidators=n,r._submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new D.p,r}return k.a(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return g(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){R(this.directives,t)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);_(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);_(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e._control!==n&&(b(e._control,e),n&&g(n,e),e._control=n)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=C(this._validators);this.form.validator=H.compose([this.form.validator,t]);var e=S(this._asyncValidators);this.form.asyncValidator=H.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||Rt.missingFormException()},e}(U);Mt.decorators=[{type:D.m,args:[{selector:"[formGroup]",providers:[Dt],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}]}],Mt.ctorParameters=function(){return[{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[B]}]},{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[q]}]}]},Mt.propDecorators={form:[{type:D.x,args:["formGroup"]}],ngSubmit:[{type:D.I}]};var Lt={provide:U,useExisting:Object(D._4)(function(){return jt})},jt=function(t){function e(e,n,r){var o=t.call(this)||this;return o._parent=e,o._validators=n,o._asyncValidators=r,o}return k.a(e,t),e.prototype._checkParentType=function(){x(this._parent)&&Rt.groupParentException()},e}(pt);jt.decorators=[{type:D.m,args:[{selector:"[formGroupName]",providers:[Lt]}]}],jt.ctorParameters=function(){return[{type:U,decorators:[{type:D.H},{type:D.q},{type:D.T}]},{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[B]}]},{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[q]}]}]},jt.propDecorators={name:[{type:D.x,args:["formGroupName"]}]};var Ft={provide:U,useExisting:Object(D._4)(function(){return Vt})},Vt=function(t){function e(e,n,r){var o=t.call(this)||this;return o._parent=e,o._validators=n,o._asyncValidators=r,o}return k.a(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return m(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return C(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return S(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){x(this._parent)&&Rt.arrayParentException()},e}(U);Vt.decorators=[{type:D.m,args:[{selector:"[formArrayName]",providers:[Ft]}]}],Vt.ctorParameters=function(){return[{type:U,decorators:[{type:D.H},{type:D.q},{type:D.T}]},{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[B]}]},{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[q]}]}]},Vt.propDecorators={name:[{type:D.x,args:["formArrayName"]}]};var Ut={provide:$,useExisting:Object(D._4)(function(){return Bt})},Bt=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i._added=!1,i.update=new D.p,i._parent=e,i._rawValidators=n||[],i._rawAsyncValidators=r||[],i.valueAccessor=I(i,o),i}return k.a(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){Rt.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._added||this._setUpControl(),O(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(e.prototype,"path",{get:function(){return m(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return C(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return S(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){!(this._parent instanceof jt)&&this._parent instanceof pt?Rt.ngModelGroupException():this._parent instanceof jt||this._parent instanceof Mt||this._parent instanceof Vt||Rt.controlParentException()},e.prototype._setUpControl=function(){this._checkParentType(),this._control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},e}($);Bt.decorators=[{type:D.m,args:[{selector:"[formControlName]",providers:[Ut]}]}],Bt.ctorParameters=function(){return[{type:U,decorators:[{type:D.H},{type:D.q},{type:D.T}]},{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[B]}]},{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[q]}]},{type:Array,decorators:[{type:D.H},{type:D.S},{type:D.t,args:[K]}]}]},Bt.propDecorators={name:[{type:D.x,args:["formControlName"]}],model:[{type:D.x,args:["ngModel"]}],update:[{type:D.I,args:["ngModelChange"]}],isDisabled:[{type:D.x,args:["disabled"]}]};var qt={provide:B,useExisting:Object(D._4)(function(){return Ht}),multi:!0},Wt={provide:B,useExisting:Object(D._4)(function(){return Kt}),multi:!0},Ht=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?H.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}();Ht.decorators=[{type:D.m,args:[{selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[qt],host:{"[attr.required]":'required ? "" : null'}}]}],Ht.ctorParameters=function(){return[]},Ht.propDecorators={required:[{type:D.x}]};var Kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k.a(e,t),e.prototype.validate=function(t){return this.required?H.requiredTrue(t):null},e}(Ht);Kt.decorators=[{type:D.m,args:[{selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[Wt],host:{"[attr.required]":'required ? "" : null'}}]}],Kt.ctorParameters=function(){return[]};var Gt={provide:B,useExisting:Object(D._4)(function(){return Qt}),multi:!0},Qt=function(){function t(){}return Object.defineProperty(t.prototype,"email",{set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this._enabled?H.email(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}();Qt.decorators=[{type:D.m,args:[{selector:"[email][formControlName],[email][formControl],[email][ngModel]",providers:[Gt]}]}],Qt.ctorParameters=function(){return[]},Qt.propDecorators={email:[{type:D.x}]};var zt={provide:B,useExisting:Object(D._4)(function(){return Jt}),multi:!0},Jt=function(){function t(){}return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=H.minLength(parseInt(this.minlength,10))},t}();Jt.decorators=[{type:D.m,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[zt],host:{"[attr.minlength]":"minlength ? minlength : null"}}]}],Jt.ctorParameters=function(){return[]},Jt.propDecorators={minlength:[{type:D.x}]};var Xt={provide:B,useExisting:Object(D._4)(function(){return Yt}),multi:!0},Yt=function(){function t(){}return t.prototype.ngOnChanges=function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null!=this.maxlength?this._validator(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=H.maxLength(parseInt(this.maxlength,10))},t}();Yt.decorators=[{type:D.m,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[Xt],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}}]}],Yt.ctorParameters=function(){return[]},Yt.propDecorators={maxlength:[{type:D.x}]};var Zt={provide:B,useExisting:Object(D._4)(function(){return $t}),multi:!0},$t=function(){function t(){}return t.prototype.ngOnChanges=function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=H.pattern(this.pattern)},t}();$t.decorators=[{type:D.m,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[Zt],host:{"[attr.pattern]":"pattern ? pattern : null"}}]}],$t.ctorParameters=function(){return[]},$t.propDecorators={pattern:[{type:D.x}]};var te=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t),r=null!=e?e.validator:null,o=null!=e?e.asyncValidator:null;return new bt(n,r,o)},t.prototype.control=function(t,e,n){return new gt(t,e,n)},t.prototype.array=function(t,e,n){var r=this,o=t.map(function(t){return r._createControl(t)});return new _t(o,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){if(t instanceof gt||t instanceof bt||t instanceof _t)return t;if(Array.isArray(t)){var e=t[0],n=t.length>1?t[1]:null,r=t.length>2?t[2]:null;return this.control(e,n,r)}return this.control(t)},t}();te.decorators=[{type:D.u}],te.ctorParameters=function(){return[]};var ee=(new D.Y("4.4.5"),function(){function t(){}return t}());ee.decorators=[{type:D.m,args:[{selector:"form:not([ngNoForm]):not([ngNativeValidate])",host:{novalidate:""}}]}],ee.ctorParameters=function(){return[]};var ne=[ee,at,lt,X,Z,ot,Q,st,ct,nt,yt,vt,Ht,Jt,Yt,$t,Kt,Qt],re=[Pt,It,Ct],oe=[kt,Mt,Bt,jt,Vt],ie=function(){function t(){}return t}();ie.decorators=[{type:D.B,args:[{declarations:ne,exports:ne}]}],ie.ctorParameters=function(){return[]};var se=function(){function t(){}return t}();se.decorators=[{type:D.B,args:[{declarations:re,providers:[et],exports:[ie,re]}]}],se.ctorParameters=function(){return[]};var ae=function(){function t(){}return t}();ae.decorators=[{type:D.B,args:[{declarations:[oe],providers:[te,et],exports:[ie,oe]}]}],ae.ctorParameters=function(){return[]}},bprQ:function(t,e,n){"use strict";var r=n("bKpL"),o=n("9mYp");r.Observable.onErrorResumeNext=o.onErrorResumeNext},buGu:function(t,e,n){"use strict";function r(t){return void 0===t&&(t=null),this.lift(new s(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.defaultIfEmpty=r;var s=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.defaultValue))},t}(),a=function(t){function e(e,n){t.call(this,e),this.defaultValue=n,this.isEmpty=!0}return o(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(i.Subscriber)},c2EU:function(t,e,n){"use strict";function r(t,n){return void 0===n&&(n=e.defaultThrottleConfig),this.lift(new a(t,n.leading,n.trailing))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),s=n("ktfo");e.defaultThrottleConfig={leading:!0,trailing:!1},e.throttle=r;var a=function(){function t(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.durationSelector,this.leading,this.trailing))},t}(),u=function(t){function e(e,n,r,o){t.call(this,e),this.destination=e,this.durationSelector=n,this._leading=r,this._trailing=o,this._hasTrailingValue=!1}return o(e,t),e.prototype._next=function(t){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t);else{var e=this.tryDurationSelector(t);e&&this.add(this.throttled=s.subscribeToResult(this,e)),this._leading&&(this.destination.next(t),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t))}},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype._unsubscribe=function(){var t=this,e=t.throttled;t._trailingValue,t._hasTrailingValue,t._trailing;this._trailingValue=null,this._hasTrailingValue=!1,e&&(this.remove(e),this.throttled=null,e.unsubscribe())},e.prototype._sendTrailing=function(){var t=this,e=t.destination,n=t.throttled,r=t._trailing,o=t._trailingValue,i=t._hasTrailingValue;n&&r&&i&&(e.next(o),this._trailingValue=null,this._hasTrailingValue=!1)},e.prototype.notifyNext=function(t,e,n,r,o){this._sendTrailing(),this._unsubscribe()},e.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},e}(i.OuterSubscriber)},cPhF:function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof e&&(n=e,e=null),this.lift(new a(t,e,n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("ktfo"),s=n("yW9Z");e.mergeMap=r;var a=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=a;var u=function(t){function e(e,n,r,o){void 0===o&&(o=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=r,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(i.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,r){var o;try{o=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(o)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.OuterSubscriber);e.MergeMapSubscriber=u},"ce4+":function(t,e,n){n("usOC")},cm6g:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("/HC2"),o=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new r.StatsCollection),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}();e.StatsManager=o},ctu8:function(t,e){Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=e[o];if(t.call(r,i,o,e))return o;o++}return-1}})},d3kC:function(t,e,n){"use strict";var r=n("bKpL"),o=n("bjDG");r.Observable.generate=o.generate},dVae:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n("isNy"),i=n("fvGz"),s=n("F1yO"),a=n("JEJ4"),u=function(){return r||(r=new o.SortedMap(s.stringCompare)),r},c=function(){function t(t,e){void 0===e&&(e=u()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return a.forEach(e,function(t,e){n=n.set(new i.Path(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:i.Path.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var o=r.findRootMostMatchingPathAndValue(t.popFront(),e);if(null!=o){return{path:new i.Path(n).child(o.path),value:o.value}}return null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),o=this.children.get(r)||t.Empty,i=o.set(e.popFront(),n),s=this.children.insert(r,i);return new t(this.value,s)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var o=r.remove(e.popFront()),i=void 0;return i=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&i.isEmpty()?t.Empty:new t(this.value,i)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),o=this.children.get(r)||t.Empty,i=o.setTree(e.popFront(),n),s=void 0;return s=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,s)},t.prototype.fold=function(t){return this.fold_(i.Path.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,o){n[r]=o.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,i.Path.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var o=t.getFront(),i=this.children.get(o);return i?i.findOnPath_(t.popFront(),e.child(o),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,i.Path.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var o=e.getFront(),i=this.children.get(o);return i?i.foreachOnPath_(e.popFront(),n.child(o),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(i.Path.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}();e.ImmutableTree=c},dgXD:function(t,e,n){"use strict";var r=n("bKpL"),o=n("7dLC");r.Observable.prototype.race=o.race},dkwD:function(t,e,n){"use strict";var r=n("zijX"),o=r.root.Symbol;e.rxSubscriber="function"==typeof o&&"function"==typeof o.for?o.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber},dxfK:function(t,e,n){"use strict";function r(t,e){return o.distinctUntilChanged.call(this,function(n,r){return e?e(n[t],r[t]):n[t]===r[t]})}var o=n("kGJb");e.distinctUntilKeyChanged=r},dy5W:function(t,e,n){"use strict";var r=n("bKpL"),o=n("WSkQ");r.Observable.prototype.last=o.last},dyFf:function(t,e,n){"use strict";var r=n("bKpL"),o=n("PT4i");r.Observable.never=o.never},e7Zl:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=function(t){function e(e,n,r){t.call(this),this.start=e,this._count=n,this.scheduler=r}return r(e,t),e.create=function(t,n,r){return void 0===t&&(t=0),void 0===n&&(n=0),new e(t,n,r)},e.dispatch=function(t){var e=t.start,n=t.index,r=t.count,o=t.subscriber;if(n>=r)return void o.complete();o.next(e),o.closed||(t.index=n+1,t.start=e+1,this.schedule(t))},e.prototype._subscribe=function(t){var n=0,r=this.start,o=this._count,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{index:n,count:o,start:r,subscriber:t});for(;;){if(n++>=o){t.complete();break}if(t.next(r++),t.closed)break}},e}(o.Observable);e.RangeObservable=i},"e9+7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){for(var e=[],n=0,r=0;r<t.length;r++){for(var o=t.charCodeAt(r);o>255;)e[n++]=255&o,o>>=8;e[n++]=o}return e},o=function(t){if(t.length<8192)return String.fromCharCode.apply(null,t);for(var e="",n=0;n<t.length;n+=8192){var r=t.slice(n,n+8192);e+=String.fromCharCode.apply(null,r)}return e};e.base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<t.length;o+=3){var i=t[o],s=o+1<t.length,a=s?t[o+1]:0,u=o+2<t.length,c=u?t[o+2]:0,l=i>>2,h=(3&i)<<4|a>>4,p=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(p=64)),r.push(n[l],n[h],n[p],n[f])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):o(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<t.length;){var i=n[t.charAt(o++)],s=o<t.length,a=s?n[t.charAt(o)]:0;++o;var u=o<t.length,c=u?n[t.charAt(o)]:64;++o;var l=o<t.length,h=l?n[t.charAt(o)]:64;if(++o,null==i||null==a||null==c||null==h)throw Error();var p=i<<2|a>>4;if(r.push(p),64!=c){var f=a<<4&240|c>>2;if(r.push(f),64!=h){var d=c<<6&192|h;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},e.base64Encode=function(t){var n=r(t);return e.base64.encodeByteArray(n,!0)},e.base64Decode=function(t){try{return e.base64.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}},eqpX:function(t,e,n){"use strict";var r=n("bKpL"),o=n("rDIt");r.Observable.prototype.do=o._do,r.Observable.prototype._do=o._do},ertD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n,r,o){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=o}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}();e.Change=r},etEa:function(t,e,n){"use strict";function r(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return this.lift(new s(t,this,!1,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.find=r;var s=function(){function t(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}();e.FindValueOperator=s;var a=function(t){function e(e,n,r,o,i){t.call(this,e),this.predicate=n,this.source=r,this.yieldIndex=o,this.thisArg=i,this.index=0}return o(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){var e=this,n=e.predicate,r=e.thisArg,o=this.index++;try{n.call(r||this,t,o,this.source)&&this.notifyComplete(this.yieldIndex?o:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(i.Subscriber);e.FindValueSubscriber=a},etpI:function(t,e,n){"use strict";var r=function(){function t(){this.values={}}return t.prototype.delete=function(t){return this.values[t]=null,!0},t.prototype.set=function(t,e){return this.values[t]=e,this},t.prototype.get=function(t){return this.values[t]},t.prototype.forEach=function(t,e){var n=this.values;for(var r in n)n.hasOwnProperty(r)&&null!==n[r]&&t.call(e,n[r],r)},t.prototype.clear=function(){this.values={}},t}();e.FastMap=r},eumZ:function(t,e,n){"use strict";var r=n("bKpL"),o=n("Xa8F");r.Observable.prototype.windowCount=o.windowCount},"f7+7":function(t,e,n){"use strict";function r(t){var e=this,n=t.source,r=t.subscriber,s=t.context,a=n,h=a.callbackFunc,p=a.args,f=a.scheduler,d=n.subject;if(!d){d=n.subject=new l.AsyncSubject;var y=function t(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];var s=t.source,a=s.selector,l=s.subject,h=n.shift();if(h)e.add(f.schedule(i,0,{err:h,subject:l}));else if(a){var p=u.tryCatch(a).apply(this,n);p===c.errorObject?e.add(f.schedule(i,0,{err:c.errorObject.e,subject:l})):e.add(f.schedule(o,0,{value:p,subject:l}))}else{var d=n.length<=1?n[0]:n;e.add(f.schedule(o,0,{value:d,subject:l}))}};y.source=n;u.tryCatch(h).apply(s,p.concat(y))===c.errorObject&&e.add(f.schedule(i,0,{err:c.errorObject.e,subject:d}))}e.add(d.subscribe(r))}function o(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function i(t){var e=t.err;t.subject.error(e)}var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n("bKpL"),u=n("RdI5"),c=n("XRvs"),l=n("l6Wf"),h=function(t){function e(e,n,r,o,i){t.call(this),this.callbackFunc=e,this.selector=n,this.args=r,this.context=o,this.scheduler=i}return s(e,t),e.create=function(t,n,r){return void 0===n&&(n=void 0),function(){for(var o=[],i=0;i<arguments.length;i++)o[i-0]=arguments[i];return new e(t,n,o,this,r)}},e.prototype._subscribe=function(t){var e=this.callbackFunc,n=this.args,o=this.scheduler,i=this.subject;if(o)return o.schedule(r,0,{source:this,subscriber:t,context:this.context});if(!i){i=this.subject=new l.AsyncSubject;var s=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=t.source,o=r.selector,i=r.subject,s=e.shift();if(s)i.error(s);else if(o){var a=u.tryCatch(o).apply(this,e);a===c.errorObject?i.error(c.errorObject.e):(i.next(a),i.complete())}else i.next(e.length<=1?e[0]:e),i.complete()};s.source=this;u.tryCatch(e).apply(this.context,n.concat(s))===c.errorObject&&i.error(c.errorObject.e)}return i.subscribe(t)},e}(a.Observable);e.BoundNodeCallbackObservable=h},f7nC:function(t,e,n){"use strict";function r(t){return this.lift(new l(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("xFbG"),s=n("RdI5"),a=n("XRvs"),u=n("yW9Z"),c=n("ktfo");e.bufferWhen=r;var l=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.closingSelector))},t}(),h=function(t){function e(e,n){t.call(this,e),this.closingSelector=n,this.subscribing=!1,this.openBuffer()}return o(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,n,r,o){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var n=s.tryCatch(this.closingSelector)();n===a.errorObject?this.error(a.errorObject.e):(t=new i.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(c.subscribeToResult(this,n)),this.subscribing=!1)},e}(u.OuterSubscriber)},fAJX:function(t,e,n){(function(t){var e=function(){if(void 0!==t)return t;if("undefined"!=typeof window)return window;if("undefined"!=typeof self)return self;throw new Error("unable to locate global object")}();"undefined"==typeof Promise&&(e.Promise=Promise=n("mNfF"))}).call(e,n("fRUx"))},fRUx:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},fV3I:function(t,e,n){"use strict";function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e.length,o=0;o<r;o++){var i=e[o];for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t}function o(t){return t.Object.assign||r}var i=n("zijX");e.assignImpl=r,e.getAssign=o,e.assign=o(i.root)},"fc+i":function(t,e,n){"use strict";function r(){return L}function o(t){L||(L=t)}function i(){return H||(H=document.querySelector("base"))?H.getAttribute("href"):null}function s(t){return q||(q=document.createElement("a")),q.setAttribute("href",t),"/"===q.pathname.charAt(0)?q.pathname:"/"+q.pathname}function a(){return!!window.history.pushState}function u(t,e,n){return function(){n.get(M.e).donePromise.then(function(){var n=r();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}}function c(t,e){Z||(M._19.ng=Z=M._19.ng||{}),Z[t]=e}function l(t){return Object(M._5)(t)}function h(t,e){var n=(t||[]).concat(e||[]);return c(tt,l),c(et,Object.assign({},$,p(n||[]))),function(){return l}}function p(t){return t.reduce(function(t,e){return t[e.name]=e.token,t},{})}function f(t){return pt.replace(lt,t)}function d(t){return ht.replace(lt,t)}function y(t,e,n){for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?y(t,o,n):(o=o.replace(lt,t),n.push(o))}return n}function v(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}function m(t,e){if(t.charCodeAt(0)===yt)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}function g(t){return t=String(t),t.match(Tt)||t.match(It)?t:(Object(M._6)()&&r().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function b(t){return t=String(t),t.split(",").map(function(t){return g(t.trim())}).join(", ")}function _(){if(Nt)return Nt;At=r();var t=At.createElement("template");if("content"in t)return t;var e=At.createHtmlDocument();if(null==(Nt=At.querySelector(e,"body"))){var n=At.createElement("html",e);Nt=At.createElement("body",e),At.appendChild(n,Nt),At.appendChild(e,n)}return Nt}function w(t){for(var e={},n=0,r=t.split(",");n<r.length;n++){e[r[n]]=!0}return e}function E(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,o=t;r<o.length;r++){var i=o[r];for(var s in i)i.hasOwnProperty(s)&&(n[s]=!0)}return n}function C(t,e){if(e&&At.contains(t,e))throw new Error("Failed to sanitize html because the element is clobbered: "+At.getOuterHTML(t));return e}function S(t){return t.replace(/&/g,"&amp;").replace(qt,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Wt,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function O(t){At.attributeMap(t).forEach(function(e,n){"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||At.removeAttribute(t,n)});for(var e=0,n=At.childNodesAsList(t);e<n.length;e++){var r=n[e];At.isElementNode(r)&&O(r)}}function T(t,e){try{var n=_(),r=e?String(e):"",o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,At.setInnerHTML(n,r),t.documentMode&&O(n),i=At.getInnerHTML(n)}while(r!==i);for(var s=new Bt,a=s.sanitizeChildren(At.getTemplateContent(n)||n),u=At.getTemplateContent(n)||n,c=0,l=At.childNodesAsList(u);c<l.length;c++){var h=l[c];At.removeChild(u,h)}return Object(M._6)()&&s.sanitizedSomething&&At.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),a}catch(t){throw Nt=null,t}}function I(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var o=t.charAt(r);"'"===o&&n?e=!e:'"'===o&&e&&(n=!n)}return e&&n}function N(t){if(!(t=String(t).trim()))return"";var e=t.match(Kt);return e&&g(e[1])===e[1]||t.match(Ht)&&I(t)?t:(Object(M._6)()&&r().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}function A(){W.makeCurrent(),X.init()}function P(){return new M.o}function R(){return document}n.d(e,"a",function(){return re}),n.d(e,"j",function(){return ne}),n.d(e,"g",function(){return Q}),n.d(e,"i",function(){return Y}),n.d(e,"h",function(){return nt}),n.d(e,"c",function(){return ot}),n.d(e,"d",function(){return it}),n.d(e,"e",function(){return _t}),n.d(e,"f",function(){return wt}),n.d(e,"b",function(){return Gt}),n.d(e,"t",function(){return r}),n.d(e,"l",function(){return ft}),n.d(e,"k",function(){return gt}),n.d(e,"n",function(){return Et}),n.d(e,"o",function(){return Ot}),n.d(e,"m",function(){return ut}),n.d(e,"p",function(){return at}),n.d(e,"q",function(){return P}),n.d(e,"r",function(){return h}),n.d(e,"s",function(){return Qt});var x,k=n("6Xbx"),D=n("qbdv"),M=n("/oeL"),L=null,j=function(){function t(){this.resourceLoaderType=null}return t.prototype.hasProperty=function(t,e){},t.prototype.setProperty=function(t,e,n){},t.prototype.getProperty=function(t,e){},t.prototype.invoke=function(t,e,n){},t.prototype.logError=function(t){},t.prototype.log=function(t){},t.prototype.logGroup=function(t){},t.prototype.logGroupEnd=function(){},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t.prototype.contains=function(t,e){},t.prototype.parse=function(t){},t.prototype.querySelector=function(t,e){},t.prototype.querySelectorAll=function(t,e){},t.prototype.on=function(t,e,n){},t.prototype.onAndCancel=function(t,e,n){},t.prototype.dispatchEvent=function(t,e){},t.prototype.createMouseEvent=function(t){},t.prototype.createEvent=function(t){},t.prototype.preventDefault=function(t){},t.prototype.isPrevented=function(t){},t.prototype.getInnerHTML=function(t){},t.prototype.getTemplateContent=function(t){},t.prototype.getOuterHTML=function(t){},t.prototype.nodeName=function(t){},t.prototype.nodeValue=function(t){},t.prototype.type=function(t){},t.prototype.content=function(t){},t.prototype.firstChild=function(t){},t.prototype.nextSibling=function(t){},t.prototype.parentElement=function(t){},t.prototype.childNodes=function(t){},t.prototype.childNodesAsList=function(t){},t.prototype.clearNodes=function(t){},t.prototype.appendChild=function(t,e){},t.prototype.removeChild=function(t,e){},t.prototype.replaceChild=function(t,e,n){},t.prototype.remove=function(t){},t.prototype.insertBefore=function(t,e,n){},t.prototype.insertAllBefore=function(t,e,n){},t.prototype.insertAfter=function(t,e,n){},t.prototype.setInnerHTML=function(t,e){},t.prototype.getText=function(t){},t.prototype.setText=function(t,e){},t.prototype.getValue=function(t){},t.prototype.setValue=function(t,e){},t.prototype.getChecked=function(t){},t.prototype.setChecked=function(t,e){},t.prototype.createComment=function(t){},t.prototype.createTemplate=function(t){},t.prototype.createElement=function(t,e){},t.prototype.createElementNS=function(t,e,n){},t.prototype.createTextNode=function(t,e){},t.prototype.createScriptTag=function(t,e,n){},t.prototype.createStyleElement=function(t,e){},t.prototype.createShadowRoot=function(t){},t.prototype.getShadowRoot=function(t){},t.prototype.getHost=function(t){},t.prototype.getDistributedNodes=function(t){},t.prototype.clone=function(t){},t.prototype.getElementsByClassName=function(t,e){},t.prototype.getElementsByTagName=function(t,e){},t.prototype.classList=function(t){},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.hasClass=function(t,e){},t.prototype.setStyle=function(t,e,n){},t.prototype.removeStyle=function(t,e){},t.prototype.getStyle=function(t,e){},t.prototype.hasStyle=function(t,e,n){},t.prototype.tagName=function(t){},t.prototype.attributeMap=function(t){},t.prototype.hasAttribute=function(t,e){},t.prototype.hasAttributeNS=function(t,e,n){},t.prototype.getAttribute=function(t,e){},t.prototype.getAttributeNS=function(t,e,n){},t.prototype.setAttribute=function(t,e,n){},t.prototype.setAttributeNS=function(t,e,n,r){},t.prototype.removeAttribute=function(t,e){},t.prototype.removeAttributeNS=function(t,e,n){},t.prototype.templateAwareRoot=function(t){},t.prototype.createHtmlDocument=function(){},t.prototype.getBoundingClientRect=function(t){},t.prototype.getTitle=function(t){},t.prototype.setTitle=function(t,e){},t.prototype.elementMatches=function(t,e){},t.prototype.isTemplateElement=function(t){},t.prototype.isTextNode=function(t){},t.prototype.isCommentNode=function(t){},t.prototype.isElementNode=function(t){},t.prototype.hasShadowRoot=function(t){},t.prototype.isShadowRoot=function(t){},t.prototype.importIntoDoc=function(t){},t.prototype.adoptNode=function(t){},t.prototype.getHref=function(t){},t.prototype.getEventKey=function(t){},t.prototype.resolveAndSetHref=function(t,e,n){},t.prototype.supportsDOMEvents=function(){},t.prototype.supportsNativeShadowDOM=function(){},t.prototype.getGlobalEventTarget=function(t,e){},t.prototype.getHistory=function(){},t.prototype.getLocation=function(){},t.prototype.getBaseHref=function(t){},t.prototype.resetBaseElement=function(){},t.prototype.getUserAgent=function(){},t.prototype.setData=function(t,e,n){},t.prototype.getComputedStyle=function(t){},t.prototype.getData=function(t,e){},t.prototype.supportsWebAnimation=function(){},t.prototype.performanceNow=function(){},t.prototype.getAnimationPrefix=function(){},t.prototype.getTransitionEnd=function(){},t.prototype.supportsAnimation=function(){},t.prototype.supportsCookies=function(){},t.prototype.getCookie=function(t){},t.prototype.setCookie=function(t,e){},t}(),F=function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],o=0;o<r.length;o++)if(null!=e.getStyle(n,r[o]+"AnimationName")){e._animationPrefix="-"+r[o].toLowerCase()+"-";break}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(i).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=i[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return k.a(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(j),V={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},U={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},B={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};M._19.Node&&(x=M._19.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var q,W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k.a(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){o(new e)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){t[e].apply(t,n)},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return V},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return x.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=document.createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&t instanceof HTMLTemplateElement?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return document.createComment(t)},e.prototype.createTemplate=function(t){var e=document.createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return void 0===e&&(e=document),e.createElement(t)},e.prototype.createElementNS=function(t,e,n){return void 0===n&&(n=document),n.createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return void 0===e&&(e=document),e.createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){void 0===n&&(n=document);var r=n.createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){void 0===e&&(e=document);var n=e.createElement("style");return this.appendChild(n,this.createTextNode(t)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var o=n[r];e.set(o.name,o.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return document.title},e.prototype.setTitle=function(t,e){document.title=e||""},e.prototype.elementMatches=function(t,e){return t instanceof HTMLElement&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return t instanceof HTMLElement&&"TEMPLATE"==t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.href},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&B.hasOwnProperty(e)&&(e=B[e]))}return U[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?document:"body"===e?document.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e=i();return null==e?null:s(e)},e.prototype.resetBaseElement=function(){H=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(D.p)(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(F),H=null,K=D.c,G=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return k.a(e,t),e.prototype._init=function(){this._location=r().getLocation(),this._history=r().getHistory()},Object.defineProperty(e.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),e.prototype.getBaseHrefFromDOM=function(){return r().getBaseHref(this._doc)},e.prototype.onPopState=function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this._location.pathname},set:function(t){this._location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){a()?this._history.pushState(t,e,n):this._location.hash=n},e.prototype.replaceState=function(t,e,n){a()?this._history.replaceState(t,e,n):this._location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e}(D.n);G.decorators=[{type:M.u}],G.ctorParameters=function(){return[{type:void 0,decorators:[{type:M.t,args:[K]}]}]};var Q=function(){function t(t){this._doc=t,this._dom=r()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t?this._dom.querySelector(this._doc,"meta["+t+"]"):null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),r=this.getTag(n);if(r&&this._containsAttributes(t,r))return r}var o=this._dom.createElement("meta");this._setMetaElementAttributes(t,o);var i=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(i,o),o},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t}();Q.decorators=[{type:M.u}],Q.ctorParameters=function(){return[{type:void 0,decorators:[{type:M.t,args:[K]}]}]};var z=new M.v("TRANSITION_ID"),J=[{provide:M.d,useFactory:u,deps:[z,K,M.w],multi:!0}],X=function(){function t(){}return t.init=function(){Object(M._8)(new t)},t.prototype.addToWindow=function(t){M._19.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},M._19.getAllAngularTestabilities=function(){return t.getAllTestabilities()},M._19.getAllAngularRootElements=function(){return t.getAllRootElements()};var e=function(t){var e=M._19.getAllAngularTestabilities(),n=e.length,r=!1,o=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(o)})};M._19.frameworkStabilizers||(M._19.frameworkStabilizers=[]),M._19.frameworkStabilizers.push(e)},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var o=t.getTestability(e);return null!=o?o:n?r().isShadowRoot(e)?this.findTestabilityInTree(t,r().getHost(e),!0):this.findTestabilityInTree(t,r().parentElement(e),!0):null},t}(),Y=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return r().getTitle(this._doc)},t.prototype.setTitle=function(t){r().setTitle(this._doc,t)},t}();Y.decorators=[{type:M.u}],Y.ctorParameters=function(){return[{type:void 0,decorators:[{type:M.t,args:[K]}]}]};var Z,$={ApplicationRef:M.g,NgZone:M.G},tt="probe",et="coreTokens",nt=function(){function t(t,e){this.name=t,this.token=e}return t}(),rt=[{provide:M.d,useFactory:h,deps:[[nt,new M.H],[M.F,new M.H]],multi:!0}],ot=new M.v("EventManagerPlugins"),it=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var o=n[r];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error("No event manager plugin found for event "+t)},t}();it.decorators=[{type:M.u}],it.ctorParameters=function(){return[{type:Array,decorators:[{type:M.t,args:[ot]}]},{type:M.G}]};var st=function(){function t(t){this._doc=t}return t.prototype.supports=function(t){},t.prototype.addEventListener=function(t,e,n){},t.prototype.addGlobalEventListener=function(t,e,n){var o=r().getGlobalEventTarget(this._doc,t);if(!o)throw new Error("Unsupported event target "+o+" for event "+e);return this.addEventListener(o,e,n)},t}(),at=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}();at.decorators=[{type:M.u}],at.ctorParameters=function(){return[]};var ut=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return k.a(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return r().remove(t)})},e}(at);ut.decorators=[{type:M.u}],ut.ctorParameters=function(){return[{type:void 0,decorators:[{type:M.t,args:[K]}]}]};var ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},lt=/%COMP%/g,ht="_nghost-%COMP%",pt="_ngcontent-%COMP%",ft=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new dt(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case M._0.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new vt(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case M._0.Native:return new mt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=y(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}();ft.decorators=[{type:M.u}],ft.ctorParameters=function(){return[{type:it},{type:ut}]};var dt=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(ct[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var o=ct[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=ct[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&M.P.DashCase?t.style.setProperty(e,n,r&M.P.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&M.P.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){m(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return m(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,v(n)):this.eventManager.addEventListener(t,e,v(n))},t}(),yt="@".charCodeAt(0),vt=function(t){function e(e,n,r){var o=t.call(this,e)||this;o.component=r;var i=y(r.id,r.styles,[]);return n.addStyles(i),o.contentAttr=f(r.id),o.hostAttr=d(r.id),o}return k.a(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(dt),mt=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;i.sharedStylesHost=n,i.hostEl=r,i.component=o,i.shadowRoot=r.createShadowRoot(),i.sharedStylesHost.addHost(i.shadowRoot);for(var s=y(o.id,o.styles,[]),a=0;a<s.length;a++){var u=document.createElement("style");u.textContent=s[a],i.shadowRoot.appendChild(u)}return i}return k.a(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(dt),gt=function(t){function e(e){return t.call(this,e)||this}return k.a(e,t),e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){return t.addEventListener(e,n,!1),function(){return t.removeEventListener(e,n,!1)}},e}(st);gt.decorators=[{type:M.u}],gt.ctorParameters=function(){return[{type:void 0,decorators:[{type:M.t,args:[K]}]}]};var bt={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},_t=new M.v("HammerGestureConfig"),wt=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(var n in this.overrides)e.get(n).set(this.overrides[n]);return e},t}();wt.decorators=[{type:M.u}],wt.ctorParameters=function(){return[]};var Et=function(t){function e(e,n){var r=t.call(this,e)||this;return r._config=n,r}return k.a(e,t),e.prototype.supports=function(t){if(!bt.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var r=this,o=this.manager.getZone();return e=e.toLowerCase(),o.runOutsideAngular(function(){var i=r._config.buildHammer(t),s=function(t){o.runGuarded(function(){n(t)})};return i.on(e,s),function(){return i.off(e,s)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(st);Et.decorators=[{type:M.u}],Et.ctorParameters=function(){return[{type:void 0,decorators:[{type:M.t,args:[K]}]},{type:wt,decorators:[{type:M.t,args:[_t]}]}]};var Ct=["alt","control","meta","shift"],St={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Ot=function(t){function e(e){return t.call(this,e)||this}return k.a(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,o){var i=e.parseEventName(n),s=e.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return r().onAndCancel(t,i.domEventName,s)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var o=e._normalizeKey(n.pop()),i="";if(Ct.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),i+=t+".")}),i+=o,0!=n.length||0===o.length)return null;var s={};return s.domEventName=r,s.fullKey=i,s},e.getEventFullKey=function(t){var e="",n=r().getEventKey(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Ct.forEach(function(r){if(r!=n){(0,St[r])(t)&&(e+=r+".")}}),e+=n},e.eventCallback=function(t,n,r){return function(o){e.getEventFullKey(o)===t&&r.runGuarded(function(){return n(o)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(st);Ot.decorators=[{type:M.u}],Ot.ctorParameters=function(){return[{type:void 0,decorators:[{type:M.t,args:[K]}]}]};var Tt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,It=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,Nt=null,At=null,Pt=w("area,br,col,hr,img,wbr"),Rt=w("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xt=w("rp,rt"),kt=E(xt,Rt),Dt=E(Rt,w("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mt=E(xt,w("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lt=E(Pt,Dt,Mt,kt),jt=w("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ft=w("srcset"),Vt=w("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ut=E(jt,Ft,Vt),Bt=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(At.isElementNode(e)?this.startElement(e):At.isTextNode(e)?this.chars(At.nodeValue(e)):this.sanitizedSomething=!0,At.firstChild(e))e=At.firstChild(e);else for(;e;){At.isElementNode(e)&&this.endElement(e);var n=C(e,At.nextSibling(e));if(n){e=n;break}e=C(e,At.parentElement(e))}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,n=At.nodeName(t).toLowerCase();if(!Lt.hasOwnProperty(n))return void(this.sanitizedSomething=!0);this.buf.push("<"),this.buf.push(n),At.attributeMap(t).forEach(function(t,n){var r=n.toLowerCase();if(!Ut.hasOwnProperty(r))return void(e.sanitizedSomething=!0);jt[r]&&(t=g(t)),Ft[r]&&(t=b(t)),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(S(t)),e.buf.push('"')}),this.buf.push(">")},t.prototype.endElement=function(t){var e=At.nodeName(t).toLowerCase();Lt.hasOwnProperty(e)&&!Pt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(S(t))},t}(),qt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wt=/([^\#-~ |!])/g,Ht=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Kt=/^url\(([^)]+)\)$/,Gt=function(){function t(){}return t.prototype.sanitize=function(t,e){},t.prototype.bypassSecurityTrustHtml=function(t){},t.prototype.bypassSecurityTrustStyle=function(t){},t.prototype.bypassSecurityTrustScript=function(t){},t.prototype.bypassSecurityTrustUrl=function(t){},t.prototype.bypassSecurityTrustResourceUrl=function(t){},t}(),Qt=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return k.a(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case M.R.NONE:return e;case M.R.HTML:return e instanceof Jt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),T(this._doc,String(e)));case M.R.STYLE:return e instanceof Xt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),N(e));case M.R.SCRIPT:if(e instanceof Yt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case M.R.URL:return e instanceof $t||e instanceof Zt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),g(String(e)));case M.R.RESOURCE_URL:if(e instanceof $t)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof zt)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Jt(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new Xt(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Yt(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new Zt(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new $t(t)},e}(Gt);Qt.decorators=[{type:M.u}],Qt.ctorParameters=function(){return[{type:void 0,decorators:[{type:M.t,args:[K]}]}]};var zt=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.getTypeName=function(){},t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k.a(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(zt),Xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k.a(e,t),e.prototype.getTypeName=function(){return"Style"},e}(zt),Yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k.a(e,t),e.prototype.getTypeName=function(){return"Script"},e}(zt),Zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k.a(e,t),e.prototype.getTypeName=function(){return"URL"},e}(zt),$t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k.a(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(zt),te=[{provide:M.J,useValue:D.o},{provide:M.K,useValue:A,multi:!0},{provide:D.n,useClass:G},{provide:K,useFactory:R,deps:[]}],ee=[{provide:M.Q,useExisting:Gt},{provide:Gt,useClass:Qt}],ne=Object(M._2)(M._7,"browser",te),re=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:M.c,useValue:e.appId},{provide:z,useExisting:M.c},J]}},t}();re.decorators=[{type:M.B,args:[{providers:[ee,{provide:M.o,useFactory:P,deps:[]},{provide:ot,useClass:gt,multi:!0},{provide:ot,useClass:Ot,multi:!0},{provide:ot,useClass:Et,multi:!0},{provide:_t,useClass:wt},ft,{provide:M.O,useExisting:ft},{provide:at,useExisting:ut},ut,M.X,it,rt,Q,Y],exports:[D.b,M.f]}]}],re.ctorParameters=function(){return[{type:re,decorators:[{type:M.H},{type:M.T}]}]};var oe="undefined"!=typeof window&&window||{},ie=function(){function t(t,e){this.msPerTick=t,this.numTicks=e}return t}();(function(){function t(t){this.appRef=t.injector.get(M.g)}t.prototype.timeChangeDetection=function(t){var e=t&&t.record,n=null!=oe.console.profile;e&&n&&oe.console.profile("Change Detection");for(var o=r().performanceNow(),i=0;i<5||r().performanceNow()-o<500;)this.appRef.tick(),i++;var s=r().performanceNow();e&&n&&oe.console.profileEnd("Change Detection");var a=(s-o)/i;return oe.console.log("ran "+i+" change detection cycles"),oe.console.log(a.toFixed(2)+" ms per check"),new ie(a,i)}})(),function(){function t(){}t.all=function(){return function(t){return!0}},t.css=function(t){return function(e){return null!=e.nativeElement&&r().elementMatches(e.nativeElement,t)}},t.directive=function(t){return function(e){return-1!==e.providerTokens.indexOf(t)}}}(),new M.Y("4.4.5")},fclq:function(t,e,n){"use strict";function r(t){return"function"==typeof t}e.isFunction=r},fcnB:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=function(t){function e(e){t.call(this),this.scheduler=e}return r(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(o.Observable);e.EmptyObservable=i},fdVa:function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),this.lift(new c(t,e,n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("RdI5"),s=n("XRvs"),a=n("ktfo"),u=n("yW9Z");e.mergeScan=r;var c=function(){function t(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.accumulator,this.seed,this.concurrent))},t}();e.MergeScanOperator=c;var l=function(t){function e(e,n,r,o){t.call(this,e),this.accumulator=n,this.acc=r,this.concurrent=o,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,n=i.tryCatch(this.accumulator)(this.acc,t),r=this.destination;n===s.errorObject?r.error(s.errorObject.e):(this.active++,this._innerSub(n,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n){this.add(a.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,n,r,o){var i=this.destination;this.acc=e,this.hasValue=!0,i.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(u.OuterSubscriber);e.MergeScanSubscriber=l},fvGz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO"),o=n("JEJ4"),i=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var o=e.split("/"),r=0;r<o.length;r++)o[r].length>0&&n.push(o[r]);return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),o=n.getFront();if(null===r)return n;if(r===o)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),o=e.slice(),i=0;i<n.length&&i<o.length;i++){var s=r.nameCompare(n[i],o[i]);if(0!==s)return s}return n.length===o.length?0:n.length<o.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}();e.Path=i;var s=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=o.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=o.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=o.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}();e.ValidationPath=s},fxBd:function(t,e,n){"use strict";function r(t){return 0===t?new a.EmptyObservable:this.lift(new u(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("uT+d"),a=n("fcnB");e.takeLast=r;var u=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){t.call(this,e),this.total=n,this.ring=new Array,this.count=0}return o(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;if(e.length<n)e.push(t);else{e[r%n]=t}},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=e++%n;t.next(r[i])}t.complete()},e}(i.Subscriber)},g0Kb:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("xFbG"),i=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return r(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(o.Subscription);e.SubjectSubscription=i},g3vg:function(t,e,n){"use strict";var r=n("bKpL"),o=n("Cipy");r.Observable.prototype.shareReplay=o.shareReplay},gOHv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(e.OperationType||(e.OperationType={}));var o=function(){function t(t,e,n,o){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=o,r.assert(!o||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}();e.OperationSource=o},"gb+0":function(t,e,n){"use strict";function r(t){return this.lift(new a(t,this))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("TpsG");e.single=r;var a=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.source))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.source=r,this.seenValue=!1,this.index=0}return o(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new s.EmptyError)},e}(i.Subscriber)},gbhw:function(t,e,n){"use strict";var r=n("bKpL"),o=n("422b");r.Observable.prototype.filter=o.filter},gonN:function(t,e,n){"use strict";function r(t,e){var n;if(n="function"==typeof t?t:function(){return t},"function"==typeof e)return this.lift(new i(n,e));var r=Object.create(this,o.connectableObservableDescriptor);return r.source=this,r.subjectFactory=n,r}var o=n("xKl2");e.multicast=r;var i=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),o=n(r).subscribe(t);return o.add(e.subscribe(r)),o},t}();e.MulticastOperator=i},gvep:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("rlar"),i=n("Lhvy"),s=function(t){function e(e){t.call(this),this._value=e}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(o.Subject);e.BehaviorSubject=s},"h+is":function(t,e,n){"use strict";var r=n("bKpL"),o=n("9tb5");r.Observable.prototype.exhaustMap=o.exhaustMap},hFw6:function(t,e,n){"use strict";function r(){return Ht}function o(t){Ht=t}function i(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Ht<=Bt.DEBUG){var o=(new Date).toISOString(),i=n.map(a);console.log.apply(console,["Firestore ("+Wt+") "+o+" ["+t+"]: "+e].concat(i))}}function s(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ht<=Bt.ERROR){var r=(new Date).toISOString(),o=e.map(a);console.error.apply(console,["Firestore ("+Wt+") "+r+": "+t].concat(o))}}function a(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function u(t){var e="FIRESTORE ("+Wt+") INTERNAL ASSERTION FAILED: "+t;throw s(e),new Error(e)}function c(t,e){t||u(e)}function l(){return Kt.getPlatform().emptyByteString}function h(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new zt(Qt.INVALID_ARGUMENT,t)}n.prototype=t.prototype;for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t,e){return void 0!==t?t:e}function d(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=parseInt(n,10);isNaN(r)||e(r,t[n])}}function y(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function v(t){c(null!=t&&"object"==typeof t,"isEmpty() expects object parameter.");for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function m(t){c(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function g(t,e,n){if(e.length!==n)throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() requires "+D(n,"argument")+", but was called with "+D(e.length,"argument")+".")}function b(t,e,n){if(e.length<n)throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() requires at least "+D(n,"argument")+", but was called with "+D(e.length,"argument")+".")}function _(t,e,n,r){if(e.length<n||e.length>r)throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+D(e.length,"argument")+".")}function w(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+D(r,"element")+".")}function E(t,e,n,r){T(t,e,k(n)+" argument",r)}function C(t,e,n,r){void 0!==r&&E(t,e,n,r)}function S(t,e,n,r){T(t,e,n+" option",r)}function O(t,e,n,r){void 0!==r&&S(t,e,n,r)}function T(t,e,n,r){if(typeof r!==e||"object"===e&&!I(r)){var o=N(r);throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+o)}}function I(t){return"object"==typeof t&&null!==t&&Object.getPrototypeOf(t)===Object.prototype}function N(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=A(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":u("Unknown wrong type: "+typeof t)}function A(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/,n=e.exec(t.constructor.toString());if(n&&n.length>1)return n[1]}return null}function P(t,e,n){if(void 0===n)throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+k(e)+" argument, but it was undefined.")}function R(t,e,n){y(e,function(e,r){if(n.indexOf(e)<0)throw new zt(Qt.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function x(t,e,n,r){var o=N(r);return new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() requires its "+k(n)+" argument to be a "+e+", but it was: "+o)}function k(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function D(t,e){return t+" "+e+(1===t?"":"s")}function M(t,e){return t<e?-1:t>e?1:0}function L(t,e){return null!==t&&void 0!==t?!(!e||!t.equals(e)):t===e}function j(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}function F(t){var e=t.length-1;return 0===t.length?"":"\0"===t.charAt(e)?t.substring(0,e):t.substring(0,e)+String.fromCharCode(t.charCodeAt(e)-1)}function V(t){return t+"\0"}function U(){if("undefined"==typeof Uint8Array)throw new zt(Qt.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function B(){if(!Kt.getPlatform().base64Available)throw new zt(Qt.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function q(t,e){return t<e?-1:t>e?1:t===e?0:isNaN(t)?isNaN(e)?0:-1:1}function W(t,e){return t===e?0!==t||1/t==1/e:t!==t&&e!==e}function H(t){return null===t||void 0===t}function K(t){return De(t)&&t<=ke&&t>=xe}function G(t,e,n){if(n.equals(ge.INSTANCE)){if(e!==Le.EQUAL)throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Fe(t)}if(n.equals(Ee.NAN)){if(e!==Le.EQUAL)throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Ve(t)}return new je(t,e,n)}function Q(t){switch(t){case Qt.OK:return u("Treated status OK as error");case Qt.CANCELLED:case Qt.UNKNOWN:case Qt.DEADLINE_EXCEEDED:case Qt.RESOURCE_EXHAUSTED:case Qt.INTERNAL:case Qt.UNAVAILABLE:case Qt.UNAUTHENTICATED:return!1;case Qt.INVALID_ARGUMENT:case Qt.NOT_FOUND:case Qt.ALREADY_EXISTS:case Qt.PERMISSION_DENIED:case Qt.FAILED_PRECONDITION:case Qt.ABORTED:case Qt.OUT_OF_RANGE:case Qt.UNIMPLEMENTED:case Qt.DATA_LOSS:return!0;default:return u("Unknown status code: "+t)}}function z(t){var e=en[t];if(void 0!==e)return J(e)}function J(t){switch(t){case en.OK:return Qt.OK;case en.CANCELLED:return Qt.CANCELLED;case en.UNKNOWN:return Qt.UNKNOWN;case en.DEADLINE_EXCEEDED:return Qt.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return Qt.RESOURCE_EXHAUSTED;case en.INTERNAL:return Qt.INTERNAL;case en.UNAVAILABLE:return Qt.UNAVAILABLE;case en.UNAUTHENTICATED:return Qt.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return Qt.INVALID_ARGUMENT;case en.NOT_FOUND:return Qt.NOT_FOUND;case en.ALREADY_EXISTS:return Qt.ALREADY_EXISTS;case en.PERMISSION_DENIED:return Qt.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return Qt.FAILED_PRECONDITION;case en.ABORTED:return Qt.ABORTED;case en.OUT_OF_RANGE:return Qt.OUT_OF_RANGE;case en.UNIMPLEMENTED:return Qt.UNIMPLEMENTED;case en.DATA_LOSS:return Qt.DATA_LOSS;default:return u("Unknown status code: "+t)}}function X(t){if(void 0===t)return en.OK;switch(t){case Qt.OK:return en.OK;case Qt.CANCELLED:return en.CANCELLED;case Qt.UNKNOWN:return en.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return en.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return en.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return en.INTERNAL;case Qt.UNAVAILABLE:return en.UNAVAILABLE;case Qt.UNAUTHENTICATED:return en.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return en.INVALID_ARGUMENT;case Qt.NOT_FOUND:return en.NOT_FOUND;case Qt.ALREADY_EXISTS:return en.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return en.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return en.FAILED_PRECONDITION;case Qt.ABORTED:return en.ABORTED;case Qt.OUT_OF_RANGE:return en.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return en.UNIMPLEMENTED;case Qt.DATA_LOSS:return en.DATA_LOSS;default:return u("Unknown status code: "+t)}}function Y(t){switch(t){case 200:return Qt.OK;case 400:return Qt.INVALID_ARGUMENT;case 401:return Qt.UNAUTHENTICATED;case 403:return Qt.PERMISSION_DENIED;case 404:return Qt.NOT_FOUND;case 409:return Qt.ABORTED;case 416:return Qt.OUT_OF_RANGE;case 429:return Qt.RESOURCE_EXHAUSTED;case 499:return Qt.CANCELLED;case 500:return Qt.UNKNOWN;case 501:return Qt.UNIMPLEMENTED;case 503:return Qt.UNAVAILABLE;case 504:return Qt.DEADLINE_EXCEEDED;default:return t>=200&&t<300?Qt.OK:t>=400&&t<500?Qt.FAILED_PRECONDITION:t>=500&&t<600?Qt.INTERNAL:Qt.UNKNOWN}}function Z(){return pn}function $(){return fn}function tt(){return dn}function et(){return yn}function nt(t,e){e.length>0&&(t.resumeToken=e)}function rt(t,e){c(!H(t),e+" is missing")}function ot(t){return"number"==typeof t?t:"string"==typeof t?parseInt(t,10):u("can't parse "+t)}function it(t,e,n){return e===n||!e&&n in t}function st(t){if(t.search(Ln)>=0)throw new zt(Qt.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Mn.bind.apply(Mn,[void 0].concat(t.split("."))))}catch(e){throw new zt(Qt.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}function at(t,e){var n=function(t){switch(t){case jn.Added:return 1;case jn.Modified:case jn.Metadata:return 2;case jn.Removed:return 0;default:return u("Unknown ChangeType: "+t)}};return n(t)-n(e)}function ut(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=lt(e)),e=ct(t.get(n),e);return lt(e)}function ct(t,e){for(var n=e,r=t.length,o=0;o<r;o++){var i=t.charAt(o);switch(i){case"\0":n+=ur+lr;break;case ur:n+=ur+hr;break;default:n+=i}}return n}function lt(t){return t+ur+cr}function ht(t){var e=t.length;if(c(e>=2,"Invalid path "+t),2===e)return c(t.charAt(0)===ur&&t.charAt(1)===cr,"Non-empty path "+t+" had length 2"),oe.EMPTY_PATH;for(var n=e-2,r=[],o="",i=0;i<e;){var s=t.indexOf(ur,i);(s<0||s>n)&&u('Invalid encoded resource path: "'+t+'"');switch(t.charAt(s+1)){case cr:var a=t.substring(i,s),l=void 0;0===o.length?l=a:(o+=a,l=o,o=""),r.push(l);break;case lr:o+=t.substring(i,s),o+="\0";break;case hr:o+=t.substring(i,s+1);break;default:u('Invalid encoded resource path: "'+t+'"')}i=s+2}return new oe(r)}function pt(t,e){c(0===e,"Unexpected upgrade from version "+e),t.createObjectStore(dr.store,{keyPath:dr.keyPath}),t.createObjectStore(yr.store,{keyPath:yr.keyPath}),t.createObjectStore(_r.store,{keyPath:_r.keyPath}).createIndex(_r.documentTargetsIndex,_r.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(br.store,{keyPath:br.keyPath}).createIndex(br.queryTargetsIndexName,br.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(vr.store),t.createObjectStore(gr.store),t.createObjectStore(fr.store),t.createObjectStore(wr.store)}function ft(t){return new Gn(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){n(t.target.error)}})}function dt(t){return c("string"==typeof t,"Persisting non-string stream token not supported."),t}function yt(t){return gt(t,yr.store)}function vt(t){return gt(t,vr.store)}function mt(t){return gt(t,dr.store)}function gt(t,e){return t instanceof Or?t.store(e):u("Invalid transaction object provided!")}function bt(t){return Et(t,br.store)}function _t(t){return Et(t,wr.store)}function wt(t){return Et(t,_r.store)}function Et(t,e){return t instanceof Or?t.store(e):u("Invalid transaction object provided!")}function Ct(t){return t instanceof Or?t.store(gr.store):u("Invalid transaction object provided!")}function St(t){return t.path.toArray()}function Ot(t){return void 0!==t.documents}function Tt(t){if(!t)return new so;switch(t.type){case"google-auth":return new uo(t.client);case"gapi":return new lo(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new zt(Qt.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function It(t){return Nt(t,["next","error","complete"])}function Nt(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,o=e;r<o.length;r++){var i=o[r];if(i in n&&"function"==typeof n[i])return!0}return!1}function At(t){switch(t){case Kr.Set:case Kr.MergeSet:case Kr.Update:return!0;case Kr.QueryValue:return!1;default:throw u("Unexpected case for UserDataSource: "+t)}}function Pt(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof Xt||t instanceof wo||t instanceof po)}function Rt(t,e,n){if(!Pt(n)||!I(n)){var r=N(n);throw"an object"===r?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function xt(t,e){if(e instanceof Mn)return e._internalPath;if("string"==typeof e)return kt(t,e);throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function kt(t,e){try{return st(e)._internalPath}catch(e){var n=Dt(e);throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function Dt(t){return t instanceof Error?t.message:t.toString()}function Mt(t,e){return void 0===e?{merge:!1}:(R(t,e,["merge"]),O(t,"boolean","merge",e.merge),e)}function Lt(t,e,n){if(e instanceof Ro){if(e.firestore!==n)throw new zt(Qt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw x(t,"DocumentReference",1,e)}function jt(t,e){if(e.oldDocs.isEmpty()){var n,r=0;return e.docChanges.map(function(o){var i=new xo(t,o.doc.key,o.doc,e.fromCache);return c(o.type===jn.Added,"Invalid event type for first snapshot"),c(!n||e.query.docComparator(n,o.doc)<0,"Got added events in wrong order"),n=o.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}})}var o=e.oldDocs;return e.docChanges.map(function(n){var r=new xo(t,n.doc.key,n.doc,e.fromCache),i=-1,s=-1;return n.type!==jn.Added&&(i=o.indexOf(n.doc.key),c(i>=0,"Index for document not found"),o=o.delete(n.doc.key)),n.type!==jn.Removed&&(o=o.add(n.doc),s=o.indexOf(n.doc.key)),{type:Ft(n.type),doc:r,oldIndex:i,newIndex:s}})}function Ft(t){switch(t){case jn.Added:return"added";case jn.Modified:case jn.Metadata:return"modified";case jn.Removed:return"removed";default:return u("Unknown change type: "+t)}}function Vt(t){t.INTERNAL.registerService("firestore",function(t){return new No(t)},m(Ho))}function Ut(t){Vt(t)}Object.defineProperty(e,"__esModule",{value:!0});var Bt,qt=n("XtH8"),Wt=qt.default.SDK_VERSION;!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(Bt=Bt||(Bt={}));var Ht=Bt.ERROR,Kt=function(){function t(){}return t.setPlatform=function(e){t.platform&&u("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||u("Platform not set"),t.platform},t}(),Gt=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},zt=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Gt(e,t),e}(Error),Jt=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return c(20===e.length,"Invalid auto ID: "+e),e},t}(),Xt=function(){function t(t){B(),this._binaryString=t}return t.fromBase64String=function(e){g("Blob.fromBase64String",arguments,1),E("Blob.fromBase64String","string",1,e),B();try{return new t(Kt.getPlatform().atob(e))}catch(t){throw new zt(Qt.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(g("Blob.fromUint8Array",arguments,1),U(),!(e instanceof Uint8Array))throw x("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return g("Blob.toBase64",arguments,0),B(),Kt.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){g("Blob.toUint8Array",arguments,0),U();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype._equals=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return M(this._binaryString,t._binaryString)},t}(),Yt=h(Xt,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Zt=function(){function t(t,e){if(g("GeoPoint",arguments,2),E("GeoPoint","number",1,t),E("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new zt(Qt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new zt(Qt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype._equals=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return M(this._lat,t._lat)||M(this._long,t._long)},t}(),$t=function(){function t(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}return t}(),te="(default)",ee=function(){function t(t,e){this.projectId=t,this.database=e||te}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===te},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return M(this.projectId,t.projectId)||M(this.database,t.database)},t}(),ne=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),re=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&u("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&u("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):u("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,c(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return c(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return c(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return c(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return c(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var o=t.get(r),i=e.get(r);if(o<i)return-1;if(o>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),oe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ne(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new zt(Qt.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(re),ie=/^[_a-zA-Z][_a-zA-Z0-9]*$/,se=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ne(e,t),e.isValidIdentifier=function(t){return ie.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",o=0,i=function(){if(0===r.length)throw new zt(Qt.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;o<t.length;){var a=t[o];if("\\"===a){if(o+1===t.length)throw new zt(Qt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[o+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new zt(Qt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,o+=2}else"`"===a?(s=!s,o++):"."!==a||s?(r+=a,o++):(i(),o++)}if(i(),s)throw new zt(Qt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(re),ae=function(){function t(e){this.path=e,c(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.equals=function(t){return null!==t&&0===oe.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return oe.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new oe(e.slice()))},t.fromPathString=function(e){return new t(oe.fromString(e))},t.EMPTY=new t(new oe([])),t}(),ue=function(){function t(t,e,n,r){this.key=t,this.version=e,this.data=n,this.hasLocalMutations=r.hasLocalMutations}return t.prototype.field=function(t){return this.data.field(t)},t.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.equals=function(e){return e instanceof t&&this.key.equals(e.key)&&this.version.equals(e.version)&&this.data.equals(e.data)&&this.hasLocalMutations===e.hasLocalMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"})"},t.compareByKey=function(t,e){return ae.comparator(t.key,e.key)},t.compareByField=function(t,e,n){var r=e.field(t),o=n.field(t);return void 0!==r&&void 0!==o?r.compareTo(o):u("Trying to compare documents on fields that don't exist")},t}(),ce=function(){function t(t,e){this.key=t,this.version=e}return t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},t.prototype.equals=function(t){return t&&t.version.equals(this.version)&&t.key.equals(this.key)},t.compareByKey=function(t,e){return ae.comparator(t.key,e.key)},t}(),le=function(){function t(t,e){this.comparator=t,this.root=e||pe.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pe.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pe.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e=this.root,n=null;!e.isEmpty();){var r=this.comparator(t,e.key);if(0===r){if(e.left.isEmpty())return n?n.key:null;for(e=e.left;!e.right.isEmpty();)e=e.right;return e.key}r<0?e=e.left:r>0&&(n=e,e=e.right)}throw u("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(t){return new he(this.root,null,this.comparator,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new he(this.root,t,this.comparator,!1,e)},t.prototype.getReverseIterator=function(t){return new he(this.root,null,this.comparator,!0,t)},t.prototype.getReverseIteratorFrom=function(t,e){return new he(this.root,t,this.comparator,!0,e)},t}(),he=function(){function t(t,e,n,r,o){this.resultGenerator=o||null,this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){c(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t,e=this.nodeStack.pop();if(t=this.resultGenerator?this.resultGenerator(e.key,e.value):{key:e.key,value:e.value},this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return this.resultGenerator?this.resultGenerator(t.key,t.value):{key:t.key,value:t.value}},t}(),pe=function(){function t(e,n,r,o,i){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:t.EMPTY,this.right=null!=i?i:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,o,i){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,o=n(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()},t.prototype.remove=function(e,n){var r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(e,o.key)){if(o.right.isEmpty())return t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw u("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw u("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw u("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),fe=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new pe(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();pe.EMPTY=new fe;var de,ye=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue"}(de=de||(de={}));var ve,me=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return c(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),M(this.typeOrder,t.typeOrder)},t}(),ge=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=de.NullValue,e.internalValue=null,e}return ye(e,t),e.prototype.value=function(){return null},e.prototype.equals=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(me),be=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=de.BooleanValue,n}return ye(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?M(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(me),_e=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=de.NumberValue,n}return ye(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?q(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(me),we=function(t){function e(e){return t.call(this,e)||this}return ye(e,t),e.prototype.equals=function(t){return t instanceof e&&W(this.internalValue,t.internalValue)},e}(_e),Ee=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return ye(e,t),e.prototype.equals=function(t){return t instanceof e&&W(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(_e),Ce=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=de.StringValue,n}return ye(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?M(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(me),Se=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=de.TimestampValue,n}return ye(e,t),e.prototype.value=function(){return this.internalValue.toDate()},e.prototype.equals=function(t){return t instanceof e&&this.internalValue.equals(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue.compareTo(t.internalValue):t instanceof Oe?-1:this.defaultCompareTo(t)},e}(me),Oe=function(t){function e(e){var n=t.call(this)||this;return n.localWriteTime=e,n.typeOrder=de.TimestampValue,n}return ye(e,t),e.prototype.value=function(){return null},e.prototype.equals=function(t){return t instanceof e&&this.localWriteTime.equals(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime.compareTo(t.localWriteTime):t instanceof Se?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(me),Te=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=de.BlobValue,n}return ye(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue._equals(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(me),Ie=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=de.RefValue,r}return ye(e,t),e.prototype.value=function(){return this.key},e.prototype.equals=function(t){return t instanceof e&&(this.key.equals(t.key)&&this.databaseId.equals(t.databaseId))},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:ae.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(me),Ne=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=de.GeoPointValue,n}return ye(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue._equals(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(me),Ae=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=de.ObjectValue,n}return ye(e,t),e.prototype.value=function(){var t={};return this.internalValue.inorderTraversal(function(e,n){t[e]=n.value()}),t},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.equals=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext();if(o.key!==i.key||!o.value.equals(i.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext(),s=M(o.key,i.key)||o.value.compareTo(i.value);if(s)return s}return M(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(c(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var o=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),o)},e.prototype.delete=function(t){if(c(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){c(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e?n.internalValue.get(t)||void 0:void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new le(M)),e}(me),Pe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=de.ArrayValue,n}return ye(e,t),e.prototype.value=function(){return this.internalValue.map(function(t){return t.value()})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.equals=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].equals(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var o=this.internalValue[r].compareTo(t.internalValue[r]);if(o)return o}return M(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(me),Re=Number,xe=Re.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),ke=Re.MAX_SAFE_INTEGER||Math.pow(2,53)-1,De=Re.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Me=function(){function t(t,e,n,r,o,i){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===i&&(i=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=o,this.endAt=i,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[We]:this.memoizedOrderBy=[new qe(t),We];else{c(null===t||null!==e&&t.equals(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,o=this.explicitOrderBy;r<o.length;r++){var i=o[r];this.memoizedOrderBy.push(i),i.field.isKeyField()&&(n=!0)}if(!n){var s=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Ue.ASCENDING;this.memoizedOrderBy.push(s===Ue.ASCENDING?We:He)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){c(null==this.getInequalityFilterField()||!(e instanceof je)||!e.isInequality()||e.field.equals(this.getInequalityFilterField()),"Query must only have one inequality field."),c(!ae.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){c(!ae.isDocumentKey(this.path),"No ordering allowed for document query"),c(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++){t+=n[e].canonicalId(),t+=","}t+="|ob:";for(var r=0,o=this.orderBy;r<o.length;r++){t+=o[r].canonicalId(),t+=","}H(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),H(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.equals=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].equals(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var e=0;e<this.filters.length;e++)if(!this.filters[e].equals(t.filters[e]))return!1;return!!this.path.equals(t.path)&&(!(null!==this.startAt?!this.startAt.equals(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.equals(t.endAt):null===t.endAt))},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,o=this.orderBy;r<o.length;r++){var i=o[r],s=i.compare(t,e);if(0!==s)return s;n=n||i.field.isKeyField()}return c(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!H(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof je&&n.isInequality())return n.field}return null},t.prototype.isDocumentQuery=function(){return ae.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return ae.isDocumentKey(this.path)?this.path.equals(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++){if(!n[e].matches(t))return!1}return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){c(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Le=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;default:return u("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.equals=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t}(),je=function(){function t(t,e,n){this.field=t,this.op=e,this.value=n}return t.prototype.matches=function(t){if(this.field.isKeyField()){c(this.value instanceof Ie,"Comparing on key, but filter value not a RefValue");var e=this.value,n=ae.comparator(t.key,e.key);return this.matchesComparison(n)}var r=t.field(this.field);return void 0!==r&&this.matchesValue(r)},t.prototype.matchesValue=function(t){return this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(t){switch(this.op){case Le.LESS_THAN:return t<0;case Le.LESS_THAN_OR_EQUAL:return t<=0;case Le.EQUAL:return 0===t;case Le.GREATER_THAN:return t>0;case Le.GREATER_THAN_OR_EQUAL:return t>=0;default:return u("Unknown relation op"+this.op)}},t.prototype.isInequality=function(){return this.op!==Le.EQUAL},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.equals=function(e){return e instanceof t&&(this.op.equals(e.op)&&this.field.equals(e.field)&&this.value.equals(e.value))},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(),Fe=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},t.prototype.toString=function(){return this.field.canonicalString()+" IS null"},t.prototype.equals=function(e){return e instanceof t&&this.field.equals(e.field)},t}(),Ve=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field).value();return"number"==typeof e&&isNaN(e)},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.equals=function(e){return e instanceof t&&this.field.equals(e.field)},t}(),Ue=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Be=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++){t+=n[e].toString()}return t},t.prototype.sortsBeforeDocument=function(t,e){c(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var o=t[r],i=this.position[r];if(o.field.isKeyField())c(i instanceof Ie,"Bound has a non-key value where the key path is being used."),n=ae.comparator(i.key,e.key);else{var s=e.field(o.field);c(void 0!==s,"Field should exist since document matched the orderBy already."),n=i.compareTo(s)}if(o.dir===Ue.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.equals=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],r=t.position[e];return n.equals(r)}return!0},t}(),qe=function(){function t(t,e){this.field=t,void 0===e&&(e=Ue.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?ue.compareByKey(t,e):ue.compareByField(this.field,t,e);switch(this.dir){case Ue.ASCENDING:return n;case Ue.DESCENDING:return-1*n;default:return u("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.equals=function(t){return this.dir===t.dir&&this.field.equals(t.field)},t}(),We=new qe(se.keyField(),Ue.ASCENDING),He=new qe(se.keyField(),Ue.DESCENDING),Ke=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),Ge=function(){function t(t,e){this.seconds=t,this.nanos=e,c(e>=0,"timestamp nanoseconds out of range: "+e),c(e<1e9,"timestamp nanoseconds out of range"+e),c(t>=-62135596800,"timestamp seconds out of range: "+t),c(t<253402300800,"timestamp seconds out of range"+t)}return t.now=function(){return t.fromEpochMilliseconds(Date.now())},t.fromDate=function(e){return t.fromEpochMilliseconds(e.getTime())},t.fromEpochMilliseconds=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.fromISOString=function(e){var n=0,r=Ke.exec(e);if(c(!!r,"invalid timestamp: "+e),r[1]){var o=r[1];o=(o+"000000000").substr(0,9),n=parseInt(o,10)}var i=new Date(e);return new t(Math.floor(i.getTime()/1e3),n)},t.prototype.toDate=function(){return new Date(this.toEpochMilliseconds())},t.prototype.toEpochMilliseconds=function(){return 1e3*this.seconds+this.nanos/1e6},t.prototype.compareTo=function(t){return this.seconds===t.seconds?M(this.nanos,t.nanos):M(this.seconds,t.seconds)},t.prototype.equals=function(t){return t.seconds===this.seconds&&t.nanos===this.nanos},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanos="+this.nanos+")"},t}(),Qe=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new Ge(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp.compareTo(t.timestamp)},t.prototype.equals=function(t){return this.timestamp.equals(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanos/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new Ge(0,0)),t}();!function(t){t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution"}(ve=ve||(ve={}));var ze,Je=function(){function t(t,e,n,r,o){void 0===r&&(r=Qe.MIN),void 0===o&&(o=l()),this.query=t,this.targetId=e,this.purpose=n,this.snapshotVersion=r,this.resumeToken=o}return t.prototype.update=function(e){return new t(this.query,this.targetId,this.purpose,e.snapshotVersion,e.resumeToken)},t.prototype.equals=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.snapshotVersion.equals(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.equals(t.query)},t}(),Xe=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ye=function(){function t(t){this.fields=t}return t.prototype.equals=function(t){return j(this.fields,t.fields)},t}(),Ze=function(){function t(){}return t.prototype.equals=function(e){return e instanceof t},t.instance=new t,t}(),$e=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.equals=function(t){return this.field.equals(t.field)&&this.transform.equals(t.transform)},t}(),tn=function(){function t(t,e){this.version=t,this.transformResults=e}return t}();!function(t){t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete"}(ze=ze||(ze={}));var en,nn=function(){function t(t,e){this.updateTime=t,this.exists=e,c(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof ue&&t.version.equals(this.updateTime):void 0!==this.exists?this.exists?t instanceof ue:null===t||t instanceof ce:(c(this.isNone,"Precondition should be empty"),!0)},t.prototype.equals=function(t){return L(this.updateTime,t.updateTime)&&this.exists===t.exists},t.NONE=new t,t}(),rn=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&c(t.key.equals(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof ue?t.version:Qe.MIN},t}(),on=function(t){function e(e,n,r){var o=t.call(this)||this;return o.key=e,o.value=n,o.precondition=r,o.type=ze.Set,o}return Xe(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),c(null==e.transformResults,"Transform results received by SetMutation.");var n=rn.getPostMutationVersion(t);return new ue(this.key,n,this.value,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=rn.getPostMutationVersion(t);return new ue(this.key,n,this.value,{hasLocalMutations:!0})},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.value.equals(t.value)&&this.precondition.equals(t.precondition)},e}(rn),sn=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.key=e,i.data=n,i.fieldMask=r,i.precondition=o,i.type=ze.Patch,i}return Xe(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),c(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return t;var n=rn.getPostMutationVersion(t),r=this.patchDocument(t);return new ue(this.key,n,r,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=rn.getPostMutationVersion(t),r=this.patchDocument(t);return new ue(this.key,n,r,{hasLocalMutations:!0})},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.fieldMask.equals(t.fieldMask)&&this.precondition.equals(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof ue?t.data:Ae.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){for(var e=0,n=this.fieldMask.fields;e<n.length;e++){var r=n[e],o=this.data.field(r);t=void 0!==o?t.set(r,o):t.delete(r)}return t},e}(rn),an=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=ze.Transform,r.precondition=nn.exists(!0),r}return Xe(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),c(null!=e.transformResults,"Transform results missing for TransformMutation.");var n=e.transformResults;if(!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),o=this.transformObject(r.data,n);return new ue(this.key,r.version,o,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=this.requireDocument(t),r=this.localTransformResults(e),o=this.transformObject(n.data,r);return new ue(this.key,n.version,o,{hasLocalMutations:!0})},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&j(this.fieldTransforms,t.fieldTransforms)&&this.precondition.equals(t.precondition)},e.prototype.requireDocument=function(t){c(t instanceof ue,"Unknown MaybeDocument type "+t);var e=t;return c(e.key.equals(this.key),"Can only transform a document with the same key"),e},e.prototype.localTransformResults=function(t){for(var e=[],n=0,r=this.fieldTransforms;n<r.length;n++){var o=r[n],i=o.transform;if(!(i instanceof Ze))return u("Encountered unknown transform: "+i);e.push(new Oe(t))}return e},e.prototype.transformObject=function(t,e){c(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n],o=r.transform,i=r.field;if(!(o instanceof Ze))return u("Encountered unknown transform: "+o);t=t.set(i,e[n])}return t},e}(rn),un=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=ze.Delete,r}return Xe(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),c(null==e.transformResults,"Transform results received by DeleteMutation."),new ce(this.key,Qe.MIN)},e.prototype.applyToLocalView=function(t,e){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&c(t.key.equals(this.key),"Can only apply mutation to document with same key"),new ce(this.key,Qe.forDeletedDoc())):t},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.precondition.equals(t.precondition)},e}(rn),cn=function(){function t(t){this.count=t}return t.prototype.equals=function(t){return t&&t.count===this.count},t}();!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(en||(en={}));var ln,hn=function(){function t(t){this.comparator=t,this.data=new le(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();){if(!t(n.getNext().key))return}},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.equals=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(o,i))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),pn=new le(ae.comparator),fn=new le(ae.comparator),dn=new le(ae.comparator),yn=new hn(ae.comparator),vn=function(){function t(t,e,n){this.snapshotVersion=t,this.targetChanges=e,this.documentUpdates=n}return t.prototype.addDocumentUpdate=function(t){this.documentUpdates=this.documentUpdates.insert(t.key,t)},t.prototype.handleExistenceFilterMismatch=function(t){this.targetChanges[t]={mapping:new bn,snapshotVersion:Qe.MIN,currentStatusUpdate:ln.MarkNotCurrent,resumeToken:l()}},t}();!function(t){t[t.None=0]="None",t[t.MarkNotCurrent=1]="MarkNotCurrent",t[t.MarkCurrent=2]="MarkCurrent"}(ln=ln||(ln={}));var mn,gn=et(),bn=function(){function t(){this.docs=gn}return Object.defineProperty(t.prototype,"documents",{get:function(){return this.docs},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this.docs=this.docs.add(t)},t.prototype.delete=function(t){this.docs=this.docs.delete(t)},t.prototype.equals=function(t){return null!==t&&this.docs.equals(t.docs)},t}(),_n=function(){function t(){this.addedDocuments=gn,this.removedDocuments=gn}return t.prototype.applyToKeySet=function(t){var e=t;return this.addedDocuments.forEach(function(t){return e=e.add(t)}),this.removedDocuments.forEach(function(t){return e=e.delete(t)}),e},t.prototype.add=function(t){this.addedDocuments=this.addedDocuments.add(t),this.removedDocuments=this.removedDocuments.delete(t)},t.prototype.delete=function(t){this.addedDocuments=this.addedDocuments.delete(t),this.removedDocuments=this.removedDocuments.add(t)},t.prototype.equals=function(t){return null!==t&&this.addedDocuments.equals(t.addedDocuments)&&this.removedDocuments.equals(t.removedDocuments)},t}(),wn=function(){function t(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}return t}(),En=function(){function t(t,e){this.targetId=t,this.existenceFilter=e}return t}();!function(t){t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset"}(mn=mn||(mn={}));var Cn=function(){function t(t,e,n,r){void 0===n&&(n=l()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}return t}(),Sn=function(){function t(t,e,n){this.snapshotVersion=t,this.listenTargets=e,this.existenceFilters={},this.targetChanges={},this.documentUpdates=Z(),this.frozen=!1,this.pendingTargetResponses=m(n)}return t.prototype.add=function(t){c(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t instanceof wn?this.addDocumentChange(t):t instanceof Cn?this.addTargetChange(t):t instanceof En?this.addExistenceFilterChange(t):u("Unknown watch change: "+t)},t.prototype.addChanges=function(t){var e=this;c(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t.forEach(function(t){return e.add(t)})},t.prototype.createRemoteEvent=function(){var t=this,e=this.targetChanges;return d(this.targetChanges,function(n){t.isActiveTarget(n)||delete e[n]}),this.frozen=!0,new vn(this.snapshotVersion,e,this.documentUpdates)},t.prototype.ensureTargetChange=function(t){var e=this.targetChanges[t];return e||(e={currentStatusUpdate:ln.None,snapshotVersion:this.snapshotVersion,mapping:new _n,resumeToken:l()},this.targetChanges[t]=e),e},t.prototype.isActiveTarget=function(t){return!p(this.pendingTargetResponses,t)&&p(this.listenTargets,t)},t.prototype.addDocumentChange=function(t){for(var e=!1,n=0,r=t.updatedTargetIds;n<r.length;n++){var o=r[n];if(this.isActiveTarget(o)){var i=this.ensureTargetChange(o);i.mapping.add(t.key),e=!0}}for(var s=0,a=t.removedTargetIds;s<a.length;s++){var o=a[s];if(this.isActiveTarget(o)){var i=this.ensureTargetChange(o);i.mapping.delete(t.key),e=!0}}t.newDoc&&e&&(this.documentUpdates=this.documentUpdates.insert(t.key,t.newDoc))},t.prototype.addTargetChange=function(t){var e=this;t.targetIds.forEach(function(n){var r=e.ensureTargetChange(n);switch(t.state){case mn.NoChange:e.isActiveTarget(n)&&nt(r,t.resumeToken);break;case mn.Added:e.recordTargetResponse(n),p(e.pendingTargetResponses,n)||(r.mapping=new _n,r.currentStatusUpdate=ln.None,delete e.existenceFilters[n]),nt(r,t.resumeToken);break;case mn.Removed:e.recordTargetResponse(n),c(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case mn.Current:e.isActiveTarget(n)&&(r.currentStatusUpdate=ln.MarkCurrent,nt(r,t.resumeToken));break;case mn.Reset:e.isActiveTarget(n)&&(r.mapping=new bn,nt(r,t.resumeToken));break;default:u("Unknown target watch change state: "+t.state)}})},t.prototype.recordTargetResponse=function(t){var e=(this.pendingTargetResponses[t]||0)-1;0===e?delete this.pendingTargetResponses[t]:this.pendingTargetResponses[t]=e},t.prototype.addExistenceFilterChange=function(t){this.isActiveTarget(t.targetId)&&(this.existenceFilters[t.targetId]=t.existenceFilter)},t}(),On=function(){var t={};return t[Ue.ASCENDING.name]="ASCENDING",t[Ue.DESCENDING.name]="DESCENDING",t}(),Tn=function(){var t={};return t[Le.LESS_THAN.name]="LESS_THAN",t[Le.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",t[Le.GREATER_THAN.name]="GREATER_THAN",t[Le.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",t[Le.EQUAL.name]="EQUAL",t}(),In=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?Qt.UNKNOWN:J(t.code);return new zt(e,t.message||"")},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanos}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return Ge.fromISOString(t);c(!!t,"Cannot deserialize null or undefined timestamp.");var e=ot(t.seconds||"0"),n=t.nanos||0;return new Ge(e,n)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(c(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Xt.fromBase64String(t)):(c(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),Xt.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return c(!!t,"Trying to deserialize version that isn't set"),Qe.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=oe.fromString(t);return c(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return c(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),c(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new ae(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return 0===t.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?oe.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new oe(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new oe(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return c(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof ge)return{nullValue:"NULL_VALUE"};if(t instanceof be)return{booleanValue:t.value()};if(t instanceof we)return{integerValue:""+t.value()};if(t instanceof Ee){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Ce?{stringValue:t.value()}:t instanceof Ae?{mapValue:this.toMapValue(t)}:t instanceof Pe?{arrayValue:this.toArrayValue(t)}:t instanceof Se?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Ne?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Te?{bytesValue:this.toBytes(t.value())}:t instanceof Ie?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:u("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(it(t,n,"nullValue"))return ge.INSTANCE;if(it(t,n,"booleanValue"))return be.of(t.booleanValue);if(it(t,n,"integerValue"))return new we(ot(t.integerValue));if(it(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Ee.NAN;if("Infinity"===t.doubleValue)return Ee.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Ee.NEGATIVE_INFINITY}return new Ee(t.doubleValue)}if(it(t,n,"stringValue"))return new Ce(t.stringValue);if(it(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(it(t,n,"arrayValue")){rt(t.arrayValue,"arrayValue");var r=t.arrayValue.values||[];return new Pe(r.map(function(t){return e.fromValue(t)}))}if(it(t,n,"timestampValue"))return rt(t.timestampValue,"timestampValue"),new Se(this.fromTimestamp(t.timestampValue));if(it(t,n,"geoPointValue")){rt(t.geoPointValue,"geoPointValue");var o=t.geoPointValue.latitude||0,i=t.geoPointValue.longitude||0;return new Ne(new Zt(o,i))}if(it(t,n,"bytesValue")){rt(t.bytesValue,"bytesValue");var s=this.fromBlob(t.bytesValue);return new Te(s)}if(it(t,n,"referenceValue")){rt(t.referenceValue,"referenceValue");var a=this.fromResourceName(t.referenceValue),c=new ee(a.get(1),a.get(3)),l=new ae(this.extractLocalPathFromResourceName(a));return new Ie(c,l)}return u("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return c(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t){return new ue(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasLocalMutations:!1})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=t,r=Ae.EMPTY;return y(n,function(t,n){r=r.set(new se([t]),e.fromValue(n))}),r},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){c(!!t.found,"Tried to deserialize a found document from a missing document."),rt(t.found.name,"doc.found.name"),rt(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new ue(e,n,r,{hasLocalMutations:!1})},t.prototype.fromMissing=function(t){c(!!t.missing,"Tried to deserialize a missing document from a found document."),c(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new ce(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result_type;return it(t,e,"found")?this.fromFound(t):it(t,e,"missing")?this.fromMissing(t):u("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case mn.Added:return"ADD";case mn.Current:return"CURRENT";case mn.NoChange:return"NO_CHANGE";case mn.Removed:return"REMOVE";case mn.Reset:return"RESET";default:return u("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof En)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof wn){if(t.newDoc instanceof ue){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof ce){var e=t.newDoc;return{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Cn){var n=void 0;return t.cause&&(n={code:X(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return u("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.change_type;if(it(t,n,"targetChange")){rt(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=t.targetChange.resumeToken||this.emptyByteString(),s=t.targetChange.cause,a=s&&this.fromRpcStatus(s);e=new Cn(r,o,i,a||null)}else if(it(t,n,"documentChange")){rt(t.documentChange,"documentChange"),rt(t.documentChange.document,"documentChange.name"),rt(t.documentChange.document.name,"documentChange.document.name"),rt(t.documentChange.document.updateTime,"documentChange.document.updateTime");var c=t.documentChange,l=this.fromName(c.document.name),h=this.fromVersion(c.document.updateTime),p=this.fromFields(c.document.fields||{}),f=new ue(l,h,p,{hasLocalMutations:!1}),d=c.targetIds||[],y=c.removedTargetIds||[];e=new wn(d,y,f.key,f)}else if(it(t,n,"documentDelete")){rt(t.documentDelete,"documentDelete"),rt(t.documentDelete.document,"documentDelete.document");var v=t.documentDelete,l=this.fromName(v.document),h=v.readTime?this.fromVersion(v.readTime):Qe.forDeletedDoc(),f=new ce(l,h),y=v.removedTargetIds||[];e=new wn([],y,f.key,f)}else if(it(t,n,"documentRemove")){rt(t.documentRemove,"documentRemove"),rt(t.documentRemove.document,"documentRemove");var m=t.documentRemove,l=this.fromName(m.document),y=m.removedTargetIds||[];e=new wn([],y,l,null)}else{if(!it(t,n,"filter"))return u("Unknown change type "+JSON.stringify(t));rt(t.filter,"filter"),rt(t.filter.targetId,"filter.targetId");var g=t.filter,b=g.count||0,_=new cn(b),w=g.targetId;e=new En(w,_)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?mn.NoChange:"ADD"===t?mn.Added:"REMOVE"===t?mn.Removed:"CURRENT"===t?mn.Current:"RESET"===t?mn.Reset:u("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!it(t,t.response_type,"targetChange"))return Qe.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Qe.MIN:e.readTime?this.fromVersion(e.readTime):Qe.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof on)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof un)e={delete:this.toName(t.key)};else if(t instanceof sn)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof an))return u("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):nn.NONE;if(t.update){rt(t.update.name,"name");var r=this.fromName(t.update.name),o=this.fromFields(t.update.fields||{});if(t.updateMask){var i=this.fromDocumentMask(t.updateMask);return new sn(r,o,i,n)}return new on(r,o,n)}if(t.delete){var r=this.fromName(t.delete);return new un(r,n)}if(t.transform){var r=this.fromName(t.transform.document),s=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return c(!0===n.exists,'Transforms only support precondition "exists == true"'),new an(r,s)}return u("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return c(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:u("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?nn.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?nn.exists(t.exists):nn.NONE},t.prototype.fromWriteResult=function(t){var e=this,n=t.updateTime?this.fromVersion(t.updateTime):null,r=null;return t.transformResults&&(r=t.transformResults.map(function(t){return e.fromValue(t)})),new tn(n,r)},t.prototype.fromWriteResults=function(t){var e=this;return(t||[]).map(function(t){return e.fromWriteResult(t)})},t.prototype.toFieldTransform=function(t){return c(t.transform instanceof Ze,"Unknown transform: "+t.transform),{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"}},t.prototype.fromFieldTransform=function(t){c("REQUEST_TIME"===t.setToServerValue,"Unknown transform proto: "+JSON.stringify(t));var e=se.fromServerFormat(t.fieldPath);return new $e(e,Ze.instance)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;c(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return Me.atPath(this.fromQueryPath(n))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(oe.EMPTY_PATH);else{var n=t.path;c(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var o=this.toOrder(t.orderBy);o&&(e.structuredQuery.orderBy=o);var i=this.toLimit(t.limit);return void 0!==i&&(e.structuredQuery.limit=i),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0;if(r>0){c(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];e=e.child(o.collectionId)}var i=[];n.where&&(i=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var a=null;n.limit&&(a=n.limit);var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new Me(e,s,i,a,u,l)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case ve.Listen:return null;case ve.ExistenceFilterMismatch:return"existence-filter-mismatch";case ve.LimboResolution:return"limbo-document";default:return u("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)},e.targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof je?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):u("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toLimit=function(t){if(!H(t))return t},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Be(r,n)},t.prototype.toDirection=function(t){return On[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Ue.ASCENDING;case"DESCENDING":return Ue.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return Tn[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Le.EQUAL;case"GREATER_THAN":return Le.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Le.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Le.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Le.LESS_THAN_OR_EQUAL;case"OPERATOR_UNSPECIFIED":return u("Unspecified relation");default:return u("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return se.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new qe(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof je?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:u("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new je(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Ve?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Fe?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:u("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Ve(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Fe(n);case"OPERATOR_UNSPECIFIED":return u("Unspecified filter");default:return u("Unknown filter")}},t.prototype.toDocumentMask=function(t){return{fieldPaths:t.fields.map(function(t){return t.canonicalString()})}},t.prototype.fromDocumentMask=function(t){var e=t.fieldPaths||[],n=e.map(function(t){return se.fromServerFormat(t)});return new Ye(n)},t}(),Nn=n("P9wo"),An=function(){function t(t){this.wrappedOnOpen=null,this.wrappedOnClose=null,this.wrappedOnMessage=null,this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){c(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){c(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){c(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){c(null!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){c(null!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){c(null!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),Pn="Connection",Rn="gl-js/ fire/"+Wt,xn=function(){function t(t){this.databaseId=t.databaseId,this.pool=new Nn.XhrIoPool;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=Rn,t["google-cloud-resource-prefix"]="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},t.prototype.invoke=function(t,e,n){var r=this,o=this.makeUrl(t);return new Promise(function(s,a){r.pool.getObject(function(c){c.listenOnce(Nn.EventType.COMPLETE,function(){try{switch(c.getLastErrorCode()){case Nn.ErrorCode.NO_ERROR:var e=c.getResponseJson();i(Pn,"XHR received:",JSON.stringify(e)),s(e);break;case Nn.ErrorCode.TIMEOUT:i(Pn,'RPC "'+t+'" timed out'),a(new zt(Qt.DEADLINE_EXCEEDED,"Request time out"));break;case Nn.ErrorCode.HTTP_ERROR:var n=c.getStatus();i(Pn,'RPC "'+t+'" failed with status:',n,"response text:",c.getResponseText()),n>0?a(new zt(Y(n),"Server responded with status "+c.getStatusText())):(i(Pn,'RPC "'+t+'" failed'),a(new zt(Qt.UNAVAILABLE,"Connection failed.")));break;default:u('RPC "'+t+'" failed with unanticipated webchannel error '+c.getLastErrorCode()+": "+c.getLastError()+", giving up.")}}finally{i(Pn,'RPC "'+t+'" completed.'),r.pool.releaseObject(c)}});var l=JSON.stringify(e);i(Pn,"XHR sending: ",o+" "+l);var h={"Content-Type":"text/plain"};r.modifyHeadersForRequest(h,n),c.send(o,"POST",l,h,15)})})},t.prototype.openStream=function(e,n){var r=t.RPC_STREAM_SERVICE_MAPPING[e],o=t.RPC_STREAM_NAME_MAPPING[e];r&&o||u("Unknown RPC name: "+e);var s=[this.baseUrl,"/",r,"/",o,"/channel"],a=Object(Nn.createWebChannelTransport)(),l={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(l.initMessageHeaders,n);var h=s.join("");i(Pn,"Creating WebChannel: "+h+" "+l);var p=a.createWebChannel(h,l),f=!1,d=!1,y=new An({sendFn:function(t){d?i(Pn,"Not sending because WebChannel is closed:",t):(f||(i(Pn,"Opening WebChannel transport."),p.open(),f=!0),i(Pn,"WebChannel sending:",t),p.send(t))},closeFn:function(){return p.close()}}),v=function(t,e){p.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return v(Nn.WebChannel.EventType.OPEN,function(){d||i(Pn,"WebChannel transport opened.")}),v(Nn.WebChannel.EventType.CLOSE,function(){d||(d=!0,i(Pn,"WebChannel transport closed"),y.callOnClose())}),v(Nn.WebChannel.EventType.ERROR,function(t){d||(d=!0,i(Pn,"WebChannel transport errored:",t),y.callOnClose(new zt(Qt.UNAVAILABLE,"The operation could not be completed")))}),v(Nn.WebChannel.EventType.MESSAGE,function(t){if(!d){var e=t.data[0];c(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){i(Pn,"WebChannel received error:",n);var r=n.status,o=z(r),s=n.message;void 0===o&&(o=Qt.INTERNAL,s="Unknown error status: "+r+" with message "+n.message),d=!0,y.callOnClose(new zt(o,s)),p.close()}else i(Pn,"WebChannel received:",e),y.callOnMessage(e)}}),setTimeout(function(){y.callOnOpen()},0),y},t.prototype.makeUrl=function(t){var e=[this.baseUrl,"/","v1beta1"];return e.push("/projects/"),e.push(this.databaseId.projectId),e.push("/databases/"),e.push(this.databaseId.database),e.push("/documents"),e.push(":"),e.push(t),e.join("")},t.RPC_STREAM_SERVICE_MAPPING={Write:"google.firestore.v1beta1.Firestore",Listen:"google.firestore.v1beta1.Firestore"},t.RPC_STREAM_NAME_MAPPING={Write:"Write",Listen:"Listen"},t}(),kn=function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return t.prototype.loadConnection=function(t){return Promise.resolve(new xn(t))},t.prototype.newSerializer=function(t){return new In(t,{useProto3Json:!0})},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();Kt.setPlatform(new kn);var Dn,Mn=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];w("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if(E("FieldPath","string",n,t[n]),0===t[n].length)throw new zt(Qt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(t)}return t.documentId=function(){return t._DOCUMENT_ID},t._DOCUMENT_ID=new t(se.keyField().canonicalString()),t}(),Ln=new RegExp("[~\\*/\\[\\]]");!function(t){t[t.Unknown=0]="Unknown",t[t.Healthy=1]="Healthy",t[t.Failed=2]="Failed"}(Dn=Dn||(Dn={}));var jn;!function(t){t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata"}(jn=jn||(jn={}));var Fn;!function(t){t[t.Local=0]="Local",t[t.Synced=1]="Synced"}(Fn=Fn||(Fn={}));var Vn,Un=function(){function t(){this.changeMap=new le(ae.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);if(!n)return void(this.changeMap=this.changeMap.insert(e,t));t.type!==jn.Added&&n.type===jn.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===jn.Metadata&&n.type!==jn.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===jn.Modified&&n.type===jn.Modified?this.changeMap=this.changeMap.insert(e,{type:jn.Modified,doc:t.doc}):t.type===jn.Modified&&n.type===jn.Added?this.changeMap=this.changeMap.insert(e,{type:jn.Added,doc:t.doc}):t.type===jn.Removed&&n.type===jn.Added?this.changeMap=this.changeMap.remove(e):t.type===jn.Removed&&n.type===jn.Modified?this.changeMap=this.changeMap.insert(e,{type:jn.Removed,doc:n.doc}):t.type===jn.Added&&n.type===jn.Removed?this.changeMap=this.changeMap.insert(e,{type:jn.Modified,doc:t.doc}):u("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n))},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Bn=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ae.comparator(e.key,n.key)}:function(t,e){return ae.comparator(t.key,e.key)},this.keyedMap=$(),this.sortedSet=new le(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.prevDoc=function(t){c(this.has(t),"Trying to get a previous document to non-existing key: "+t);var e=this.keyedMap.get(t);return this.sortedSet.getPredecessorKey(e)},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.equals=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(!o.equals(i))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),qn=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,o=n;r<o.length;r++){var i=o[r],s=i[0],a=i[1];if(s.equals(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return void(this.inner[n]=[[t,e]]);for(var o=0;o<r.length;o++)if(r[o][0].equals(t))return void(r[o]=[t,e]);r.push([t,e])},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].equals(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){y(this.inner,function(e,n){for(var r=0,o=n;r<o.length;r++){var i=o[r],s=i[0],a=i[1];t(s,a)}})},t.prototype.isEmpty=function(){return v(this.inner)},t}(),Wn=function(){function t(){this.listeners=[]}return t}(),Hn=function(){function t(t){this.syncEngine=t,this.queries=new qn(function(t){return t.canonicalId()}),this.onlineState=Dn.Unknown,this.syncEngine.subscribe(this.onChange.bind(this),this.onError.bind(this))}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new Wn,this.queries.set(e,r)),r.listeners.push(t),t.onOnlineStateChanged(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){var e=t.query,n=!1,r=this.queries.get(e);if(r){var o=r.listeners.indexOf(t);o>=0&&(r.listeners.splice(o,1),n=0===r.listeners.length)}return n?(this.queries.delete(e),this.syncEngine.unlisten(e)):Promise.resolve()},t.prototype.onChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],o=r.query,i=this.queries.get(o);if(i){for(var s=0,a=i.listeners;s<a.length;s++){a[s].onViewSnapshot(r)}i.viewSnap=r}}},t.prototype.onError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,o=n.listeners;r<o.length;r++){var i=o[r];i.onError(e)}this.queries.delete(t)},t.prototype.onOnlineStateChanged=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,o=n.listeners;r<o.length;r++){o[r].onOnlineStateChanged(t)}})},t}(),Kn=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=Dn.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(c(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeDocumentMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var o=r[n];o.type!==jn.Metadata&&e.push(o)}t={query:t.query,docs:t.docs,oldDocs:t.oldDocs,docChanges:e,fromCache:t.fromCache,hasPendingWrites:t.hasPendingWrites,syncStateChanged:t.syncStateChanged}}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.onOnlineStateChanged=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){if(c(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n=e!==Dn.Failed;return this.options.waitForSyncWhenOnline&&n?(c(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===Dn.Failed},t.prototype.shouldRaiseEvent=function(t){if(t.docChanges.length>0)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeQueryMetadataChanges},t.prototype.raiseInitialEvent=function(e){c(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e={query:e.query,docs:e.docs,oldDocs:Bn.emptySet(e.docs),docChanges:t.getInitialViewChanges(e),fromCache:e.fromCache,hasPendingWrites:e.hasPendingWrites,syncStateChanged:!0},this.raisedInitialEvent=!0,this.queryObserver.next(e)},t.getInitialViewChanges=function(t){var e=[];return t.docs.forEach(function(t){e.push({type:jn.Added,doc:t})}),e},t}(),Gn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=null,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&u("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,o){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,o)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,o)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return e.reduce(function(t,e,n){return t.next(function(){return e})},t.resolve())},t.map=function(e){var n=[],r=!0,o=t.resolve(null);return e.reduce(function(t,e){return t.next(function(t){return r||n.push(t),r=!1,e})},o).next(function(t){return n.push(t),n})},t}(),Qn=function(){function t(){this.isEager=!0,this.sources=[],this.potentialGarbage=et()}return t.prototype.addGarbageSource=function(t){this.sources.push(t),t.setGarbageCollector(this)},t.prototype.removeGarbageSource=function(t){this.sources.splice(this.sources.indexOf(t),1),t.setGarbageCollector(null)},t.prototype.addPotentialGarbageKey=function(t){this.potentialGarbage=this.potentialGarbage.add(t)},t.prototype.collectGarbage=function(t){var e=this,n=[],r=et();return this.potentialGarbage.forEach(function(o){var i=e.documentHasAnyReferences(t,o);n.push(i.next(function(t){return t||(r=r.add(o)),Gn.resolve()}))}),this.potentialGarbage=et(),Gn.waitFor(n).next(function(){return r})},t.prototype.documentHasAnyReferences=function(t,e){var n=Gn.resolve(!1);return this.sources.map(function(n){return function(){return n.containsKey(t,e)}}).reduce(function(t,e){return t.next(function(t){return t?Gn.resolve(!0):e()})},n)},t}(),zn=function(){function t(t,e,n){this.query=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e){for(var n=et(),r=et(),o=0,i=e.docChanges;o<i.length;o++){var s=i[o];switch(s.type){case jn.Added:n=n.add(s.doc.key);break;case jn.Removed:r=r.add(s.doc.key)}}return new t(e.query,n,r)},t}(),Jn=function(){function t(){this.refsByKey=new hn(Xn.compareByKey),this.refsByTarget=new hn(Xn.compareByTargetId),this.garbageCollector=null}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Xn(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Xn(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=ae.EMPTY,r=new Xn(n,t),o=new Xn(n,t+1);this.refsByTarget.forEachInRange([r,o],function(t){e.removeRef(t)})},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t),null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(t.key)},t.prototype.referencesForId=function(t){var e=ae.EMPTY,n=new Xn(e,t),r=new Xn(e,t+1),o=et();return this.refsByTarget.forEachInRange([n,r],function(t){o=o.add(t.key)}),o},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new Xn(e,0),r=this.refsByKey.firstAfterOrEqual(n);return Gn.resolve(null!==r&&e.equals(r.key))},t}(),Xn=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return ae.comparator(t.key,e.key)||M(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return M(t.targetOrBatchId,e.targetOrBatchId)||ae.comparator(t.key,e.key)},t}(),Yn=1;!function(t){t[t.LocalStore=0]="LocalStore",t[t.SyncEngine=1]="SyncEngine"}(Vn||(Vn={}));var Zn,$n=function(){function t(t,e){void 0===e&&(e=0),this.generatorId=t;var n=e>>Yn<<Yn,r=e-n;this.previousId=r>=t?n|this.generatorId:(n|this.generatorId)-(1<<Yn)}return t.prototype.next=function(){return this.previousId+=1<<Yn,this.previousId},t.forLocalStore=function(e){return void 0===e&&(e=0),new t(Vn.LocalStore,e)},t.forSyncEngine=function(){return new t(Vn.SyncEngine)},t}(),tr=function(){function t(t){this.key=t}return t}(),er=function(){function t(t){this.key=t}return t}(),nr=function(){function t(t,e){this.query=t,this.syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=et(),this.mutatedKeys=et(),this.documentSet=new Bn(t.docComparator.bind(t))}return t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Un,o=e?e.documentSet:this.documentSet,i=e?e.mutatedKeys:this.mutatedKeys,s=o,a=!1,u=this.query.hasLimit()&&o.size===this.query.limit?o.last():null;if(t.inorderTraversal(function(t,e){var l=o.get(t),h=e instanceof ue?e:null;if(h&&(c(t.equals(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null),h?(s=s.add(h),i=h.hasLocalMutations?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)),l&&h){var p=l.data.equals(h.data);p&&l.hasLocalMutations===h.hasLocalMutations||(p?r.track({type:jn.Metadata,doc:h}):r.track({type:jn.Modified,doc:h}),u&&n.query.docComparator(h,u)>0&&(a=!0))}else!l&&h?r.track({type:jn.Added,doc:h}):l&&!h&&(r.track({type:jn.Removed,doc:l}),u&&(a=!0))}),this.query.hasLimit())for(;s.size>this.query.limit;){var l=s.last();s=s.delete(l.key),r.track({type:jn.Removed,doc:l})}return c(!a||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:s,changeSet:r,needsRefill:a,mutatedKeys:i}},t.prototype.applyChanges=function(t,e){var n=this;c(!t.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return at(t.type,e.type)||n.query.docComparator(t.doc,e.doc)});var i=this.applyTargetChange(e),s=0===this.limboDocuments.size&&this.current,a=s?Fn.Synced:Fn.Local,u=a!==this.syncState;return this.syncState=a,0!==o.length||u?{snapshot:{query:this.query,docs:t.documentSet,oldDocs:r,docChanges:o,fromCache:a===Fn.Local,syncStateChanged:u,hasPendingWrites:!t.mutatedKeys.isEmpty()},limboChanges:i}:{limboChanges:i}},t.prototype.shouldBeInLimbo=function(t){return!this.syncedDocuments.has(t)&&(!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations)},t.prototype.applyTargetChange=function(t){var e=this;if(t){var n=t.mapping;switch(n instanceof bn?this.syncedDocuments=n.documents:n instanceof _n&&(this.syncedDocuments=n.applyToKeySet(this.syncedDocuments)),t.currentStatusUpdate){case ln.MarkCurrent:this.current=!0;break;case ln.MarkNotCurrent:this.current=!1;break;case ln.None:break;default:u("Unknown current status update: "+t.currentStatusUpdate)}}var r=this.limboDocuments;this.limboDocuments=et(),this.current&&this.documentSet.forEach(function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))});var o=[];return r.forEach(function(t){e.limboDocuments.has(t)||o.push(new er(t))}),this.limboDocuments.forEach(function(t){r.has(t)||o.push(new tr(t))}),o},t}(),rr=function(){function t(t,e,n,r){this.query=t,this.targetId=e,this.resumeToken=n,this.view=r}return t}(),or=function(){function t(t,e,n){this.localStore=t,this.remoteStore=e,this.currentUser=n,this.viewHandler=null,this.errorHandler=null,this.queryViewsByQuery=new qn(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new le(ae.comparator),this.limboKeysByTarget={},this.limboDocumentRefs=new Jn,this.limboCollector=new Qn,this.mutationUserCallbacks={},this.targetIdGenerator=$n.forSyncEngine()}return t.prototype.subscribe=function(t,e){c(null!==t&&null!==e,"View and error handlers cannot be null"),c(null===this.viewHandler&&null===this.errorHandler,"SyncEngine already has a subscriber."),this.viewHandler=t,this.errorHandler=e,this.limboCollector.addGarbageSource(this.limboDocumentRefs)},t.prototype.listen=function(t){var e=this;return this.assertSubscribed("listen()"),c(!this.queryViewsByQuery.has(t),"We already listen to the query: "+t),this.localStore.allocateQuery(t).then(function(n){return e.localStore.executeQuery(t).then(function(r){return e.localStore.remoteDocumentKeys(n.targetId).then(function(o){var i=new nr(t,o),s=i.computeDocChanges(r),a=i.applyChanges(s);c(0===a.limboChanges.length,"View returned limbo docs before target ack from the server."),c(!!a.snapshot,"applyChanges for new view should always return a snapshot");var u=new rr(t,n.targetId,n.resumeToken,i);e.queryViewsByQuery.set(t,u),e.queryViewsByTarget[n.targetId]=u,e.viewHandler([a.snapshot]),e.remoteStore.listen(n)})}).then(function(){return n.targetId})})},t.prototype.unlisten=function(t){var e=this;this.assertSubscribed("unlisten()");var n=this.queryViewsByQuery.get(t);return c(!!n,"Trying to unlisten on query not found:"+t),this.localStore.releaseQuery(t).then(function(){return e.remoteStore.unlisten(n.targetId),e.removeAndCleanupQuery(n).then(function(){return e.localStore.collectGarbage()})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),c(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!H(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(o){return r.commit().then(function(){return o}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),d(t.targetChanges,function(n,r){var o=e.limboKeysByTarget[n];o&&r.currentStatusUpdate===ln.MarkCurrent&&!t.documentUpdates.get(o)&&t.addDocumentUpdate(new ce(o,t.snapshotVersion))}),this.localStore.applyRemoteEvent(t).then(function(n){return e.emitNewSnapsAndNotifyLocalStore(n,t)})},t.prototype.rejectListen=function(t,e){var n=this;this.assertSubscribed("rejectListens()");var r=this.limboKeysByTarget[t];if(r){this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboKeysByTarget[t];var o=new le(ae.comparator);o=o.insert(r,new ce(r,Qe.forDeletedDoc()));var i=new vn(Qe.MIN,{},o);return this.applyRemoteEvent(i)}var s=this.queryViewsByTarget[t];return c(!!s,"Unknown targetId: "+t),this.localStore.releaseQuery(s.query).then(function(){return n.removeAndCleanupQuery(s).then(function(){n.errorHandler(s.query,e)})})},t.prototype.applySuccessfulWrite=function(t){var e=this;return this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(t.batch.batchId,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(t){return n.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new le(M)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(c(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){return this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.limboDocumentRefs.removeReferencesForId(t.targetId),this.gcLimboDocuments()},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var o=r[n];o instanceof tr?(this.limboDocumentRefs.addReference(o.key,t),this.trackLimboChange(o)):o instanceof er?(i("SyncEngine","Document no longer in limbo: "+o.key),this.limboDocumentRefs.removeReference(o.key,t)):u("Unknown limbo change: "+JSON.stringify(o))}return this.gcLimboDocuments()},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){i("SyncEngine","New document in limbo: "+e);var n=this.targetIdGenerator.next(),r=Me.atPath(e.path);this.limboKeysByTarget[n]=e,this.remoteStore.listen(new Je(r,n,ve.Listen)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.gcLimboDocuments=function(){var t=this;return this.limboCollector.collectGarbage(null).next(function(e){e.forEach(function(e){var n=t.limboTargetsByKey.get(e);null!==n&&(t.remoteStore.unlisten(n),t.limboTargetsByKey=t.limboTargetsByKey.remove(e),delete t.limboKeysByTarget[n])})}).toPromise()},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){var n=this,r=[],o=[],i=[];return this.queryViewsByQuery.forEach(function(s,a){i.push(Promise.resolve().then(function(){var e=a.view.computeDocChanges(t);return e.needsRefill?n.localStore.executeQuery(a.query).then(function(t){return a.view.computeDocChanges(t,e)}):e}).then(function(t){var i=e&&e.targetChanges[a.targetId],s=a.view.applyChanges(t,i);return n.updateTrackedLimbos(a.targetId,s.limboChanges).then(function(){if(s.snapshot){r.push(s.snapshot);var t=zn.fromSnapshot(s.snapshot);o.push(t)}})}))}),Promise.all(i).then(function(){return n.viewHandler(r),n.localStore.notifyLocalViewChanges(o)}).then(function(){return n.localStore.collectGarbage()})},t.prototype.assertSubscribed=function(t){c(null!==this.viewHandler&&null!==this.errorHandler,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleUserChange=function(t){var e=this;return this.currentUser=t,this.localStore.handleUserChange(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)}).then(function(){return e.remoteStore.handleUserChange(t)})},t}(),ir=-1,sr=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&c(e.key.equals(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;c(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var o=0;o<this.mutations.length;o++){var i=this.mutations[o];if(i.key.equals(t)){var s=r[o];e=i.applyToRemoteDocument(e,s)}}return e},t.prototype.applyToLocalView=function(t,e){e&&c(e.key.equals(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0;n<this.mutations.length;n++){var r=this.mutations[n];r.key.equals(t)&&(e=r.applyToLocalView(e,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=et(),e=0,n=this.mutations;e<n.length;e++){var r=n[e];t=t.add(r.key)}return t},t.prototype.equals=function(t){return this.batchId===t.batchId&&j(this.mutations,t.mutations)},t.prototype.isTombstone=function(){return 0===this.mutations.length},t.prototype.toTombstone=function(){return new t(this.batchId,this.localWriteTime,[])},t}(),ar=function(){function t(t,e,n,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=o}return t.from=function(e,n,r,o){c(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var i=tt(),s=e.mutations,a=0;a<s.length;a++){var u=r[a].version;null===u&&(u=n),i=i.insert(s[a].key,u)}return new t(e,n,r,o,i)},t}(),ur="\x01",cr="\x01",lr="\x10",hr="\x11",pr=function(){function t(t,e){this.seconds=t,this.nanos=e}return t}(),fr=function(){function t(t,e){this.ownerId=t,this.leaseTimestampMs=e}return t.store="owner",t}(),dr=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),yr=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store="mutations",t.keyPath=["userId","batchId"],t}(),vr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ut(e)]},t.key=function(t,e,n){return[t,ut(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),mr=function(){function t(t,e){this.path=t,this.readTime=e}return t}(),gr=function(){function t(t,e){this.noDocument=t,this.document=e}return t.store="remoteDocuments",t}(),br=function(){function t(t,e,n,r,o,i){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.query=i}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),_r=function(){function t(t,e){this.targetId=t,this.path=e}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),wr=function(){function t(t,e,n){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),Er=[dr.store,yr.store,vr.store,gr.store,br.store,fr.store,wr.store,_r.store],Cr=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return c(t.isAvailable(),"IndexedDB not supported in current environment."),i("SimpleDb","Opening database:",e),new Gn(function(o,s){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){var n=e.target.result;o(new t(n))},a.onerror=function(t){s(t.target.error)},a.onupgradeneeded=function(t){i("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result;r(n,t.oldVersion)}}).toPromise()},t.delete=function(t){return i("SimpleDb","Removing database:",t),ft(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.prototype.runTransaction=function(t,e,n){var r=new Or(this.db,t,e),o=n(r).catch(function(t){return r.abort(),Gn.reject(t)}).toPromise();return r.completionPromise.then(function(){return o})},t.prototype.close=function(){this.db.close()},t}(),Sr=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return ft(this.dbCursor.delete())},t}(),Or=function(){function t(t,e,n){var r=this;this.aborted=!1,this.transaction=t.transaction(n,e),this.completionPromise=new Promise(function(t,e){r.transaction.onabort=r.transaction.oncomplete=function(e){t()},r.transaction.onerror=function(t){e(t.target.error)}})}return t.prototype.abort=function(){this.aborted||(i("SimpleDb","Aborting transaction."),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return c(!!e,"Object store not part of transaction: "+t),new Tr(e)},t}(),Tr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(i("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(i("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ft(n)},t.prototype.get=function(t){var e=this;return ft(this.store.get(t)).next(function(n){return void 0===n&&(n=null),i("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return i("SimpleDb","DELETE",this.store.name,t),ft(this.store.delete(t))},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){i("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateCursor=function(t,e){var n=[];return new Gn(function(r,o){t.onerror=function(t){o(t.target.error)},t.onsuccess=function(t){var o=t.target.result;if(!o)return void r();var i=new Sr(o),s=e(o.primaryKey,o.value,i);s instanceof Gn&&n.push(s),i.isDone?r():null===i.skipToKey?o.continue():o.continue(i.skipToKey)}}).next(function(){return Gn.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(c(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}(),Ir=function(){function t(t,e){this.userId=t,this.serializer=e,this.garbageCollector=null}return t.forUser=function(e,n){return c(""!==e.uid,"UserID must not be an empty string."),new t(e.isUnauthenticated()?"":e.uid,n)},t.prototype.start=function(e){var n=this;return t.loadNextBatchIdFromDb(e).next(function(t){return n.nextBatchId=t,mt(e).get(n.userId)}).next(function(t){return t||(t=new dr(n.userId,ir,"")),n.metadata=t,n.metadata.lastAcknowledgedBatchId>=n.nextBatchId?n.checkEmpty(e).next(function(t){return c(t,"Reset nextBatchID is only possible when the queue is empty"),n.metadata.lastAcknowledgedBatchId=ir,mt(e).put(n.metadata)}):Gn.resolve()})},t.loadNextBatchIdFromDb=function(t){var e=ir;return yt(t).iterate({reverse:!0},function(t,n,r){var o=t[0];if(t[1]>e&&(e=n.batchId),""===o)r.done();else{var i=F(o);r.skip([i])}}).next(function(){return e+1})},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound(this.keyForBatchId(Number.NEGATIVE_INFINITY),this.keyForBatchId(Number.POSITIVE_INFINITY));return yt(t).iterate({range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.getNextBatchId=function(t){return Gn.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return Gn.resolve(this.metadata.lastAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;return c(r>this.metadata.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),this.metadata.lastAcknowledgedBatchId=r,this.metadata.lastStreamToken=dt(n),mt(t).put(this.metadata)},t.prototype.getLastStreamToken=function(t){return Gn.resolve(this.metadata.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.metadata.lastStreamToken=dt(e),mt(t).put(this.metadata)},t.prototype.addMutationBatch=function(t,e,n){var r=this,o=this.nextBatchId;this.nextBatchId++;var i=new sr(o,e,n),s=this.serializer.toDbMutationBatch(this.userId,i);return yt(t).put(s).next(function(){for(var e=[],i=0,s=n;i<s.length;i++){var a=s[i],u=(ut(a.key.path),vr.key(r.userId,a.key.path,o));vt(t).put(u,vr.PLACEHOLDER)}return Gn.waitFor(e)}).next(function(){return i})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return yt(t).get(this.keyForBatchId(e)).next(function(t){return t?n.serializer.fromDbMutationBatch(t):null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=IDBKeyRange.lowerBound(this.keyForBatchId(e+1)),o=null;return yt(t).iterate({range:r},function(t,r,i){r.userId===n.userId&&(c(r.batchId>e,"Should have found mutation after "+e),o=n.serializer.fromDbMutationBatch(r)),i.done()}).next(function(){return o})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound(this.keyForBatchId(ir),this.keyForBatchId(Number.POSITIVE_INFINITY));return yt(t).loadAll(n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this,r=IDBKeyRange.bound(this.keyForBatchId(ir),this.keyForBatchId(e));return yt(t).loadAll(r).next(function(t){return t.map(function(t){return n.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=vr.prefixForPath(this.userId,e.path),o=IDBKeyRange.lowerBound(r),i=[];return vt(t).iterate({range:o},function(r,o,s){var a=r[0],c=r[1],l=r[2],h=ht(c);if(a!==n.userId||!e.path.equals(h))return void s.done();var p=n.keyForBatchId(l);return yt(t).get(p).next(function(t){null===t&&u("Dangling document-mutation reference found: "+r+" which points to "+p),i.push(n.serializer.fromDbMutationBatch(t))})}).next(function(){return i})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;c(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var r=e.path,o=r.length+1,i=vr.prefixForPath(this.userId,r),s=(i[1],IDBKeyRange.lowerBound(i)),a=new hn(M);return vt(t).iterate({range:s},function(t,e,i){var s=t[0],u=t[1],c=t[2],l=ht(u);if(s!==n.userId||!r.isPrefixOf(l))return void i.done();l.length===o&&(a=a.add(c))}).next(function(){var e=[],r=[];return a.forEach(function(o){var i=n.keyForBatchId(o);r.push(yt(t).get(i).next(function(t){null===t&&u("Dangling document-mutation reference found, which points to "+i),e.push(n.serializer.fromDbMutationBatch(t))}))}),Gn.waitFor(r).next(function(){return e})})},t.prototype.removeMutationBatches=function(t,e){for(var n=yt(t),r=vt(t),o=[],i=this,s=0,a=e;s<a.length;s++){var u=a[s];!function(t){var e=IDBKeyRange.only(i.keyForBatchId(t.batchId)),s=0,a=n.iterate({range:e},function(t,e,n){return s++,n.delete()});o.push(a.next(function(){c(1===s,"Dangling document-mutation reference found: Missing batch "+t.batchId)}));for(var u=0,l=t.mutations;u<l.length;u++){var h=l[u],p=vr.key(i.userId,h.key.path,t.batchId);o.push(r.delete(p)),null!==i.garbageCollector&&i.garbageCollector.addPotentialGarbageKey(h.key)}}(u)}return Gn.waitFor(o)},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Gn.resolve();var r=IDBKeyRange.lowerBound(vr.prefixForUser(e.userId)),o=[];return vt(t).iterate({range:r},function(t,n,r){if(t[0]!==e.userId)return void r.done();var i=ht(t[1]);o.push(i)}).next(function(){c(0===o.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+o.map(function(t){return t.canonicalString()}))})})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=this,r=vr.prefixForPath(this.userId,e.path),o=r[1],i=IDBKeyRange.lowerBound(r),s=!1;return vt(t).iterate({range:i,keysOnly:!0},function(t,e,r){var i=t[0],a=t[1];t[2];i===n.userId&&a===o&&(s=!0),r.done()}).next(function(){return s})},t.prototype.keyForBatchId=function(t){return[this.userId,t]},t}(),Nr=function(){function t(t){this.serializer=t,this.lastRemoteSnapshotVersion=Qe.MIN,this.metadata=new wr(0,0,Qe.MIN.toTimestamp()),this.garbageCollector=null}return t.prototype.start=function(t){var e=this;return _t(t).get(wr.key).next(function(t){if(null!==t){e.metadata=t;var n=t.lastRemoteSnapshotVersion;e.lastRemoteSnapshotVersion=Qe.fromTimestamp(new Ge(n.seconds,n.nanos))}return Gn.resolve()})},t.prototype.getHighestTargetId=function(){return this.metadata.highestTargetId},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,this.metadata.lastRemoteSnapshotVersion=e.toTimestamp(),_t(t).put(wr.key,this.metadata)},t.prototype.addQueryData=function(t,e){var n=this,r=e.targetId,o=bt(t).put(this.serializer.toDbTarget(e));return r>this.metadata.highestTargetId?(this.metadata.highestTargetId=r,o.next(function(){return _t(t).put(wr.key,n.metadata)})):o},t.prototype.removeQueryData=function(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){bt(t).delete(e.targetId)})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),i=null;return bt(t).iterate({range:o,index:br.queryTargetsIndexName},function(t,r,o){var s=n.serializer.fromDbTarget(r);e.equals(s.query)&&(i=s,o.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=[],o=wt(t);return e.forEach(function(t){var e=ut(t.path);r.push(o.put(new _r(n,e)))}),Gn.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,o=[],i=wt(t);return e.forEach(function(t){var e=ut(t.path);o.push(i.delete([n,e])),null!==r.garbageCollector&&r.garbageCollector.addPotentialGarbageKey(t)}),Gn.waitFor(o)},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=wt(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return this.notifyGCForRemovedKeys(t,r).next(function(){return n.delete(r)})},t.prototype.notifyGCForRemovedKeys=function(t,e){var n=this,r=wt(t);return null!==this.garbageCollector&&this.garbageCollector.isEager?r.iterate({range:e,keysOnly:!0},function(t,e,r){var o=ht(t[1]),i=new ae(o);c(null!==n.garbageCollector,"GarbageCollector for query cache set to null during key removal."),n.garbageCollector.addPotentialGarbageKey(i)}):Gn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=wt(t),o=et();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=ht(t[1]),i=new ae(r);o=o.add(i)}).next(function(){return o})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){c(null!==t,"Persistence Transaction cannot be null for query cache containsKey");var n=ut(e.path),r=IDBKeyRange.bound([n],[V(n)],!1,!0),o=0;return wt(t).iterate({index:_r.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){o++,n.done()}).next(function(){return o>0})},t}(),Ar=function(){function t(t){this.serializer=t}return t.prototype.addEntry=function(t,e){return Ct(t).put(St(e.key),this.serializer.toDbRemoteDocument(e))},t.prototype.removeEntry=function(t,e){return Ct(t).delete(St(e))},t.prototype.getEntry=function(t,e){var n=this;return Ct(t).get(St(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=$(),o=e.path.toArray(),i=IDBKeyRange.lowerBound(o);return Ct(t).iterate({range:i},function(t,o,i){var s=n.serializer.fromDbRemoteDocument(o);e.path.isPrefixOf(s.key.path)?s instanceof ue&&e.matches(s)&&(r=r.insert(s.key,s)):i.done()}).next(function(){return r})},t}(),Pr=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document);if(t.noDocument){var e=ae.fromSegments(t.noDocument.path),n=t.noDocument.readTime,r=new Ge(n.seconds,n.nanos);return new ce(e,Qe.fromTimestamp(r))}return u("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof ue){var e=this.remoteSerializer.toDocument(t);return new gr(null,e)}var n=t.key.path.toArray(),r=t.version.toTimestamp(),o=new pr(r.seconds,r.nanos);return new gr(new mr(n,o),null)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new yr(t,e.batchId,e.localWriteTime.toEpochMilliseconds(),r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=Ge.fromEpochMilliseconds(t.localWriteTimeMs);return new sr(t.batchId,r,n)},t.prototype.fromDbTarget=function(t){var e,n=new Ge(t.readTime.seconds,t.readTime.nanos),r=Qe.fromTimestamp(n);return e=Ot(t.query)?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Je(e,t.targetId,ve.Listen,r,t.resumeToken)},t.prototype.toDbTarget=function(t){c(ve.Listen===t.purpose,"Only queries with purpose "+ve.Listen+" may be stored, got "+t.purpose);var e,n=t.snapshotVersion.toTimestamp(),r=new pr(n.seconds,n.nanos);e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),c("string"==typeof t.resumeToken,"Persisting non-string resume token not supported.");var o=t.resumeToken;return new br(t.targetId,t.query.canonicalId(),r,o,0,e)},t}(),Rr="There is another tab open with offline persistence enabled. Only one such tab is allowed at a time. The other tab must be closed or persistence must be disabled.",xr=function(){function t(e,n){this.ownerId=this.generateOwnerId(),this.dbName=e+t.MAIN_DATABASE,this.serializer=new Pr(n),this.localStoragePrefix=e}return t.prototype.start=function(){var e=this;return t.isAvailable()?(c(!this.started,"IndexedDbPersistence double-started!"),this.started=!0,Cr.openOrCreate(this.dbName,1,pt).then(function(t){e.simpleDb=t}).then(function(){return e.tryAcquireOwnerLease()}).then(function(){e.scheduleOwnerLeaseRefreshes(),e.attachWindowUnloadHook()})):(this.persistenceError=new zt(Qt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled."),Promise.reject(this.persistenceError))},t.prototype.shutdown=function(){var t=this;return c(this.started,"IndexedDbPersistence shutdown without start!"),this.started=!1,this.detachWindowUnloadHook(),this.stopOwnerLeaseRefreshes(),this.releaseOwnerLease().then(function(){t.simpleDb.close()})},t.prototype.getMutationQueue=function(t){return Ir.forUser(t,this.serializer)},t.prototype.getQueryCache=function(){return new Nr(this.serializer)},t.prototype.getRemoteDocumentCache=function(){return new Ar(this.serializer)},t.prototype.runTransaction=function(t,e){var n=this;return this.persistenceError?Promise.reject(this.persistenceError):(i("IndexedDbPersistence","Starting transaction:",t),this.simpleDb.runTransaction("readwrite",Er,function(t){return n.ensureOwnerLease(t).next(function(){return e(t)})}))},t.isAvailable=function(){return Cr.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.tryAcquireOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[fr.store],function(e){var n=e.store(fr.store);return n.get("owner").next(function(e){if(t.validOwner(e))return i("IndexedDbPersistence","Valid owner already. Failing. Current owner:",e),t.persistenceError=new zt(Qt.FAILED_PRECONDITION,Rr),Gn.reject(t.persistenceError);var r=new fr(t.ownerId,Date.now());return i("IndexedDbPersistence","No valid owner. Acquiring owner lease. Current owner:",e,"New owner:",r),n.put("owner",r)})})},t.prototype.releaseOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[fr.store],function(e){var n=e.store(fr.store);return n.get("owner").next(function(e){return null!==e&&e.ownerId===t.ownerId?(i("IndexedDbPersistence","Releasing owner lease."),n.delete("owner")):Gn.resolve()})})},t.prototype.ensureOwnerLease=function(t){var e=this;return t.store(fr.store).get("owner").next(function(t){return null===t||t.ownerId!==e.ownerId?(e.persistenceError=new zt(Qt.FAILED_PRECONDITION,Rr),Gn.reject(e.persistenceError)):Gn.resolve()})},t.prototype.validOwner=function(t){var e=Date.now(),n=e-5e3,r=e;return null!==t&&(!(t.leaseTimestampMs<n)&&(t.leaseTimestampMs>r?(s("Persistence owner-lease is in the future. Discarding.",t),!1):t.ownerId!==this.getZombiedOwnerId()))},t.prototype.scheduleOwnerLeaseRefreshes=function(){var t=this;this.ownerLeaseRefreshHandle=setInterval(function(){t.runTransaction("Refresh owner timestamp",function(e){return e.store(fr.store).put("owner",new fr(t.ownerId,Date.now()))}).catch(function(e){s(e),t.stopOwnerLeaseRefreshes()})},4e3)},t.prototype.stopOwnerLeaseRefreshes=function(){this.ownerLeaseRefreshHandle&&(clearInterval(this.ownerLeaseRefreshHandle),this.ownerLeaseRefreshHandle=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;this.windowUnloadHandler=function(){t.setZombiedOwnerId(t.ownerId),t.shutdown()},window.addEventListener("unload",this.windowUnloadHandler)},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.getZombiedOwnerId=function(){try{var t=window.localStorage.getItem(this.zombiedOwnerLocalStorageKey());return i("IndexedDbPersistence","Zombied ownerID from LocalStorage:",t),t}catch(t){return s("IndexedDbPersistence","Failed to get zombie owner id.",t),null}},t.prototype.setZombiedOwnerId=function(t){try{null===t?window.localStorage.removeItem(this.zombiedOwnerLocalStorageKey()):window.localStorage.setItem(this.zombiedOwnerLocalStorageKey(),t)}catch(t){s("IndexedDbPersistence","Failed to set zombie owner id.",t)}},t.prototype.zombiedOwnerLocalStorageKey=function(){return this.localStoragePrefix+"zombiedOwnerId"},t.prototype.generateOwnerId=function(){return Jt.newId()},t.MAIN_DATABASE="main",t}(),kr=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.remoteDocumentCache.getEntry(t,e).next(function(r){return n.computeLocalDocument(t,e,r)})},t.prototype.getDocuments=function(t,e){var n=this,r=[],o=Z();return e.forEach(function(e){r.push(n.getDocument(t,e).next(function(t){t||(t=new ce(e,Qe.forDeletedDoc())),o=o.insert(e,t)}))}),Gn.waitFor(r).next(function(){return o})},t.prototype.getDocumentsMatchingQuery=function(t,e){return ae.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new ae(e)).next(function(t){var e=$();return t instanceof ue&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(e){return r.computeLocalDocuments(t,e)}).next(function(o){return n=o,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){for(var o=et(),i=0,s=e;i<s.length;i++)for(var a=s[i],u=0,c=a.mutations;u<c.length;u++){var l=c[u];n.get(l.key)||(o=o.add(l.key))}var h=[];return o.forEach(function(e){h.push(r.getDocument(t,e).next(function(t){t instanceof ue&&(n=n.insert(t.key,t))}))}),Gn.waitFor(h)}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t.prototype.computeLocalDocument=function(t,e,n){return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(t){for(var r=0,o=t;r<o.length;r++){var i=o[r];n=i.applyToLocalView(e,n)}return n})},t.prototype.computeLocalDocuments=function(t,e){var n=this,r=[];return e.forEach(function(o,i){r.push(n.computeLocalDocument(t,o,i).next(function(t){t instanceof ue?e=e.insert(t.key,t):t instanceof ce?e=e.remove(t.key):u("Unknown MaybeDocument: "+t)}))}),Gn.waitFor(r).next(function(){return e})},t}(),Dr=function(){function t(t){this.remoteDocumentCache=t,this.changes=Z()}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this.assertChanges(),r=n.get(e);return r?Gn.resolve(r):this.remoteDocumentCache.getEntry(t,e)},t.prototype.apply=function(t){var e=this,n=this.assertChanges(),r=[];return n.forEach(function(n,o){r.push(e.remoteDocumentCache.addEntry(t,o))}),this.changes=null,Gn.waitFor(r)},t.prototype.assertChanges=function(){return c(null!==this.changes,"Changes have already been applied."),this.changes},t}(),Mr=function(){function t(t,e,n){this.persistence=t,this.garbageCollector=n,this.localViewReferences=new Jn,this.targetIds={},this.targetIdGenerator=$n.forLocalStore(),this.heldBatchResults=[],this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new kr(this.remoteDocuments,this.mutationQueue),this.garbageCollector.addGarbageSource(this.localViewReferences),this.garbageCollector.addGarbageSource(this.queryCache),this.garbageCollector.addGarbageSource(this.mutationQueue)}return t.prototype.start=function(){var t=this;return this.persistence.runTransaction("Start LocalStore",function(e){return t.startMutationQueue(e).next(function(){return t.startQueryCache(e)})})},t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(o){return r=o,e.garbageCollector.removeGarbageSource(e.mutationQueue),e.mutationQueue=e.persistence.getMutationQueue(t),e.garbageCollector.addGarbageSource(e.mutationQueue),e.startMutationQueue(n)}).next(function(){return e.localDocuments=new kr(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var o=et(),i=0,s=[r,t];i<s.length;i++)for(var a=s[i],u=0,c=a;u<c.length;u++)for(var l=c[u],h=0,p=l.mutations;h<p.length;h++){var f=p[h];o=o.add(f.key)}return e.localDocuments.getDocuments(n,o)})})},t.prototype.startQueryCache=function(t){var e=this;return this.queryCache.start(t).next(function(){var t=e.queryCache.getHighestTargetId();e.targetIdGenerator=$n.forLocalStore(t)})},t.prototype.startMutationQueue=function(t){var e=this;return this.mutationQueue.start(t).next(function(){return e.heldBatchResults=[],e.mutationQueue.getHighestAcknowledgedBatchId(t)}).next(function(n){return n!==ir?e.mutationQueue.getAllMutationBatchesThroughBatchId(t,n):Gn.resolve([])}).next(function(n){return n.length>0?e.mutationQueue.removeMutationBatches(t,n):Gn.resolve()})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations",function(n){var r,o=Ge.now();return e.mutationQueue.addMutationBatch(n,o,t).next(function(t){r=t;var o=r.keys();return e.localDocuments.getDocuments(n,o)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch",function(n){var r;return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){if(e.shouldHoldBatchResult(t.commitVersion))return e.heldBatchResults.push(t),r=et(),Gn.resolve();var o=new Dr(e.remoteDocuments);return e.releaseBatchResults(n,[t],o).next(function(t){return r=t,o.apply(n)})}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch",function(n){var r,o;return e.mutationQueue.lookupMutationBatch(n,t).next(function(o){return c(null!=o,"Attempt to reject nonexistent batch!"),r=o,e.mutationQueue.getHighestAcknowledgedBatchId(n).next(function(e){return c(t>e,"Acknowledged batches can't be rejected."),r})}).next(function(){return e.removeMutationBatch(n,r)}).next(function(t){return o=t,e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,o)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){return this.queryCache.getLastRemoteSnapshotVersion()},t.prototype.applyRemoteEvent=function(t){var e=this,n=new Dr(this.remoteDocuments);return this.persistence.runTransaction("Apply remote event",function(r){var o=[];d(t.targetChanges,function(t,n){var i=e.targetIds[t];if(i){var s=n.mapping;if(s)if(s instanceof bn)o.push(e.queryCache.removeMatchingKeysForTargetId(r,t).next(function(){return e.queryCache.addMatchingKeys(r,s.documents,t)}));else{if(!(s instanceof _n))return u("Unknown mapping type: "+JSON.stringify(s));o.push(e.queryCache.removeMatchingKeys(r,s.removedDocuments,t).next(function(){return e.queryCache.addMatchingKeys(r,s.addedDocuments,t)}))}var a=n.resumeToken;a.length>0&&(i=i.update({resumeToken:a,snapshotVersion:n.snapshotVersion}),e.targetIds[t]=i,o.push(e.queryCache.addQueryData(r,i)))}});var s=et();t.documentUpdates.forEach(function(t,a){s=s.add(t),o.push(n.getEntry(r,t).next(function(r){null==r||a.version.equals(Qe.MIN)||a.version.compareTo(r.version)>=0?n.addEntry(a):i("LocalStore","Ignoring outdated watch update for ",t,". Current version:",r.version," Watch version:",a.version),e.garbageCollector.addPotentialGarbageKey(t)}))});var a=e.queryCache.getLastRemoteSnapshotVersion(),l=t.snapshotVersion;l.equals(Qe.MIN)||(c(l.compareTo(a)>=0,"Watch stream reverted to previous snapshot?? "+l+" < "+a),o.push(e.queryCache.setLastRemoteSnapshotVersion(r,l)));var h;return Gn.waitFor(o).next(function(){return e.releaseHeldBatchResults(r,n)}).next(function(t){return h=t,n.apply(r)}).next(function(){return e.localDocuments.getDocuments(r,s.unionWith(h))})})},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("Notify local view changes",function(n){for(var r=[],o=0,i=t;o<i.length;o++){var s=i[o];!function(t){r.push(e.queryCache.getQueryData(n,t.query).next(function(n){c(null!==n,"Local view changes contain unallocated query.");var r=n.targetId;e.localViewReferences.addReferences(t.addedKeys,r),e.localViewReferences.removeReferences(t.removedKeys,r)}))}(s)}return Gn.waitFor(r)})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch",function(n){return void 0===t&&(t=ir),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(o){if(o)return r=o,Gn.resolve();var i=e.targetIdGenerator.next();return r=new Je(t,i,ve.Listen),e.queryCache.addQueryData(n,r)}).next(function(){return c(!e.targetIds[r.targetId],"Tried to allocate an already allocated query: "+t),e.targetIds[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t){var e=this;return this.persistence.runTransaction("Release query",function(n){return e.queryCache.getQueryData(n,t).next(function(r){return c(null!=r,"Tried to release nonexistent query: "+t),e.localViewReferences.removeReferencesForId(r.targetId),delete e.targetIds[r.targetId],e.garbageCollector.isEager?e.queryCache.removeQueryData(n,r):Gn.resolve()}).next(function(){if(v(e.targetIds)){var t=new Dr(e.remoteDocuments);return e.releaseHeldBatchResults(n,t).next(function(){t.apply(n)})}return Gn.resolve()})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.collectGarbage=function(){var t=this;return this.persistence.runTransaction("Garbage collection",function(e){return t.garbageCollector.collectGarbage(e).next(function(n){var r=[];return n.forEach(function(n){r.push(t.remoteDocuments.removeEntry(e,n))}),Gn.waitFor(r)})})},t.prototype.releaseHeldBatchResults=function(t,e){for(var n=[],r=0,o=this.heldBatchResults;r<o.length;r++){var i=o[r];if(!this.isRemoteUpToVersion(i.commitVersion))break;n.push(i)}return 0===n.length?Gn.resolve(et()):(this.heldBatchResults.splice(0,n.length),this.releaseBatchResults(t,n,e))},t.prototype.isRemoteUpToVersion=function(t){var e=this.queryCache.getLastRemoteSnapshotVersion();return t.compareTo(e)<=0||v(this.targetIds)},t.prototype.shouldHoldBatchResult=function(t){return!this.isRemoteUpToVersion(t)||this.heldBatchResults.length>0},t.prototype.releaseBatchResults=function(t,e,n){for(var r=this,o=Gn.resolve(),i=0,s=e;i<s.length;i++){var a=s[i];!function(e){o=o.next(function(){return r.applyWriteToRemoteDocuments(t,e,n)})}(a)}return o.next(function(){return r.removeMutationBatches(t,e.map(function(t){return t.batch}))})},t.prototype.removeMutationBatch=function(t,e){return this.removeMutationBatches(t,[e])},t.prototype.removeMutationBatches=function(t,e){for(var n=et(),r=0,o=e;r<o.length;r++)for(var i=o[r],s=0,a=i.mutations;s<a.length;s++){var u=a[s],c=u.key;n=n.add(c)}return this.mutationQueue.removeMutationBatches(t,e).next(function(){return n})},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=e.batch,o=r.keys(),i=Gn.resolve();return o.forEach(function(o){i=i.next(function(){return n.getEntry(t,o)}).next(function(t){var i=t,s=e.docVersions.get(o);c(null!==s,"ackVersions should contain every doc in the write."),(!i||i.version.compareTo(s)<0)&&(i=r.applyToRemoteDocument(o,i,e),i?n.addEntry(i):c(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))})}),i},t}(),Lr=function(){function t(){this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=ir,this.lastStreamToken=l(),this.garbageCollector=null,this.batchesByDocumentKey=new hn(Xn.compareByKey)}return t.prototype.start=function(t){return 0===this.mutationQueue.length&&(this.nextBatchId=1,this.highestAcknowledgedBatchId=ir),c(this.highestAcknowledgedBatchId<this.nextBatchId,"highestAcknowledgedBatchId must be less than the nextBatchId"),Gn.resolve()},t.prototype.checkEmpty=function(t){return Gn.resolve(0===this.mutationQueue.length)},t.prototype.getNextBatchId=function(t){return Gn.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return Gn.resolve(this.highestAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;c(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var o=this.indexOfExistingBatchId(r,"acknowledged"),i=this.mutationQueue[o];return c(r===i.batchId,"Queue ordering failure: expected batch "+r+", got batch "+i.batchId),c(!i.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,Gn.resolve()},t.prototype.getLastStreamToken=function(t){return Gn.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Gn.resolve()},t.prototype.addMutationBatch=function(t,e,n){c(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;if(this.nextBatchId++,this.mutationQueue.length>0){c(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order")}var o=new sr(r,e,n);this.mutationQueue.push(o);for(var i=0,s=n;i<s.length;i++){var a=s[i];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Xn(a.key,r))}return Gn.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Gn.resolve(this.findMutationBatch(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.mutationQueue.length;e=Math.max(e+1,this.highestAcknowledgedBatchId);for(var r=this.indexOfBatchId(e),o=r<0?0:r;o<n;o++){var i=this.mutationQueue[o];if(!i.isTombstone())return Gn.resolve(i)}return Gn.resolve(null)},t.prototype.getAllMutationBatches=function(t){return Gn.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this.mutationQueue.length,r=this.indexOfBatchId(e);return r<0?r=0:r>=n?r=n:r++,Gn.resolve(this.getAllLiveMutationBatchesBeforeIndex(r))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Xn(e,0),o=new Xn(e,Number.POSITIVE_INFINITY),i=[];return this.batchesByDocumentKey.forEachInRange([r,o],function(t){c(e.equals(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);c(null!==r,"Batches in the index must exist in the main table"),i.push(r)}),Gn.resolve(i)},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,o=r.length+1,i=r;ae.isDocumentKey(i)||(i=i.child(""));var s=new Xn(new ae(i),0),a=new hn(M);this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!r.isPrefixOf(e)&&(e.length===o&&(a=a.add(t.targetOrBatchId)),!0)},s);var u=[];return a.forEach(function(t){var e=n.findMutationBatch(t);null!==e&&u.push(e)}),Gn.resolve(u)},t.prototype.removeMutationBatches=function(t,e){var n=e.length;c(n>0,"Should not remove mutations when none exist.");var r=e[0].batchId,o=this.mutationQueue.length,i=this.indexOfExistingBatchId(r,"removed");c(this.mutationQueue[i].batchId===r,"Removed batches must exist in the queue");for(var s=1,a=i+1;s<n&&a<o;){var u=this.mutationQueue[a];u.isTombstone()?a++:(c(u.batchId===e[s].batchId,"Removed batches must be contiguous in the queue"),s++,a++)}if(0===i){for(;a<o;a++){var u=this.mutationQueue[a];if(!u.isTombstone())break}var l=a-i;this.mutationQueue.splice(i,l)}else for(var h=i;h<a;h++)this.mutationQueue[h]=this.mutationQueue[h].toTombstone();for(var p=this.batchesByDocumentKey,f=0,d=e;f<d.length;f++)for(var u=d[f],y=u.batchId,v=0,m=u.mutations;v<m.length;v++){var g=m[v],b=g.key;null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(b);var _=new Xn(b,y);p=p.delete(_)}return this.batchesByDocumentKey=p,Gn.resolve()},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new Xn(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Gn.resolve(e.equals(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&c(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Gn.resolve()},t.prototype.getAllLiveMutationBatchesBeforeIndex=function(t){for(var e=[],n=0;n<t;n++){var r=this.mutationQueue[n];r.isTombstone()||e.push(r)}return e},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return c(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return c(n.batchId===t,"If found batch must match"),n.isTombstone()?null:n},t}(),jr=function(){function t(){this.queries=new qn(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Qe.MIN,this.highestTargetId=0,this.references=new Jn}return t.prototype.start=function(t){return Gn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.getHighestTargetId=function(){return this.highestTargetId},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,Gn.resolve()},t.prototype.addQueryData=function(t,e){this.queries.set(e.query,e);var n=e.targetId;return n>this.highestTargetId&&(this.highestTargetId=n),Gn.resolve()},t.prototype.removeQueryData=function(t,e){return this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),Gn.resolve()},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return Gn.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.references.addReferences(e,n),Gn.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){return this.references.removeReferences(e,n),Gn.resolve()},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Gn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Gn.resolve(n)},t.prototype.setGarbageCollector=function(t){this.references.setGarbageCollector(t)},t.prototype.containsKey=function(t,e){return this.references.containsKey(t,e)},t}(),Fr=function(){function t(){this.docs=Z()}return t.prototype.addEntry=function(t,e){return this.docs=this.docs.insert(e.key,e),Gn.resolve()},t.prototype.removeEntry=function(t,e){return this.docs=this.docs.remove(e),Gn.resolve()},t.prototype.getEntry=function(t,e){return Gn.resolve(this.docs.get(e))},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=$(),r=new ae(e.path.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var i=o.getNext(),s=i.key,a=i.value;if(!e.path.isPrefixOf(s.path))break;a instanceof ue&&e.matches(a)&&(n=n.insert(a.key,a))}return Gn.resolve(n)},t}(),Vr=function(){function t(){this.mutationQueues={},this.remoteDocumentCache=new Fr,this.queryCache=new jr,this.started=!1}return t.prototype.start=function(){return c(!this.started,"MemoryPersistence double-started!"),this.started=!0,Promise.resolve()},t.prototype.shutdown=function(){return c(this.started,"MemoryPersistence shutdown without start!"),this.started=!1,Promise.resolve()},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Lr,this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e){return i("MemoryPersistence","Starting transaction:",t),e(new Ur).toPromise()},t}(),Ur=function(){function t(){}return t}(),Br=function(){function t(){this.isEager=!1}return t.prototype.addGarbageSource=function(t){},t.prototype.removeGarbageSource=function(t){},t.prototype.addPotentialGarbageKey=function(t){},t.prototype.collectGarbage=function(t){return Gn.resolve(et())},t}(),qr=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t}(),Wr=function(){function t(t,e,n){this.initialDelayMs=t,this.backoffFactor=e,this.maxDelayMs=n,this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndWait=function(){var t=new qr,e=this.currentBaseMs+this.jitterDelayMs();return this.currentBaseMs>0&&i("ExponentialBackoff","Backing off for "+e+" ms (base delay: "+this.currentBaseMs+" ms)"),setTimeout(function(){t.resolve()},e),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs),t.promise},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),Hr=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.Initial=0]="Initial",t[t.Auth=1]="Auth",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t[t.Stopped=5]="Stopped"}(Zn||(Zn={}));var Kr,Gr=1e3,Qr=6e4,zr=1.5,Jr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentialsProvider=n,this.idle=!1,this.stream=null,this.listener=null,this.backoff=new Wr(r||Gr,zr,Qr),this.state=Zn.Initial}return t.prototype.isStarted=function(){return this.state===Zn.Backoff||this.state===Zn.Auth||this.state===Zn.Open},t.prototype.isOpen=function(){return this.state===Zn.Open},t.prototype.start=function(t){if(this.state===Zn.Error)return void this.performBackoff(t);c(this.state===Zn.Initial,"Already started"),this.listener=t,this.auth()},t.prototype.stop=function(){this.isStarted()&&this.close(Zn.Stopped)},t.prototype.inhibitBackoff=function(){c(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Zn.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.idle=!0,this.queue.schedule(function(){return t.handleIdleCloseTimer()},6e4).catch(function(t){c(t.code===Qt.CANCELLED,"Received unexpected error in idle timeout closure. Expected CANCELLED, but was: "+t)})},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return this.isOpen()&&this.idle?this.close(Zn.Initial):Promise.resolve()},t.prototype.cancelIdleCheck=function(){this.idle=!1},t.prototype.close=function(t,e){c(t==Zn.Error||H(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),t!=Zn.Error?this.backoff.reset():e&&e.code===Qt.RESOURCE_EXHAUSTED&&(i("PersistentStream","Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t;var n=this.listener;return this.listener=null,t!=Zn.Stopped?n.onClose(e):Promise.resolve()},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;c(this.state===Zn.Initial,"Must be in initial state to auth"),this.state=Zn.Auth,this.credentialsProvider.getToken(!1).then(function(e){t.startStream(e)},function(e){t.queue.schedule(function(){if(t.state!==Zn.Stopped){var n=new zt(Qt.UNKNOWN,"Fetching auth token failed: "+e.message);return t.handleStreamClose(n)}return Promise.resolve()})})},t.prototype.startStream=function(t){var e=this;if(this.state!==Zn.Stopped){c(this.state===Zn.Auth,"Trying to start stream in a non-auth state");var n=function(t,n){e.queue.schedule(function(){return e.stream===t?n():Promise.resolve()})};if(null!==this.listener){var r=this.startRpc(t);this.stream=r,this.stream.onOpen(function(){n(r,function(){return c(e.state===Zn.Auth,"Expected stream to be in state auth, but was "+e.state),e.state=Zn.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(r,function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(r,function(){return e.onMessage(t)})})}}},t.prototype.performBackoff=function(t){var e=this;c(this.state===Zn.Error,"Should only perform backoff in an error case"),this.state=Zn.Backoff,this.backoff.backoffAndWait().then(function(){e.queue.schedule(function(){return e.state===Zn.Stopped?Promise.resolve():(e.state=Zn.Initial,e.start(t),c(e.isStarted(),"PersistentStream should have started"),Promise.resolve())})})},t.prototype.handleStreamClose=function(t){return c(this.isStarted(),"Can't handle server close on non-started stream"),i("PersistentStream","close with error: "+t),this.stream=null,this.close(Zn.Error,t)},t}(),Xr=function(t){function e(e,n,r,o,i,s){var a=t.call(this,n,r,o,s)||this;return a.databaseInfo=e,a.serializer=i,a}return Hr(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(Jr),Yr=function(t){function e(e,n,r,o,i,s){var a=t.call(this,n,r,o,s)||this;return a.databaseInfo=e,a.serializer=i,a.handshakeComplete_=!1,a}return Hr(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(e){this.handshakeComplete_=!1,t.prototype.start.call(this,e)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(c(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return c(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){c(this.isOpen(),"Writing handshake requires an opened stream"),c(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;c(this.isOpen(),"Writing mutations requires an opened stream"),c(this.handshakeComplete_,"Handshake must be complete before writing mutations"),c(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(Jr),Zr=function(){function t(t,e,n,r,o,i){this.databaseInfo=t,this.queue=e,this.connection=n,this.credentials=r,this.serializer=o,this.initialBackoffDelay=i}return t.prototype.newPersistentWriteStream=function(){return new Yr(this.databaseInfo,this.queue,this.connection,this.credentials,this.serializer,this.initialBackoffDelay)},t.prototype.newPersistentWatchStream=function(){return new Xr(this.databaseInfo,this.queue,this.connection,this.credentials,this.serializer,this.initialBackoffDelay)},t.prototype.commit=function(t){var e=this,n={writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults)})},t.prototype.lookup=function(t){var e=this,n={documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeRPC("batchGet",n).then(function(n){var r=Z();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var o=[];return t.forEach(function(t){var e=r.get(t);c(!!e,"Missing entity in write response for "+t),o.push(e)}),o})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken(!1).then(function(r){return n.connection.invoke(t,e,r)})},t}(),$r=function(){function t(t){this.datastore=t,this.readVersions=tt(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e=t.version;t instanceof ce&&(e=Qe.forDeletedDoc());var n=this.readVersions.get(t.key);if(null!==n){if(!e.equals(n))throw new zt(Qt.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){return e.recordVersion(t)}),t})},t.prototype.write=function(t){if(this.committed)throw new zt(Qt.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?nn.updateTime(e):nn.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.equals(Qe.forDeletedDoc()))throw new zt(Qt.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?nn.updateTime(e):nn.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new un(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Qe.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),to=function(){function t(t,e,n,r,o){this.databaseInfo=t,this.asyncQueue=e,this.localStore=n,this.datastore=r,this.onlineStateHandler=o,this.pendingWrites=[],this.lastBatchSeen=ir,this.listenTargets={},this.pendingTargetResponses={},this.accumulatedWatchChanges=[],this.watchStream=null,this.writeStream=null,this.watchStreamOnlineState=Dn.Unknown,this.watchStreamFailures=0}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.setOnlineStateToHealthy=function(){this.updateAndBroadcastOnlineState(Dn.Healthy)},t.prototype.setOnlineStateToUnknown=function(){this.watchStreamFailures=0,this.updateAndBroadcastOnlineState(Dn.Unknown)},t.prototype.updateOnlineStateAfterFailure=function(){this.watchStreamOnlineState===Dn.Healthy?this.setOnlineStateToUnknown():++this.watchStreamFailures>=2&&this.updateAndBroadcastOnlineState(Dn.Failed)},t.prototype.updateAndBroadcastOnlineState=function(t){var e=this.watchStreamOnlineState!==t;this.watchStreamOnlineState=t,e&&this.onlineStateHandler(t)},t.prototype.isNetworkEnabled=function(){return c(null==this.watchStream==(null==this.writeStream),"WatchStream and WriteStream should both be null or non-null"),null!=this.watchStream},t.prototype.enableNetwork=function(){var t=this;return c(null==this.watchStream,"enableNetwork() called with non-null watchStream."),c(null==this.writeStream,"enableNetwork() called with non-null writeStream."),this.watchStream=this.datastore.newPersistentWatchStream(),this.writeStream=this.datastore.newPersistentWriteStream(),this.localStore.getLastStreamToken().then(function(e){return t.writeStream.lastStreamToken=e,t.shouldStartWatchStream()&&t.startWatchStream(),t.updateAndBroadcastOnlineState(Dn.Unknown),t.fillWritePipeline()})},t.prototype.disableNetwork=function(){return this.updateAndBroadcastOnlineState(Dn.Failed),this.watchStream.stop(),this.writeStream.stop(),this.cleanUpWatchStreamState(),this.cleanUpWriteStreamState(),this.writeStream=null,this.watchStream=null,Promise.resolve()},t.prototype.shutdown=function(){return i("RemoteStore","RemoteStore shutting down."),this.disableNetwork(),Promise.resolve(void 0)},t.prototype.listen=function(t){c(!p(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.isNetworkEnabled()&&this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){c(p(this.listenTargets,t),"unlisten called without assigned target ID!");this.listenTargets[t];delete this.listenTargets[t],this.isNetworkEnabled()&&this.watchStream.isOpen()&&(this.sendUnwatchRequest(t),v(this.listenTargets)&&this.watchStream.markIdle())},t.prototype.sendWatchRequest=function(t){this.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.recordPendingTargetRequest=function(t){this.pendingTargetResponses[t]=(this.pendingTargetResponses[t]||0)+1},t.prototype.startWatchStream=function(){c(this.shouldStartWatchStream(),"startWriteStream() called when shouldStartWatchStream() is false."),this.watchStream.start({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)})},t.prototype.shouldStartWatchStream=function(){return this.isNetworkEnabled()&&!this.watchStream.isStarted()&&!v(this.listenTargets)},t.prototype.cleanUpWatchStreamState=function(){this.accumulatedWatchChanges=[],this.pendingTargetResponses={}},t.prototype.onWatchStreamOpen=function(){var t=this;return d(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),Promise.resolve()},t.prototype.onWatchStreamClose=function(t){return c(this.isNetworkEnabled(),"onWatchStreamClose() should only be called when the network is enabled"),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.updateOnlineStateAfterFailure(),this.startWatchStream()):this.setOnlineStateToUnknown(),Promise.resolve()},t.prototype.onWatchStreamChange=function(t,e){if(this.setOnlineStateToHealthy(),t instanceof Cn&&t.state===mn.Removed&&t.cause)return this.handleTargetError(t);if(this.accumulatedWatchChanges.push(t),!e.equals(Qe.MIN)&&e.compareTo(this.localStore.getLastRemoteSnapshotVersion())>=0){var n=this.accumulatedWatchChanges;return this.accumulatedWatchChanges=[],this.handleWatchChangeBatch(e,n)}return Promise.resolve()},t.prototype.handleWatchChangeBatch=function(t,e){var n=this,r=new Sn(t,this.listenTargets,this.pendingTargetResponses);r.addChanges(e);var o=r.createRemoteEvent();this.pendingTargetResponses=r.pendingTargetResponses;var i=[];return d(r.existenceFilters,function(e,r){var s=n.listenTargets[e];if(s){var a=s.query;if(a.isDocumentQuery())if(0===r.count){var u=new ae(a.path),l=new ce(u,t);o.addDocumentUpdate(l)}else c(1===r.count,"Single document existence filter with count: "+r.count);else{var h=n.localStore.remoteDocumentKeys(e).then(function(t){if(o.targetChanges[e]){var i=o.targetChanges[e].mapping;null!==i&&(i instanceof _n?t=i.applyToKeySet(t):(c(i instanceof bn,"Expected either reset or update mapping but got something else: "+i),t=i.documents))}if(t.size!==r.count){o.handleExistenceFilterMismatch(e);var u=new Je(a,e,s.purpose);n.listenTargets[e]=u,n.sendUnwatchRequest(e);var l=new Je(a,e,ve.ExistenceFilterMismatch);n.sendWatchRequest(l)}});i.push(h)}}}),Promise.all(i).then(function(){return d(o.targetChanges,function(t,e){if(e.resumeToken.length>0){var r=n.listenTargets[t];r&&(n.listenTargets[t]=r.update({resumeToken:e.resumeToken,snapshotVersion:e.snapshotVersion}))}}),n.syncEngine.applyRemoteEvent(o)})},t.prototype.handleTargetError=function(t){var e=this;c(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return p(e.listenTargets,t)?(delete e.listenTargets[t],e.syncEngine.rejectListen(t,n)):Promise.resolve()})}),r},t.prototype.cleanUpWriteStreamState=function(){this.lastBatchSeen=ir,this.pendingWrites=[]},t.prototype.fillWritePipeline=function(){var t=this;return this.canWriteMutations()?this.localStore.nextMutationBatch(this.lastBatchSeen).then(function(e){return null===e?(0==t.pendingWrites.length&&t.writeStream.markIdle(),Promise.resolve()):(t.commit(e),t.fillWritePipeline())}):Promise.resolve()},t.prototype.canWriteMutations=function(){return this.isNetworkEnabled()&&this.pendingWrites.length<10},t.prototype.outstandingWrites=function(){return this.pendingWrites.length},t.prototype.commit=function(t){c(this.canWriteMutations(),"commit called when batches can't be written"),this.lastBatchSeen=t.batchId,this.pendingWrites.push(t),this.shouldStartWriteStream()?this.startWriteStream():this.isNetworkEnabled()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.isNetworkEnabled()&&!this.writeStream.isStarted()&&this.pendingWrites.length>0},t.prototype.startWriteStream=function(){c(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})},t.prototype.onWriteStreamOpen=function(){return this.writeStream.writeHandshake(),Promise.resolve()},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.pendingWrites;e<n.length;e++){var r=n[e];t.writeStream.writeMutations(r.mutations)}})},t.prototype.onMutationResult=function(t,e){var n=this;c(this.pendingWrites.length>0,"Got result for empty pending writes");var r=this.pendingWrites.shift(),o=ar.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(o).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){var e=this;if(c(this.isNetworkEnabled(),"onWriteStreamClose() should only be called when the network is enabled"),t&&this.pendingWrites.length>0){c(!!t,"We have pending writes, but the write stream closed without an error");var n=void 0;return n=this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t),n.then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})}return Promise.resolve()},t.prototype.handleHandshakeError=function(t){return Q(t.code)||t.code===Qt.ABORTED?(i("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=l(),this.localStore.setLastStreamToken(l())):Promise.resolve()},t.prototype.handleWriteError=function(t){var e=this;if(Q(t.code)){var n=this.pendingWrites.shift();return this.writeStream.inhibitBackoff(),this.syncEngine.rejectFailedWrite(n.batchId,t).then(function(){return e.fillWritePipeline()})}return Promise.resolve()},t.prototype.createTransaction=function(){return new $r(this.datastore)},t.prototype.handleUserChange=function(t){return i("RemoteStore","RemoteStore changing users: uid=",t.uid),this.disableNetwork(),this.enableNetwork()},t}(),eo=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r}return t.prototype.start=function(t){var e=this,n=new qr,r=new qr,o=!1;return this.credentials.setUserChangeListener(function(i){o?e.asyncQueue.schedule(function(){return e.handleUserChange(i)}):(o=!0,e.initializePersistence(t,r).then(function(){return e.initializeRest(i)}).then(n.resolve,n.reject))}),this.asyncQueue.schedule(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.schedule(function(){return t.remoteStore.enableNetwork()})},t.prototype.initializePersistence=function(t,e){var n=this;return t?this.startIndexedDbPersistence().then(e.resolve).catch(function(t){return e.reject(t),n.canFallback(t)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),n.startMemoryPersistence()):Promise.reject(t)}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t.code===Qt.FAILED_PRECONDITION||t.code===Qt.UNIMPLEMENTED},t.prototype.startIndexedDbPersistence=function(){this.garbageCollector=new Br;var t=xr.buildStoragePrefix(this.databaseInfo),e=new In(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=new xr(t,e),this.persistence.start()},t.prototype.startMemoryPersistence=function(){return this.garbageCollector=new Qn,this.persistence=new Vr,this.persistence.start()},t.prototype.initializeRest=function(t){var e=this;return this.platform.loadConnection(this.databaseInfo).then(function(n){e.localStore=new Mr(e.persistence,t,e.garbageCollector);var r=e.platform.newSerializer(e.databaseInfo.databaseId),o=new Zr(e.databaseInfo,e.asyncQueue,n,e.credentials,r),i=function(t){e.eventMgr.onOnlineStateChanged(t)};return e.remoteStore=new to(e.databaseInfo,e.asyncQueue,e.localStore,o,i),e.syncEngine=new or(e.localStore,e.remoteStore,t),e.remoteStore.syncEngine=e.syncEngine,e.eventMgr=new Hn(e.syncEngine),e.localStore.start()}).then(function(){return e.remoteStore.start()})},t.prototype.handleUserChange=function(t){return this.asyncQueue.verifyOperationInProgress(),i("FirestoreClient","User Changed: "+t.uid),this.syncEngine.handleUserChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.schedule(function(){return t.remoteStore.disableNetwork()})},t.prototype.shutdown=function(){var t=this;return this.asyncQueue.schedule(function(){return t.credentials.removeUserChangeListener(),t.remoteStore.shutdown()}).then(function(){return t.persistence.shutdown()})},t.prototype.listen=function(t,e,n){var r=this,o=new Kn(t,e,n);return this.asyncQueue.schedule(function(){return r.eventMgr.listen(o)}),o},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.schedule(function(){return e.eventMgr.unlisten(t)})},t.prototype.write=function(t){var e=this,n=new qr;return this.asyncQueue.schedule(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.schedule(function(){return Promise.resolve()}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),no=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),ro=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.delayedOperationsCount=0,this.operationInProgress=!1}return t.prototype.schedule=function(t,e){var n=this;if(this.failure&&u("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message)),(e||0)>0){this.delayedOperationsCount++;var r={handle:null,op:t,deferred:new qr};return r.handle=setTimeout(function(){n.scheduleInternal(function(){return r.op().then(function(t){r.deferred.resolve(t)})}),r.handle=null,0===--n.delayedOperationsCount&&(n.delayedOperations=[])},e),this.delayedOperations.push(r),r.deferred.promise}return this.scheduleInternal(t)},t.prototype.scheduleInternal=function(t){var e=this;return this.tail=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw s("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(){e.operationInProgress=!1})}),this.tail},t.prototype.verifyOperationInProgress=function(){c(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(t){var e=this;return this.delayedOperations.forEach(function(n){n.handle&&(clearTimeout(n.handle),t?e.scheduleInternal(n.op).then(n.deferred.resolve,n.deferred.reject):n.deferred.reject(new zt(Qt.CANCELLED,"Operation cancelled by shutdown")))}),this.delayedOperations=[],this.delayedOperationsCount=0,this.schedule(function(){return Promise.resolve()})},t}(),oo=function(){function t(t){this.uid=t}return t.prototype.isUnauthenticated=function(){return null==this.uid},t.prototype.toKey=function(){return this.isUnauthenticated()?"anonymous-user":"uid:"+this.uid},t.prototype.equals=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),io=function(){function t(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}return t}(),so=function(){function t(){this.userListener=null}return t.prototype.getToken=function(t){return Promise.resolve(null)},t.prototype.setUserChangeListener=function(t){c(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,t(oo.UNAUTHENTICATED)},t.prototype.removeUserChangeListener=function(){c(null!==this.userListener,"removeUserChangeListener() when no listener registered"),this.userListener=null},t}(),ao=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.userCounter=0,this.userListener=null,this.tokenListener=function(){var t=e.getUser();e.currentUser&&t.equals(e.currentUser)||(e.currentUser=t,e.userCounter++,e.userListener&&e.userListener(e.currentUser))},this.userCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(t){var e=this;c(null!=this.tokenListener,"getToken cannot be called after listener removed.");var n=this.userCounter;return this.app.INTERNAL.getToken(t).then(function(t){if(e.userCounter!==n)throw new zt(Qt.ABORTED,"getToken aborted due to uid change.");return t?(c("string"==typeof t.accessToken,"Invalid tokenData returned from getToken():"+t),new io(t.accessToken,e.currentUser)):null})},t.prototype.setUserChangeListener=function(t){c(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeUserChangeListener=function(){c(null!=this.tokenListener,"removeUserChangeListener() called twice"),c(null!==this.userListener,"removeUserChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.userListener=null},t.prototype.getUser=function(){"function"!=typeof this.app.INTERNAL.getUid&&u("This version of the Firestore SDK requires at least version 3.7.0 of firebase.js.");var t=this.app.INTERNAL.getUid();return c(null===t||"string"==typeof t,"Received invalid UID: "+t),new oo(t)},t}(),uo=function(){function t(t){this.authClient=t}return t.prototype.getToken=function(t){var e=this;return new Promise(function(t,n){e.authClient.getAccessToken(function(e,r){e?n(e):t(new io(r,oo.GOOGLE_CREDENTIALS))})})},t.prototype.setUserChangeListener=function(t){t(oo.GOOGLE_CREDENTIALS)},t.prototype.removeUserChangeListener=function(){},t}(),co=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=oo.FIRST_PARTY,c(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),lo=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,c(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(t){return Promise.resolve(new co(this.gapi,this.sessionIndex))},t.prototype.setUserChangeListener=function(t){t(oo.FIRST_PARTY)},t.prototype.removeUserChangeListener=function(){},t}(),ho=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),po=function(){function t(){}return t.delete=function(){return fo.instance},t.serverTimestamp=function(){return yo.instance},t}(),fo=function(t){function e(){return t.call(this)||this}return ho(e,t),e.instance=new e,e}(po),yo=function(t){function e(){return t.call(this)||this}return ho(e,t),e.instance=new e,e}(po),vo=h(po,"Use FieldValue.<field>() instead."),mo=/^__.*__$/,go=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new sn(t,this.data,this.fieldMask,e)):n.push(new on(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new an(t,this.fieldTransforms)),n},t}(),bo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new sn(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new an(t,this.fieldTransforms)),n},t}();!function(t){t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.QueryValue=3]="QueryValue"}(Kr||(Kr={}));var _o=function(){function t(t,e,n,r,o,i){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===o&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=o||[],this.fieldMask=i||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new zt(Qt.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(At(this.dataSource)&&mo.test(t))throw this.createError("Document fields cannot begin and end with __")},t.prototype.isWrite=function(){return this.dataSource===Kr.Set||this.dataSource===Kr.Update},t}(),wo=function(){function t(t,e){this.databaseId=t,this.key=e}return t}(),Eo=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new _o(Kr.Set,t,se.EMPTY_PATH);Rt("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new go(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e){var n=new _o(Kr.MergeSet,t,se.EMPTY_PATH);Rt("Data must be an object, but it was:",n,e);var r=this.parseData(e,n),o=new Ye(n.fieldMask);return new go(r,o,n.fieldTransforms)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new _o(Kr.Update,t,se.EMPTY_PATH);Rt("Data must be an object, but it was:",r,e);var o=[],i=Ae.EMPTY;y(e,function(e,s){var a=kt(t,e),u=r.childContextForFieldPath(a);if((s=n.runPreConverter(s,u))instanceof fo)o.push(a);else{var c=n.parseData(s,u);null!=c&&(o.push(a),i=i.set(a,c))}});var s=new Ye(o);return new bo(i,s,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var o=new _o(Kr.Update,t,se.EMPTY_PATH),i=[xt(t,e)],s=[n];if(r.length%2!=0)throw new zt(Qt.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)i.push(xt(t,r[a])),s.push(r[a+1]);for(var u=[],c=Ae.EMPTY,a=0;a<i.length;++a){var l=i[a],h=o.childContextForFieldPath(l),p=this.runPreConverter(s[a],h);if(p instanceof fo)u.push(l);else{var f=this.parseData(p,h);null!=f&&(u.push(l),c=c.set(l,f))}}var d=new Ye(u);return new bo(c,d,o.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new _o(Kr.QueryValue,t,se.EMPTY_PATH),r=this.parseData(e,n);return c(null!=r,"Parsed data should not be null."),c(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=Dt(t);throw e.createError(n)}},t.prototype.parseData=function(t,e){if((t=this.runPreConverter(t,e))instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return e.path&&e.fieldMask.push(e.path),this.parseArray(t,e)}return Pt(t)?(Rt("Unsupported field value:",e,t),this.parseObject(t,e)):(e.path&&e.fieldMask.push(e.path),this.parseScalarValue(t,e))},t.prototype.parseArray=function(t,e){for(var n=[],r=0,o=0,i=t;o<i.length;o++){var s=i[o],a=this.parseData(s,e.childContextForArray(r));null==a&&(a=ge.INSTANCE),n.push(a),r++}return new Pe(n)},t.prototype.parseObject=function(t,e){var n=this,r=new le(M);return y(t,function(t,o){var i=n.parseData(o,e.childContextForField(t));null!=i&&(r=r.insert(t,i))}),new Ae(r)},t.prototype.parseScalarValue=function(t,e){if(null===t)return ge.INSTANCE;if("number"==typeof t)return K(t)?new we(t):new Ee(t);if("boolean"==typeof t)return be.of(t);if("string"==typeof t)return new Ce(t);if(t instanceof Date)return new Se(Ge.fromDate(t));if(t instanceof Zt)return new Ne(t);if(t instanceof Xt)return new Te(t);if(t instanceof wo)return new Ie(t.databaseId,t.key);if(t instanceof po){if(t instanceof fo){if(e.dataSource==Kr.MergeSet)return null;throw e.dataSource===Kr.Update?(c(null==e.path||e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() can only be used with update() and set() with {merge:true}")}if(t instanceof yo){if(!At(e.dataSource))throw e.createError("FieldValue.serverTimestamp() can only be used with set() and update()");if(null===e.path)throw e.createError("FieldValue.serverTimestamp() is not currently supported inside arrays");return e.fieldTransforms.push(new $e(e.path,Ze.instance)),null}return u("Unknown FieldValue type: "+t)}throw e.createError("Unsupported field value: "+N(t))},t}(),Co=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),So="firestore.googleapis.com",Oo=!0,To=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new zt(Qt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=So,this.ssl=Oo}else S("settings","string","host",t.host),this.host=t.host,O("settings","boolean","ssl",t.ssl),this.ssl=f(t.ssl,Oo);R("settings",t,["host","ssl","credentials"]),O("settings","object","credentials",t.credentials),this.credentials=t.credentials}return t.prototype.equals=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials},t}(),Io=function(){function t(){}return t}(),No=function(){function t(e){var n=this;this._queue=new ro,this.INTERNAL={delete:function(){return n._firestoreClient?n._firestoreClient.shutdown():Promise.resolve()},disableNetwork:function(){return n._firestoreClient.disableNetwork()},enableNetwork:function(){return n._firestoreClient.enableNetwork()},drainAsyncQueue:function(t){return n._queue.drain(t)}};var r=new Io;if("object"==typeof e.options){var o=e;r.firebaseApp=o,r.databaseId=t.databaseIdFromApp(o),r.persistenceKey=r.firebaseApp.name,r.credentials=new ao(o)}else{var i=e;if(!i.projectId)throw new zt(Qt.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new ee(i.projectId,i.database),r.persistenceKey="[DEFAULT]",r.credentials=new so}r.settings=new To({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(g("Firestore.settings",arguments,1),E("Firestore.settings","object",1,t),p(t,"persistence"))throw new zt(Qt.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new To(t);if(this._firestoreClient&&!this._config.settings.equals(e))throw new zt(Qt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=Tt(e.credentials))},t.prototype.enablePersistence=function(){if(this._firestoreClient)throw new zt(Qt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(!0)},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(!1),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;c(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),c(!this._firestoreClient,"configureClient() called multiple times");var n=new $t(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl),r=function(t){if(t instanceof Ro){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.equals(n))throw new zt(Qt.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new wo(e._config.databaseId,t._key)}return t};return this._dataConverter=new Eo(r),this._firestoreClient=new eo(Kt.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!p(e,"projectId")){if(p(e,"firestoreId"))throw new zt(Qt.INVALID_ARGUMENT,'"firestoreId" is now specified as "projectId" in firebase.initializeApp.');throw new zt(Qt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.')}if(p(e,"firestoreOptions"))throw new zt(Qt.INVALID_ARGUMENT,'"firestoreOptions" values are now specified with Firestore.settings()');var n=e.projectId;if(!n||"string"!=typeof n)throw new zt(Qt.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ee(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new zt(Qt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(g("Firestore.collection",arguments,1),E("Firestore.collection","string",1,t),!t)throw new zt(Qt.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new Mo(oe.fromString(t),this)},t.prototype.doc=function(t){if(g("Firestore.doc",arguments,1),E("Firestore.doc","string",1,t),!t)throw new zt(Qt.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),Ro.forPath(oe.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return g("Firestore.runTransaction",arguments,1),E("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new Ao(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new Po(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(r()){case Bt.DEBUG:return"debug";case Bt.ERROR:return"error";case Bt.SILENT:return"silent";default:return u("Unknown log level: "+r())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(g("Firestore.setLogLevel",arguments,1),E("Firestore.setLogLevel","string",1,t),t){case"debug":o(Bt.DEBUG);break;case"error":o(Bt.ERROR);break;case"silent":o(Bt.SILENT);break;default:throw new zt(Qt.INVALID_ARGUMENT,"Invalid log level: "+t)}},t}(),Ao=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;g("Transaction.get",arguments,1);var n=Lt("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return u("Mismatch in docs returned from document lookup.");var r=t[0];return r instanceof ce?new xo(e._firestore,n._key,null,!1):new xo(e._firestore,n._key,r,!1)})},t.prototype.set=function(t,e,n){_("Transaction.set",arguments,2,3);var r=Lt("Transaction.set",t,this._firestore);n=Mt("Transaction.set",n);var o=n.merge?this._firestore._dataConverter.parseMergeData("Transaction.set",e):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var i,s;return"string"==typeof e||e instanceof Mn?(b("Transaction.update",arguments,3),i=Lt("Transaction.update",t,this._firestore),s=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,r)):(g("Transaction.update",arguments,2),i=Lt("Transaction.update",t,this._firestore),s=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(i._key,s),this},t.prototype.delete=function(t){g("Transaction.delete",arguments,1);var e=Lt("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),Po=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){_("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Lt("WriteBatch.set",t,this._firestore);n=Mt("WriteBatch.set",n);var o=n.merge?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(o.toMutations(r._key,nn.NONE)),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this.verifyNotCommitted();var i,s;return"string"==typeof e||e instanceof Mn?(b("WriteBatch.update",arguments,3),i=Lt("WriteBatch.update",t,this._firestore),s=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,r)):(g("WriteBatch.update",arguments,2),i=Lt("WriteBatch.update",t,this._firestore),s=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(s.toMutations(i._key,nn.exists(!0))),this},t.prototype.delete=function(t){g("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Lt("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new un(e._key,nn.NONE)),this},t.prototype.commit=function(){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._firestore.ensureClientConfigured().write(this._mutations):Promise.resolve()},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new zt(Qt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ro=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new zt(Qt.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new ae(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Mo(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(g("DocumentReference.collection",arguments,1),E("DocumentReference.collection","string",1,t),!t)throw new zt(Qt.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=oe.fromString(t);return new Mo(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw x("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.equals(e._key)},t.prototype.set=function(t,e){_("DocumentReference.set",arguments,1,2),e=Mt("DocumentReference.set",e);var n=e.merge?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,nn.NONE))},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o;return"string"==typeof t||t instanceof Mn?(b("DocumentReference.update",arguments,2),o=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,n)):(g("DocumentReference.update",arguments,1),o=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(o.toMutations(this._key,nn.exists(!0)))},t.prototype.delete=function(){return g("DocumentReference.delete",arguments,0),this._firestoreClient.write([new un(this._key,nn.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];_("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||It(t[o])||(r=t[o],R("DocumentReference.onSnapshot",r,["includeMetadataChanges"]),O("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++);var i={includeDocumentMetadataChanges:r.includeMetadataChanges,includeQueryMetadataChanges:r.includeMetadataChanges};return It(t[o])?n=t[o]:(E("DocumentReference.onSnapshot","function",o,t[o]),C("DocumentReference.onSnapshot","function",o+1,t[o+1]),C("DocumentReference.onSnapshot","function",o+2,t[o+2]),n={next:t[o],error:t[o+1],complete:t[o+2]}),this.onSnapshotInternal(i,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var o=new no({next:function(t){if(e.next){c(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new xo(n.firestore,n._key,r,t.fromCache))}},error:r}),i=this._firestoreClient.listen(Me.atPath(this._key.path),o,t);return function(){o.mute(),n._firestoreClient.unlisten(i)}},t.prototype.get=function(){var t=this;return g("DocumentReference.get",arguments,0),new Promise(function(e,n){var r=t.onSnapshotInternal({includeQueryMetadataChanges:!0,includeDocumentMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){r(),!t.exists&&t.metadata.fromCache?n(new zt(Qt.ABORTED,"Failed to get document because the client is offline.")):e(t)},error:n})})},t}(),xo=function(){function t(t,e,n,r){this._firestore=t,this._key=e,this._document=n,this._fromCache=r}return t.prototype.data=function(){if(g("DocumentSnapshot.data",arguments,0),!this._document)throw new zt(Qt.NOT_FOUND,"This document doesn't exist. Check doc.exists to make sure the document exists before calling doc.data().");return this.convertObject(this._document.data)},t.prototype.get=function(t){if(g("DocumentSnapshot.get",arguments,1),!this._document)throw new zt(Qt.NOT_FOUND,"This document doesn't exist. Check doc.exists to make sure the document exists before calling doc.get().");var e=this._document.data.field(xt("DocumentSnapshot.get",t));return void 0===e?void 0:this.convertValue(e)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ro(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return{hasPendingWrites:null!==this._document&&this._document.hasLocalMutations,fromCache:this._fromCache}},enumerable:!0,configurable:!0}),t.prototype.convertObject=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.convertValue(r)}),n},t.prototype.convertValue=function(t){if(t instanceof Ae)return this.convertObject(t);if(t instanceof Pe)return this.convertArray(t);if(t instanceof Ie){var e=t.value(),n=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.equals(n)||s("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),new Ro(e,this._firestore)}return t.value()},t.prototype.convertArray=function(t){var e=this;return t.internalValue.map(function(t){return e.convertValue(t)})},t}(),ko=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){g("Query.where",arguments,3),E("Query.where","string",2,n),P("Query.where",3,r);var o,i=xt("Query.where",e);if(i.isKeyField())if("string"==typeof r){if(-1!==r.indexOf("/"))throw new zt(Qt.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new zt(Qt.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var s=this._query.path.child(new oe([r]));c(s.length%2==0,"Path should be a document key"),o=new Ie(this.firestore._databaseId,new ae(s))}else{if(!(r instanceof Ro))throw new zt(Qt.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+N(r)+".");var a=r;o=new Ie(this.firestore._databaseId,a._key)}else o=this.firestore._dataConverter.parseQueryValue("Query.where",r);var u=G(i,Le.fromString(n),o);return this.validateNewFilter(u),new t(this._query.addFilter(u),this.firestore)},t.prototype.orderBy=function(e,n){_("Query.orderBy",arguments,1,2),C("Query.orderBy","string",2,n);var r;if(void 0===n||"asc"===n)r=Ue.ASCENDING;else{if("desc"!==n)throw new zt(Qt.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Ue.DESCENDING}if(null!==this._query.startAt)throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var o=xt("Query.orderBy",e),i=new qe(o,r);return this.validateNewOrderBy(i),new t(this._query.addOrderBy(i),this.firestore)},t.prototype.limit=function(e){if(g("Query.limit",arguments,1),E("Query.limit","number",1,e),e<=0)throw new zt(Qt.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];b("Query.startAt",arguments,1);var o=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(o),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];b("Query.startAfter",arguments,1);var o=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(o),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];b("Query.endBefore",arguments,1);var o=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(o),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];b("Query.endAt",arguments,1);var o=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(o),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw x("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.equals(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(P(t,1,e),e instanceof xo){if(n.length>0)throw new zt(Qt.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var o=e;if(!o.exists)throw new zt(Qt.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,o._document,r)}var i=[e].concat(n);return this.boundFromFields(t,i,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],o=0,i=this._query.orderBy;o<i.length;o++){var s=i[o];if(s.field.isKeyField())r.push(new Ie(this.firestore._databaseId,e.key));else{var a=e.field(s.field);if(void 0===a){var u=s.field.canonicalString();throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(a)}}return new Be(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new zt(Qt.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var o=[],i=0;i<e.length;i++){var s=e[i];if(r[i].field.isKeyField()){if("string"!=typeof s)throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(-1!==s.indexOf("/"))throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. Document ID '"+s+"' contains a slash in "+t+"()");var a=new ae(this._query.path.child(s));o.push(new Ie(this.firestore._databaseId,a))}else{var u=this.firestore._dataConverter.parseQueryValue(t,s);o.push(u)}}return new Be(o,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];_("Query.onSnapshot",arguments,1,4);var n,r={},o=0;return"object"!=typeof t[o]||It(t[o])||(r=t[o],R("Query.onSnapshot",r,["includeQueryMetadataChanges","includeDocumentMetadataChanges"]),O("Query.onSnapshot","boolean","includeDocumentMetadataChanges",r.includeDocumentMetadataChanges),O("Query.onSnapshot","boolean","includeQueryMetadataChanges",r.includeQueryMetadataChanges),o++),It(t[o])?n=t[o]:(E("Query.onSnapshot","function",o,t[o]),C("Query.onSnapshot","function",o+1,t[o+1]),C("Query.onSnapshot","function",o+2,t[o+2]),n={next:t[o],error:t[o+1],complete:t[o+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var o=new no({next:function(t){e.next&&e.next(new Do(n.firestore,n._query,t))},error:r}),i=this.firestore.ensureClientConfigured(),s=i.listen(this._query,o,t);return function(){o.mute(),i.unlisten(s)}},t.prototype.get=function(){var t=this;return g("Query.get",arguments,0),new Promise(function(e,n){var r=t.onSnapshotInternal({includeDocumentMetadataChanges:!1,includeQueryMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){r(),e(t)},error:n})})},t.prototype.validateNewFilter=function(t){if(t instanceof je&&t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.equals(t.field))throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.equals(t))throw new zt(Qt.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Do=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this.metadata={fromCache:n.fromCache,hasPendingWrites:n.hasPendingWrites}}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;_("QuerySnapshot.forEach",arguments,1,2),E("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new ko(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"docChanges",{get:function(){return this._cachedChanges||(this._cachedChanges=jt(this._firestore,this._snapshot)),this._cachedChanges},enumerable:!0,configurable:!0}),t.prototype.convertToDocumentImpl=function(t){return new xo(this._firestore,t.key,t,this.metadata.fromCache)},t}(),Mo=function(t){function e(e,n){var r=t.call(this,Me.atPath(e),n)||this;if(e.length%2!=1)throw new zt(Qt.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return Co(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Ro(new ae(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(_("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Jt.newId()),E("CollectionReference.doc","string",1,t),""===t)throw new zt(Qt.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=oe.fromString(t);return Ro.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){g("CollectionReference.add",arguments,1),E("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(ko),Lo=h(No,"Use firebase.firestore() instead."),jo=h(Ao,"Use firebase.firestore().runTransaction() instead."),Fo=h(Po,"Use firebase.firestore().batch() instead."),Vo=h(Ro,"Use firebase.firestore().doc() instead."),Uo=h(xo),Bo=h(ko),qo=h(Do),Wo=h(Mo,"Use firebase.firestore().collection() instead."),Ho={Firestore:Lo,GeoPoint:Zt,Blob:Yt,Transaction:jo,WriteBatch:Fo,DocumentReference:Vo,DocumentSnapshot:Uo,Query:Bo,QuerySnapshot:qo,CollectionReference:Wo,FieldPath:Mn,FieldValue:vo,setLogLevel:No.setLogLevel};e.registerFirestore=Ut,Ut(qt.default)},hQ4o:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO"),o=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var o=this;this.pendingResponses[this.currentResponseNum];){if("break"===function(){var t=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var e=0;e<t.length;++e)!function(e){t[e]&&r.exceptionGuard(function(){n.onMessage_(t[e])})}(e);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++}())break}},t}();e.PacketReceiver=o},"hbO+":function(t,e,n){"use strict";var r=n("bKpL"),o=n("slZm");r.Observable.empty=o.empty},hkXn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=n("fvGz"),i=n("JEJ4"),s=function(){function t(){this.children={},this.childCount=0,this.value=null}return t}();e.TreeNode=s;var a=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new s),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof o.Path?e:new o.Path(e),a=this;null!==(n=r.getFront());){a=new t(n,a,i.safeGet(a.node_.children,n)||new s),r=r.popFront()}return a},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){r.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;i.forEach(this.node_.children,function(r,o){e(new t(r,n,o))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new o.Path(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=i.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();e.Tree=a},i4mq:function(t,e,n){"use strict";var r=n("bKpL"),o=n("zbre");r.Observable.prototype.bufferCount=o.bufferCount},iDKa:function(t,e,n){"use strict";function r(t){return this.lift(new s(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.skip=r;var s=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.total))},t}(),a=function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}return o(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(i.Subscriber)},iEW0:function(t,e,n){var r=n("kUdC");n("Rv9P"),n("Dvgu"),n("Y5DG"),n("ce4+"),t.exports=r},iH09:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=n("xFbG"),s=n("Xga8"),a=n("p2y2"),u=function(t){function e(e,n){t.call(this,function(t){var e=this,n=e.logSubscribedFrame();return t.add(new i.Subscription(function(){e.logUnsubscribedFrame(n)})),e.scheduleMessages(t),t}),this.messages=e,this.subscriptions=[],this.scheduler=n}return r(e,t),e.prototype.scheduleMessages=function(t){for(var e=this.messages.length,n=0;n<e;n++){var r=this.messages[n];t.add(this.scheduler.schedule(function(t){var e=t.message,n=t.subscriber;e.notification.observe(n)},r.frame,{message:r,subscriber:t}))}},e}(o.Observable);e.ColdObservable=u,a.applyMixins(u,[s.SubscriptionLoggable])},isNy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n,r,o){void 0===o&&(o=null),this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];for(var i=1;!t.isEmpty();)if(t=t,i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse_?t.left:t.right;else{if(0===i){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}();e.SortedMapIterator=r;var o=function(){function t(e,n,r,o,i){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:s.EMPTY_NODE,this.right=null!=i?i:s.EMPTY_NODE}return t.prototype.copy=function(e,n,r,o,i){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,o;return o=this,r=n(t,o.key),o=r<0?o.copy(null,null,null,o.left.insert(t,e,n),null):0===r?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,n)),o.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return s.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},t.prototype.remove=function(t,e){var n,r;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return s.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}();e.LLRBNode=o;var i=function(){function t(){}return t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new o(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}();e.LLRBEmptyNode=i;var s=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,o.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,o.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new r(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new r(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new r(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new r(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new i,t}();e.SortedMap=s},iwys:function(t,e,n){"use strict";var r=n("bKpL"),o=n("1kAr");r.Observable.prototype.mapTo=o.mapTo},iyHZ:function(t,e,n){"use strict";function r(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}e.not=r},j0qB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO"),o=n("Rgd9"),i=n("UcKF"),s=n("FGYS"),a=function(){function t(t,e,n,o,i,a,u){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=o,this.onDisconnect_=i,this.onKill_=a,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=r.logWrapper("c:"+this.id+":"),this.transportManager_=new s.TransportManager(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,o)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=r.setTimeoutNonBlocking(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=r.requireKey("t",t),n=r.requireKey("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=r.requireKey("t",t),n=r.requireKey("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||--this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy())},t.prototype.onControl_=function(t){var e=r.requireKey("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?r.error("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):r.error("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(o),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),i.PROTOCOL_VERSION!==n&&r.warn("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,o),r.setTimeoutNonBlocking(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):r.setTimeoutNonBlocking(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(o.PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();e.Connection=a},j3M3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("R3TC"),o=function(){function t(){this.rootNode_=r.ChildrenNode.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();e.SnapshotHolder=o},j8RC:function(t,e,n){"use strict";var r=n("bKpL"),o=n("2Rhf");r.Observable.prototype.skipUntil=o.skipUntil},jKKE:function(t,e,n){"use strict";function r(t){return this.lift(new s(t,this))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.count=r;var s=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.source))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.source=r,this.count=0,this.index=0}return o(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(i.Subscriber)},jUlM:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=n("fcnB"),s=n("NSJx"),a=n("ktfo"),u=n("yW9Z"),c=function(t){function e(e,n){t.call(this),this.sources=e,this.resultSelector=n}return r(e,t),e.create=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];if(null===t||0===arguments.length)return new i.EmptyObservable;var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&s.isArray(t[0])&&(t=t[0]),0===t.length?new i.EmptyObservable:new e(t,r)},e.prototype._subscribe=function(t){return new l(t,this.sources,this.resultSelector)},e}(o.Observable);e.ForkJoinObservable=c;var l=function(t){function e(e,n,r){t.call(this,e),this.sources=n,this.resultSelector=r,this.completed=0,this.haveValues=0;var o=n.length;this.total=o,this.values=new Array(o);for(var i=0;i<o;i++){var s=n[i],u=a.subscribeToResult(this,s,null,i);u&&(u.outerIndex=i,this.add(u))}}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.values[n]=e,o._hasValue||(o._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this,r=n.haveValues,o=n.resultSelector,i=n.values,s=i.length;if(!t._hasValue)return void e.complete();if(++this.completed===s){if(r===s){var a=o?o.apply(this,i):i;e.next(a)}e.complete()}},e}(u.OuterSubscriber)},jyAw:function(t,e,n){"use strict";function r(t,e,n,r){return this.lift(new h(t,e,n,r))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("xFbG"),a=n("bKpL"),u=n("rlar"),c=n("R61s"),l=n("etpI");e.groupBy=r;var h=function(){function t(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),p=function(t){function e(e,n,r,o,i){t.call(this,e),this.keySelector=n,this.elementSelector=r,this.durationSelector=o,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return o(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups="string"==typeof e?new l.FastMap:new c.Map);var r,o=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(t){this.error(t)}else r=t;if(!o){o=this.subjectSelector?this.subjectSelector():new u.Subject,n.set(e,o);var i=new d(e,o,this);if(this.destination.next(i),this.durationSelector){var s=void 0;try{s=this.durationSelector(new d(e,o))}catch(t){return void this.error(t)}this.add(s.subscribe(new f(e,o,this)))}}o.closed||o.next(r)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,n){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(i.Subscriber),f=function(t){function e(e,n,r){t.call(this,n),this.key=e,this.group=n,this.parent=r}return o(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this,e=t.parent,n=t.key;this.key=this.parent=null,e&&e.removeGroup(n)},e}(i.Subscriber),d=function(t){function e(e,n,r){t.call(this),this.key=e,this.groupSubject=n,this.refCountSubscription=r}return o(e,t),e.prototype._subscribe=function(t){var e=new s.Subscription,n=this,r=n.refCountSubscription,o=n.groupSubject;return r&&!r.closed&&e.add(new y(r)),e.add(o.subscribe(t)),e},e}(a.Observable);e.GroupedObservable=d;var y=function(t){function e(e){t.call(this),this.parent=e,e.count++}return o(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(s.Subscription)},kAWK:function(t,e,n){"use strict";var r=n("bKpL"),o=n("QsbA");r.Observable.prototype.windowWhen=o.windowWhen},kCHx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gOHv"),o=n("fvGz"),i=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=r.OperationType.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,o.Path.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}();e.Overwrite=i},kGJb:function(t,e,n){"use strict";function r(t,e){return this.lift(new u(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("RdI5"),a=n("XRvs");e.distinctUntilChanged=r;var u=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.compare,this.keySelector))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.keySelector=r,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}return o(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=this.keySelector,n=t;if(e&&(n=s.tryCatch(this.keySelector)(t))===a.errorObject)return this.destination.error(a.errorObject.e);var r=!1;if(this.hasKey){if((r=s.tryCatch(this.compare)(this.key,n))===a.errorObject)return this.destination.error(a.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=n,this.destination.next(t))},e}(i.Subscriber)},kIyd:function(t,e,n){"use strict";var r=n("bKpL"),o=n("Kuy3");r.Observable.prototype.subscribeOn=o.subscribeOn},kUdC:function(t,e,n){n("ryHz"),t.exports=n("XtH8").default},kWk1:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+"),i=function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return r(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(o.Subscriber);e.InnerSubscriber=i},ki6Z:function(t,e,n){"use strict";function r(){return this.lift(new a)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),s=n("ktfo");e.exhaust=r;var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e),this.hasCompleted=!1,this.hasSubscription=!1}return o(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(s.subscribeToResult(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber)},kkQ5:function(t,e,n){"use strict";function r(t,e){var n=!1;return arguments.length>=2&&(n=!0),this.lift(new s(t,e,n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.scan=r;var s=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}(),a=function(t){function e(e,n,r,o){t.call(this,e),this.accumulator=n,this._seed=r,this.hasSeed=o,this.index=0}return o(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(i.Subscriber)},ktfo:function(t,e,n){"use strict";function r(t,e,n,r){var p=new l.InnerSubscriber(t,n,r);if(p.closed)return null;if(e instanceof u.Observable)return e._isScalar?(p.next(e.value),p.complete(),null):e.subscribe(p);if(i.isArrayLike(e)){for(var f=0,d=e.length;f<d&&!p.closed;f++)p.next(e[f]);p.closed||p.complete()}else{if(s.isPromise(e))return e.then(function(t){p.closed||(p.next(t),p.complete())},function(t){return p.error(t)}).then(null,function(t){o.root.setTimeout(function(){throw t})}),p;if(e&&"function"==typeof e[c.iterator])for(var y=e[c.iterator]();;){var v=y.next();if(v.done){p.complete();break}if(p.next(v.value),p.closed)break}else if(e&&"function"==typeof e[h.observable]){var m=e[h.observable]();if("function"==typeof m.subscribe)return m.subscribe(new l.InnerSubscriber(t,n,r));p.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var g=a.isObject(e)?"an invalid object":"'"+e+"'",b="You provided "+g+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";p.error(new TypeError(b))}}return null}var o=n("zijX"),i=n("lhZu"),s=n("mUVF"),a=n("H6Sg"),u=n("bKpL"),c=n("2B7B"),l=n("kWk1"),h=n("DP67");e.subscribeToResult=r},"l/Fw":function(t,e,n){"use strict";function r(t){return this.lift(new a(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),s=n("ktfo");e.sample=r;var a=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new u(t),r=e.subscribe(n);return r.add(s.subscribeToResult(n,this.notifier)),r},t}(),u=function(t){function e(){t.apply(this,arguments),this.hasValue=!1}return o(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,n,r,o){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(i.OuterSubscriber)},"l3Q+":function(t,e,n){"use strict";var r=n("bKpL"),o=n("tBQh");r.Observable.prototype.delay=o.delay},l6Wf:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("rlar"),i=n("xFbG"),s=function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return r(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),i.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),i.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(o.Subject);e.AsyncSubject=s},lDZL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO"),o=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],o=r.getPath();null===e||o.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new i(o)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r){t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}}e&&(this.eventLists_=[]),this.recursionDepth_--},t}();e.EventQueue=o;var i=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();r.logger&&r.log("event: "+e.toString()),r.exceptionGuard(n)}}},t.prototype.getPath=function(){return this.path_},t}();e.EventList=i},lc3y:function(t,e,n){"use strict";function r(){return this.lift(new s)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.isEmpty=r;var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){t.call(this,e)}return o(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.Subscriber)},lhZu:function(t,e,n){"use strict";e.isArrayLike=function(t){return t&&"number"==typeof t.length}},ltng:function(t,e,n){"use strict";var r=n("e7Zl");e.range=r.RangeObservable.create},"lx+J":function(t,e,n){"use strict";function r(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new s(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.map=r;var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}();e.MapOperator=s;var a=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}return o(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.Subscriber)},mDYJ:function(t,e,n){"use strict";var r=n("bKpL"),o=n("dxfK");r.Observable.prototype.distinctUntilKeyChanged=o.distinctUntilKeyChanged},mNfF:function(t,e){!function(e){function n(){}function r(t,e){return function(){t.apply(e,arguments)}}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function i(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?s:a)(e.promise,t._value);var r;try{r=n(t._value)}catch(t){return void a(e.promise,t)}s(e.promise,r)})}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void u(t);if("function"==typeof n)return void l(r(n,e),t)}t._state=1,t._value=e,u(t)}catch(e){a(t,e)}}function a(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)i(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,a(e,t))})}catch(t){if(n)return;n=!0,a(e,t)}}var h=setTimeout;o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var r=new this.constructor(n);return i(this,new c(t,e,r)),r},o.all=function(t){var e=Array.prototype.slice.call(t);return new o(function(t,n){function r(i,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){r(i,t)},n)}e[i]=s,0==--o&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)})},o._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){h(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},o._setImmediateFn=function(t){o._immediateFn=t},o._setUnhandledRejectionFn=function(t){o._unhandledRejectionFn=t},void 0!==t&&t.exports?t.exports=o:e.Promise||(e.Promise=o)}(this)},mUVF:function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e.isPromise=r},mZoP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=n("JEJ4"),i=n("Rgd9"),s=n("UcKF"),a=function(){function t(t,e,n,r,o){void 0===o&&(o=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=i.PersistentStorage.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&i.PersistentStorage.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){r.assert("string"==typeof t,"typeof type must == string"),r.assert("object"==typeof e,"typeof params must == object");var n;if(t===s.WEBSOCKET)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==s.LONG_POLLING)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var i=[];return o.forEach(e,function(t,e){i.push(t+"="+e)}),n+i.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();e.RepoInfo=a},miEe:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=n("F1yO"),i=n("stu6"),s=n("/fob"),a=n("Nq7v"),u=n("G0Qy"),c=n("W4Cj"),l=n("n3qp"),h=n("XiwH"),p=n("JEJ4"),f=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=s.PRIORITY_INDEX}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return r.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return r.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:o.MIN_NAME},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return r.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return r.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:o.MAX_NAME},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return r.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==s.PRIORITY_INDEX&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==s.PRIORITY_INDEX},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new c.IndexedFilter(this.getIndex()):this.hasLimit()?new l.LimitedFilter(this):new h.RangedFilter(this)},t.prototype.toRestQueryStringParameters=function(){var e=t.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var o;return this.index_===s.PRIORITY_INDEX?o=e.PRIORITY_INDEX:this.index_===a.VALUE_INDEX?o=e.VALUE_INDEX:this.index_===i.KEY_INDEX?o=e.KEY_INDEX:(r.assert(this.index_ instanceof u.PathIndex,"Unrecognized index type!"),o=this.index_.toString()),n[e.ORDER_BY]=p.stringify(o),this.startSet_&&(n[e.START_AT]=p.stringify(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+p.stringify(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=p.stringify(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+p.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_),n},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}();e.QueryParams=f},mihg:function(t,e,n){"use strict";function r(t){var e=t.value,n=t.subscriber;n.closed||(n.next(e),n.complete())}function o(t){var e=t.err,n=t.subscriber;n.closed||n.error(e)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n("zijX"),a=n("bKpL"),u=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return i(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,i=this.scheduler;if(null==i)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){s.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return i.schedule(r,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(i.schedule(r,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(i.schedule(o,0,{err:e,subscriber:t}))}).then(null,function(t){s.root.setTimeout(function(){throw t})})},e}(a.Observable);e.PromiseObservable=u},mjW1:function(t,e,n){"use strict";var r=n("bKpL"),o=n("rAcl");r.Observable.pairs=o.pairs},mvrJ:function(t,e,n){"use strict";var r=n("bKpL"),o=n("6JjX");r.Observable.prototype.switch=o._switch,r.Observable.prototype._switch=o._switch},n3qp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("XiwH"),o=n("R3TC"),i=n("p+VM"),s=n("JEJ4"),a=n("ertD"),u=function(){function t(t){this.rangedFilter_=new r.RangedFilter(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,s,a){return this.rangedFilter_.matches(new i.NamedNode(e,n))||(n=o.ChildrenNode.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,s,a):this.fullLimitUpdateChild_(t,e,n,s,a)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=o.ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=o.ChildrenNode.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var s=0;i.hasNext()&&s<this.limit_;){var a=i.getNext(),u=void 0;if(!(u=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),s++}}else{r=e.withIndex(this.index_),r=r.updatePriority(o.ChildrenNode.EMPTY_NODE);var c=void 0,l=void 0,h=void 0,i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();var p=this.index_.getCompare();h=function(t,e){return p(e,t)}}else i=r.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();for(var s=0,f=!1;i.hasNext();){var a=i.getNext();!f&&h(c,a)<=0&&(f=!0);var u=f&&s<this.limit_&&h(a,l)<=0;u?s++:r=r.updateImmediateChild(a.name,o.ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,u){var c;if(this.reverse_){var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else c=this.index_.getCompare();var h=t;s.assert(h.numChildren()==this.limit_,"");var p=new i.NamedNode(e,n),f=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),d=this.rangedFilter_.matches(p);if(h.hasChild(e)){for(var y=h.getImmediateChild(e),v=r.getChildAfterChild(this.index_,f,this.reverse_);null!=v&&(v.name==e||h.hasChild(v.name));)v=r.getChildAfterChild(this.index_,v,this.reverse_);var m=null==v?1:c(v,p);if(d&&!n.isEmpty()&&m>=0)return null!=u&&u.trackChildChange(a.Change.childChangedChange(e,n,y)),h.updateImmediateChild(e,n);null!=u&&u.trackChildChange(a.Change.childRemovedChange(e,y));var g=h.updateImmediateChild(e,o.ChildrenNode.EMPTY_NODE);return null!=v&&this.rangedFilter_.matches(v)?(null!=u&&u.trackChildChange(a.Change.childAddedChange(v.name,v.node)),g.updateImmediateChild(v.name,v.node)):g}return n.isEmpty()?t:d&&c(f,p)>=0?(null!=u&&(u.trackChildChange(a.Change.childRemovedChange(f.name,f.node)),u.trackChildChange(a.Change.childAddedChange(e,n))),h.updateImmediateChild(e,n).updateImmediateChild(f.name,o.ChildrenNode.EMPTY_NODE)):t},t}();e.LimitedFilter=u},nskO:function(t,e,n){"use strict";function r(t){var e=this;if(t||(o.root.Rx&&o.root.Rx.config&&o.root.Rx.config.Promise?t=o.root.Rx.config.Promise:o.root.Promise&&(t=o.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}var o=n("zijX");e.toPromise=r},"o/OZ":function(t,e,n){"use strict";var r=n("bKpL"),o=n("ziym");r.Observable.ajax=o.ajax},oOL0:function(t,e,n){"use strict";var r=n("bKpL"),o=n("olrH");r.Observable.prototype.concatMapTo=o.concatMapTo},okgN:function(t,e,n){"use strict";var r=n("bKpL"),o=n("pOTC");r.Observable.if=o._if},olOS:function(t,e,n){"use strict";function r(t){return void 0===t&&(t=s.async),this.lift(new u(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("IhB/");e.timestamp=r;var a=function(){function t(t,e){this.value=t,this.timestamp=e}return t}();e.Timestamp=a;var u=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.scheduler))},t}(),c=function(t){function e(e,n){t.call(this,e),this.scheduler=n}return o(e,t),e.prototype._next=function(t){var e=this.scheduler.now();this.destination.next(new a(t,e))},e}(i.Subscriber)},olrH:function(t,e,n){"use strict";function r(t,e){return this.lift(new o.MergeMapToOperator(t,e,1))}var o=n("RvTY");e.concatMapTo=r},opdF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=r.clone(t);return this.last_&&r.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}();e.StatsListener=o},oyal:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=n("xfHL"),i=n("F1yO"),s=n("JEJ4"),a=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){r.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),r.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){r.validateArgCount("OnDisconnect.remove",0,1,arguments.length),o.validateWritablePath("OnDisconnect.remove",this.path_),r.validateCallback("OnDisconnect.remove",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){r.validateArgCount("OnDisconnect.set",1,2,arguments.length),o.validateWritablePath("OnDisconnect.set",this.path_),o.validateFirebaseDataArg("OnDisconnect.set",1,t,this.path_,!1),r.validateCallback("OnDisconnect.set",2,e,!0);var n=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){r.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),o.validateWritablePath("OnDisconnect.setWithPriority",this.path_),o.validateFirebaseDataArg("OnDisconnect.setWithPriority",1,t,this.path_,!1),o.validatePriority("OnDisconnect.setWithPriority",2,e,!1),r.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var i=new s.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,i.wrapCallback(n)),i.promise},t.prototype.update=function(t,e){if(r.validateArgCount("OnDisconnect.update",1,2,arguments.length),o.validateWritablePath("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},a=0;a<t.length;++a)n[""+a]=t[a];t=n,i.warn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}o.validateFirebaseMergeDataArg("OnDisconnect.update",1,t,this.path_,!1),r.validateCallback("OnDisconnect.update",2,e,!0);var u=new s.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,u.wrapCallback(e)),u.promise},t}();e.OnDisconnect=a},"p+VM":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}();e.NamedNode=r},p2y2:function(t,e,n){"use strict";function r(t,e){for(var n=0,r=e.length;n<r;n++)for(var o=e[n],i=Object.getOwnPropertyNames(o.prototype),s=0,a=i.length;s<a;s++){var u=i[s];t.prototype[u]=o.prototype[u]}}e.applyMixins=r},p3bn:function(t,e,n){"use strict";var r=n("bKpL"),o=n("Obns");r.Observable.prototype.debounce=o.debounce},p3u8:function(t,e,n){"use strict";var r=n("bKpL"),o=n("BbOI");r.Observable.bindNodeCallback=o.bindNodeCallback},pHO4:function(t,e,n){"use strict";var r=n("bKpL"),o=n("0nG5");r.Observable.prototype.min=o.min},pHuv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("ZGn5"),o=n("43Go"),i=n("fvGz"),s=n("z8+r"),a=n("Htcq"),u=n("j3M3"),c=n("JEJ4"),l=n("F1yO"),h=n("JEJ4"),p=n("phte"),f=n("cm6g"),d=n("zPe/"),y=n("opdF"),v=n("lDZL"),m=n("xhf5"),g=n("6oqh"),b=n("8UuO"),_=function(){function t(t,e,n){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new v.EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new s.SparseSnapshotTree,this.persistentConnection_=null;var o=new p.AuthTokenProvider(n);if(this.stats_=f.StatsManager.getCollection(t),e||l.beingCrawled())this.server_=new g.ReadonlyRestClient(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var i=n.options.databaseAuthVariableOverride;if(void 0!==i&&null!==i){if("object"!=typeof i)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{c.stringify(i)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new m.PersistentConnection(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,i),this.server_=this.persistentConnection_}o.addTokenChangeListener(function(t){r.server_.refreshAuthToken(t)}),this.statsReporter_=f.StatsManager.getOrCreateReporter(t,function(){return new d.StatsReporter(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new u.SnapshotHolder,this.infoSyncTree_=new a.SyncTree({startListening:function(t,e,n,o){var i=[],s=r.infoData_.getNode(t.path);return s.isEmpty()||(i=r.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout(function(){o("ok")},0)),i},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new a.SyncTree({startListening:function(t,e,n,o){return r.server_.listen(t,n,e,function(e,n){var i=o(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,i)}),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new i.Path(".info/serverTimeOffset")),e=t.val()||0;return(new Date).getTime()+e},t.prototype.generateServerValues=function(){return r.generateWithValues({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var s=new i.Path(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var a=[];if(r)if(n){var u=h.map(e,function(t){return o.nodeFromJSON(t)});a=this.serverSyncTree_.applyTaggedQueryMerge(s,u,r)}else{var c=o.nodeFromJSON(e);a=this.serverSyncTree_.applyTaggedQueryOverwrite(s,c,r)}else if(n){var l=h.map(e,function(t){return o.nodeFromJSON(t)});a=this.serverSyncTree_.applyServerMerge(s,l)}else{var p=o.nodeFromJSON(e);a=this.serverSyncTree_.applyServerOverwrite(s,p)}var f=s;a.length>0&&(f=this.rerunTransactions_(s)),this.eventQueue_.raiseEventsForChangedPath(f,a)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;l.each(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new i.Path("/.info/"+t),r=o.nodeFromJSON(e);this.infoData_.updateSnapshot(n,r);var s=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,s)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,i){var s=this;this.log_("set",{path:t.toString(),value:e,priority:n});var a=this.generateServerValues(),u=o.nodeFromJSON(e,n),c=r.resolveDeferredValueSnapshot(u,a),h=this.getNextWriteId_(),p=this.serverSyncTree_.applyUserOverwrite(t,c,h,!0);this.eventQueue_.queueEvents(p),this.server_.put(t.toString(),u.val(!0),function(e,n){var r="ok"===e;r||l.warn("set at "+t+" failed: "+e);var o=s.serverSyncTree_.ackUserWrite(h,!r);s.eventQueue_.raiseEventsForChangedPath(t,o),s.callOnCompleteCallback(i,e,n)});var f=this.abortTransactions_(t);this.rerunTransactions_(f),this.eventQueue_.raiseEventsForChangedPath(f,[])},t.prototype.update=function(t,e,n){var i=this;this.log_("update",{path:t.toString(),value:e});var s=!0,a=this.generateServerValues(),u={};if(h.forEach(e,function(t,e){s=!1;var n=o.nodeFromJSON(e);u[t]=r.resolveDeferredValueSnapshot(n,a)}),s)l.log("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var c=this.getNextWriteId_(),p=this.serverSyncTree_.applyUserMerge(t,u,c);this.eventQueue_.queueEvents(p),this.server_.merge(t.toString(),e,function(e,r){var o="ok"===e;o||l.warn("update at "+t+" failed: "+e);var s=i.serverSyncTree_.ackUserWrite(c,!o),a=s.length>0?i.rerunTransactions_(t):t;i.eventQueue_.raiseEventsForChangedPath(a,s),i.callOnCompleteCallback(n,e,r)}),h.forEach(e,function(e){var n=i.abortTransactions_(t.child(e));i.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=r.resolveDeferredValueTree(this.onDisconnect_,e),o=[];n.forEachTree(i.Path.Empty,function(e,n){o=o.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var r=t.abortTransactions_(e);t.rerunTransactions_(r)}),this.onDisconnect_=new s.SparseSnapshotTree,this.eventQueue_.raiseEventsForChangedPath(i.Path.Empty,o)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,o){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,o)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=o.nodeFromJSON(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,s=o.nodeFromJSON(e,n);this.server_.onDisconnectPut(t.toString(),s.val(!0),function(e,n){"ok"===e&&i.onDisconnect_.remember(t,s),i.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(h.isEmpty(e))return l.log("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(i,s){"ok"===i&&h.forEach(e,function(e,n){var i=o.nodeFromJSON(n);r.onDisconnect_.remember(t.child(e),i)}),r.callOnCompleteCallback(n,i,s)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new y.StatsListener(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);h.forEach(e,function(t,e){for(var r=t.length;r<n+2;r++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),l.log.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&l.exceptionGuard(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),o=r;n&&(o+=": "+n);var i=new Error(o);i.code=r,t(i)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new b.Database(this))},enumerable:!0,configurable:!0}),t}();e.Repo=_},pOTC:function(t,e,n){"use strict";var r=n("S08L");e._if=r.IfObservable.create},phte:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO"),o=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(r.log("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',r.warn(t)},t}();e.AuthTokenProvider=o},pkLr:function(t,e,n){"use strict";var r=n("bKpL"),o=n("PwNK");r.Observable.prototype.audit=o.audit},ptvE:function(t,e,n){"use strict";var r=n("bKpL"),o=n("ki6Z");r.Observable.prototype.exhaust=o.exhaust},"q+5A":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("EsGe"),i=n("bKpL"),s=n("IhB/"),a=function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=s.async),t.call(this),this.period=e,this.scheduler=n,(!o.isNumeric(e)||e<0)&&(this.period=0),n&&"function"==typeof n.schedule||(this.scheduler=s.async)}return r(e,t),e.create=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=s.async),new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.subscriber,r=t.period;n.next(e),n.closed||(t.index+=1,this.schedule(t,r))},e.prototype._subscribe=function(t){var n=this.period,r=this.scheduler;t.add(r.schedule(e.dispatch,n,{index:0,subscriber:t,period:n}))},e}(i.Observable);e.IntervalObservable=a},q07K:function(t,e,n){"use strict";var r=n("bKpL"),o=n("8Jh8");r.Observable.prototype.takeUntil=o.takeUntil},qIlB:function(t,e,n){"use strict";var r=n("zijX"),o=function(){function t(t){if(this.root=t,t.setImmediate&&"function"==typeof t.setImmediate)this.setImmediate=t.setImmediate.bind(t),this.clearImmediate=t.clearImmediate.bind(t);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var e=function t(e){delete t.instance.tasksByHandle[e]};e.instance=this,this.clearImmediate=e}}return t.prototype.identify=function(t){return this.root.Object.prototype.toString.call(t)},t.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},t.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},t.prototype.canUseReadyStateChange=function(){var t=this.root.document;return Boolean(t&&"onreadystatechange"in t.createElement("script"))},t.prototype.canUsePostMessage=function(){var t=this.root;if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}return!1},t.prototype.partiallyApplied=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=function t(){var e=t,n=e.handler,r=e.args;"function"==typeof n?n.apply(void 0,r):new Function(""+n)()};return r.handler=t,r.args=e,r},t.prototype.addFromSetImmediateArguments=function(t){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,t),this.nextHandle++},t.prototype.createProcessNextTickSetImmediate=function(){var t=function t(){var e=t.instance,n=e.addFromSetImmediateArguments(arguments);return e.root.process.nextTick(e.partiallyApplied(e.runIfPresent,n)),n};return t.instance=this,t},t.prototype.createPostMessageSetImmediate=function(){var t=this.root,e="setImmediate$"+t.Math.random()+"$",n=function n(r){var o=n.instance;r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&o.runIfPresent(+r.data.slice(e.length))};n.instance=this,t.addEventListener("message",n,!1);var r=function t(){var e=t,n=e.messagePrefix,r=e.instance,o=r.addFromSetImmediateArguments(arguments);return r.root.postMessage(n+o,"*"),o};return r.instance=this,r.messagePrefix=e,r},t.prototype.runIfPresent=function(t){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,t),0);else{var e=this.tasksByHandle[t];if(e){this.currentlyRunningATask=!0;try{e()}finally{this.clearImmediate(t),this.currentlyRunningATask=!1}}}},t.prototype.createMessageChannelSetImmediate=function(){var t=this,e=new this.root.MessageChannel;e.port1.onmessage=function(e){var n=e.data;t.runIfPresent(n)};var n=function t(){var e=t,n=e.channel,r=e.instance,o=r.addFromSetImmediateArguments(arguments);return n.port2.postMessage(o),o};return n.channel=e,n.instance=this,n},t.prototype.createReadyStateChangeSetImmediate=function(){var t=function t(){var e=t.instance,n=e.root,r=n.document,o=r.documentElement,i=e.addFromSetImmediateArguments(arguments),s=r.createElement("script");return s.onreadystatechange=function(){e.runIfPresent(i),s.onreadystatechange=null,o.removeChild(s),s=null},o.appendChild(s),i};return t.instance=this,t},t.prototype.createSetTimeoutSetImmediate=function(){var t=function t(){var e=t.instance,n=e.addFromSetImmediateArguments(arguments);return e.root.setTimeout(e.partiallyApplied(e.runIfPresent,n),0),n};return t.instance=this,t},t}();e.ImmediateDefinition=o,e.Immediate=new o(r.root)},qNQE:function(t,e,n){"use strict";var r=n("bKpL"),o=n("Txt5");r.Observable.prototype.auditTime=o.auditTime},qYrH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO"),o=n("r9Yg"),i=n("cm6g"),s=n("hQ4o"),a=n("UcKF"),u=n("JEJ4"),c=n("JEJ4");e.FIREBASE_LONGPOLL_START_PARAM="start",e.FIREBASE_LONGPOLL_CLOSE_COMMAND="close",e.FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",e.FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",e.FIREBASE_LONGPOLL_ID_PARAM="id",e.FIREBASE_LONGPOLL_PW_PARAM="pw",e.FIREBASE_LONGPOLL_SERIAL_PARAM="ser",e.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",e.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",e.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",e.FIREBASE_LONGPOLL_DATA_PARAM="d",e.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM="disconn",e.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe";var l=function(){function t(t,e,n,o){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=r.logWrapper(t),this.stats_=i.StatsManager.getCollection(e),this.urlFn=function(t){return e.connectionURL(a.LONG_POLLING,t)}}return t.prototype.open=function(t,n){var o=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new s.PacketReceiver(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){o.log_("Timed out trying to connect."),o.onClosed_(),o.connectTimeoutTimer_=null},Math.floor(3e4)),r.executeWhenDOMReady(function(){if(!o.isClosed_){o.scriptTagHolder=new h(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=t[1],s=t[2];t[3],t[4];if(o.incrementIncomingBytes_(t),o.scriptTagHolder)if(o.connectTimeoutTimer_&&(clearTimeout(o.connectTimeoutTimer_),o.connectTimeoutTimer_=null),o.everConnected_=!0,r==e.FIREBASE_LONGPOLL_START_PARAM)o.id=i,o.password=s;else{if(r!==e.FIREBASE_LONGPOLL_CLOSE_COMMAND)throw new Error("Unrecognized command received: "+r);i?(o.scriptTagHolder.sendNewPolls=!1,o.myPacketOrderer.closeAfter(i,function(){o.onClosed_()})):o.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];o.incrementIncomingBytes_(t),o.myPacketOrderer.handleResponse(n,r)},function(){o.onClosed_()},o.urlFn);var t={};t[e.FIREBASE_LONGPOLL_START_PARAM]="t",t[e.FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(1e8*Math.random()),o.scriptTagHolder.uniqueCallbackIdentifier&&(t[e.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=o.scriptTagHolder.uniqueCallbackIdentifier),t[a.VERSION_PARAM]=a.PROTOCOL_VERSION,o.transportSessionId&&(t[a.TRANSPORT_SESSION_PARAM]=o.transportSessionId),o.lastSessionId&&(t[a.LAST_SESSION_PARAM]=o.lastSessionId),!c.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(a.FORGE_DOMAIN)&&(t[a.REFERER_PARAM]=a.FORGE_REF);var n=o.urlFn(t);o.log_("Connecting via long-poll to "+n),o.scriptTagHolder.addTag(n,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!r.isChromeExtensionContentScript()&&!r.isWindowsStoreApp()&&!c.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=u.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=u.base64Encode(e),o=r.splitStringBySize(n,1840),i=0;i<o.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,n){if(!c.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var r={};r[e.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",r[e.FIREBASE_LONGPOLL_ID_PARAM]=t,r[e.FIREBASE_LONGPOLL_PW_PARAM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=u.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}();e.BrowserPollConnection=l;var h=function(){function t(n,i,s,a){if(this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new o.CountedSet,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,c.isNodeSdk())this.commandCB=n,this.onMessageCB=i;else{this.uniqueCallbackIdentifier=r.LUIDGenerator(),window[e.FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=n,window[e.FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=i,this.myIFrame=t.createIFrame_();var u="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){u='<script>document.domain="'+document.domain+'";<\/script>'}var l="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(t){r.log("frame writing exception"),t.stack&&r.log(t.stack),r.log(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||r.log("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var n=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==n.myIFrame&&(document.body.removeChild(n.myIFrame),n.myIFrame=null)},Math.floor(0))),c.isNodeSdk()&&this.myID){var r={};r[e.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM]="t",r[e.FIREBASE_LONGPOLL_ID_PARAM]=this.myID,r[e.FIREBASE_LONGPOLL_PW_PARAM]=this.myPW;var o=this.urlFn(r);t.nodeRestRequest(o)}var i=this.onDisconnect;i&&(this.onDisconnect=null,i())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[e.FIREBASE_LONGPOLL_ID_PARAM]=this.myID,t[e.FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,t[e.FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;for(var n=this.urlFn(t),r="",o=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+r.length<=1870))break;var i=this.pendingSegs.shift();r=r+"&"+e.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+o+"="+i.seg+"&"+e.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+o+"="+i.ts+"&"+e.FIREBASE_LONGPOLL_DATA_PARAM+o+"="+i.d,o++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},o=setTimeout(r,Math.floor(25e3)),i=function(){clearTimeout(o),r()};this.addTag(t,i)},t.prototype.addTag=function(t,e){var n=this;c.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var o=n.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){var t=o.readyState;t&&"loaded"!==t&&"complete"!==t||(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=function(){r.log("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(o)}catch(t){}},Math.floor(1))},t}();e.FirebaseIFrameScriptHolder=h},qbdv:function(t,e,n){"use strict";function r(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}function o(t){return t.replace(/\/index.html$/,"")}function i(t,e,n){var r="="+t;if(e.indexOf(r)>-1)return r;if(r=n.getPluralCategory(t),e.indexOf(r)>-1)return r;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}function s(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),o=Math.floor(Math.abs(n)),i=r.length,s=parseInt(r,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?U.One:U.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?U.One:U.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===o||1===n?U.One:U.Other;case"ar":return 0===n?U.Zero:1===n?U.One:2===n?U.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?U.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?U.Many:U.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===o&&0===i?U.One:U.Other;case"be":return n%10==1&&n%100!=11?U.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?U.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?U.Many:U.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?U.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?U.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?U.Few:0!==n&&n%1e6==0?U.Many:U.Other;case"bs":case"hr":case"sr":return 0===i&&o%10==1&&o%100!=11||s%10==1&&s%100!=11?U.One:0===i&&o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)||s%10===Math.floor(s%10)&&s%10>=2&&s%10<=4&&!(s%100>=12&&s%100<=14)?U.Few:U.Other;case"cs":case"sk":return 1===o&&0===i?U.One:o===Math.floor(o)&&o>=2&&o<=4&&0===i?U.Few:0!==i?U.Many:U.Other;case"cy":return 0===n?U.Zero:1===n?U.One:2===n?U.Two:3===n?U.Few:6===n?U.Many:U.Other;case"da":return 1===n||0!==a&&(0===o||1===o)?U.One:U.Other;case"dsb":case"hsb":return 0===i&&o%100==1||s%100==1?U.One:0===i&&o%100==2||s%100==2?U.Two:0===i&&o%100===Math.floor(o%100)&&o%100>=3&&o%100<=4||s%100===Math.floor(s%100)&&s%100>=3&&s%100<=4?U.Few:U.Other;case"ff":case"fr":case"hy":case"kab":return 0===o||1===o?U.One:U.Other;case"fil":return 0===i&&(1===o||2===o||3===o)||0===i&&o%10!=4&&o%10!=6&&o%10!=9||0!==i&&s%10!=4&&s%10!=6&&s%10!=9?U.One:U.Other;case"ga":return 1===n?U.One:2===n?U.Two:n===Math.floor(n)&&n>=3&&n<=6?U.Few:n===Math.floor(n)&&n>=7&&n<=10?U.Many:U.Other;case"gd":return 1===n||11===n?U.One:2===n||12===n?U.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?U.Few:U.Other;case"gv":return 0===i&&o%10==1?U.One:0===i&&o%10==2?U.Two:0!==i||o%100!=0&&o%100!=20&&o%100!=40&&o%100!=60&&o%100!=80?0!==i?U.Many:U.Other:U.Few;case"he":return 1===o&&0===i?U.One:2===o&&0===i?U.Two:0!==i||n>=0&&n<=10||n%10!=0?U.Other:U.Many;case"is":return 0===a&&o%10==1&&o%100!=11||0!==a?U.One:U.Other;case"ksh":return 0===n?U.Zero:1===n?U.One:U.Other;case"kw":case"naq":case"se":case"smn":return 1===n?U.One:2===n?U.Two:U.Other;case"lag":return 0===n?U.Zero:0!==o&&1!==o||0===n?U.Other:U.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?U.Few:0!==s?U.Many:U.Other:U.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===i&&s%100===Math.floor(s%100)&&s%100>=11&&s%100<=19?U.Zero:n%10==1&&n%100!=11||2===i&&s%10==1&&s%100!=11||2!==i&&s%10==1?U.One:U.Other;case"mk":return 0===i&&o%10==1||s%10==1?U.One:U.Other;case"mt":return 1===n?U.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?U.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?U.Many:U.Other;case"pl":return 1===o&&0===i?U.One:0===i&&o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?U.Few:0===i&&1!==o&&o%10===Math.floor(o%10)&&o%10>=0&&o%10<=1||0===i&&o%10===Math.floor(o%10)&&o%10>=5&&o%10<=9||0===i&&o%100===Math.floor(o%100)&&o%100>=12&&o%100<=14?U.Many:U.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?U.One:U.Other;case"ro":return 1===o&&0===i?U.One:0!==i||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?U.Few:U.Other;case"ru":case"uk":return 0===i&&o%10==1&&o%100!=11?U.One:0===i&&o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?U.Few:0===i&&o%10==0||0===i&&o%10===Math.floor(o%10)&&o%10>=5&&o%10<=9||0===i&&o%100===Math.floor(o%100)&&o%100>=11&&o%100<=14?U.Many:U.Other;case"shi":return 0===o||1===n?U.One:n===Math.floor(n)&&n>=2&&n<=10?U.Few:U.Other;case"si":return 0===n||1===n||0===o&&1===s?U.One:U.Other;case"sl":return 0===i&&o%100==1?U.One:0===i&&o%100==2?U.Two:0===i&&o%100===Math.floor(o%100)&&o%100>=3&&o%100<=4||0!==i?U.Few:U.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?U.One:U.Other;default:return U.Other}}function a(t,e){e=encodeURIComponent(e);for(var n=0,r=t.split(";");n<r.length;n++){var o=r[n],i=o.indexOf("="),s=-1==i?[o,""]:[o.slice(0,i),o.slice(i+1)],a=s[0],u=s[1];if(a.trim()===e)return decodeURIComponent(u)}return null}function u(t){return t.name||typeof t}function c(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(P._34)(t)+"'")}function l(t){return t?t[0].toUpperCase()+t.substr(1).toLowerCase():t}function h(t){return function(e,n){var r=t(e,n);return 1==r.length?"0"+r:r}}function p(t){return function(e,n){return t(e,n).split(" ")[0]}}function f(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function d(t){var e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var r=f(t,n,e);return r?r.substring(3):""}}function y(t,e){return t.hour12=e,t}function v(t,e){var n={};return n[t]=2===e?"2-digit":"numeric",n}function m(t,e){var n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function g(t){return t.reduce(function(t,e){return Object.assign({},t,e)},{})}function b(t){return function(e,n){return f(e,n,t)}}function _(t,e,n){var r=dt[t];if(r)return r(e,n);var o=t,i=vt.get(o);if(!i){i=[];var s=void 0;ft.exec(t);for(var a=t;a;)s=ft.exec(a),s?(i=i.concat(s.slice(1)),a=i.pop()):(i.push(a),a=null);vt.set(o,i)}return i.reduce(function(t,r){var o=yt[r];return t+(o?o(e,n):w(r))},"")}function w(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}function E(t,e,n,r,o,i,s){if(void 0===i&&(i=null),void 0===s&&(s=!1),null==n)return null;if("number"!=typeof(n="string"==typeof n&&S(n)?+n:n))throw c(t,n);var a=void 0,u=void 0,l=void 0;if(r!==ht.Currency&&(a=1,u=0,l=3),o){var h=o.match(gt);if(null===h)throw new Error(o+" is not a valid digit info for number pipes");null!=h[1]&&(a=C(h[1])),null!=h[3]&&(u=C(h[3])),null!=h[5]&&(l=C(h[5]))}return pt.format(n,e,r,{minimumIntegerDigits:a,minimumFractionDigits:u,maximumFractionDigits:l,currency:i,currencyAsSymbol:s})}function C(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function S(t){return!isNaN(t-parseFloat(t))}function O(t){return null==t||""===t}function T(t){return t instanceof Date&&!isNaN(t.valueOf())}function I(t){var e=new Date(0),n=0,r=0,o=t[8]?e.setUTCFullYear:e.setFullYear,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=N(t[9]+t[10]),r=N(t[9]+t[11])),o.call(e,N(t[1]),N(t[2])-1,N(t[3]));var s=N(t[4]||"0")-n,a=N(t[5]||"0")-r,u=N(t[6]||"0"),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return i.call(e,s,a,u,c),e}function N(t){return parseInt(t,10)}n.d(e,"k",function(){return V}),n.d(e,"l",function(){return F}),n.d(e,"p",function(){return a}),n.d(e,"b",function(){return Pt}),n.d(e,"h",function(){return B}),n.d(e,"i",function(){return H}),n.d(e,"j",function(){return G}),n.d(e,"c",function(){return xt}),n.d(e,"o",function(){return kt}),n.d(e,"n",function(){return R}),n.d(e,"e",function(){return x}),n.d(e,"g",function(){return k}),n.d(e,"a",function(){return D}),n.d(e,"d",function(){return L}),n.d(e,"m",function(){return j}),n.d(e,"f",function(){return M});var A=n("6Xbx"),P=n("/oeL"),R=function(){function t(){}return t.prototype.getBaseHrefFromDOM=function(){},t.prototype.onPopState=function(t){},t.prototype.onHashChange=function(t){},t.prototype.pathname=function(){},t.prototype.search=function(){},t.prototype.hash=function(){},t.prototype.replaceState=function(t,e,n){},t.prototype.pushState=function(t,e,n){},t.prototype.forward=function(){},t.prototype.back=function(){},t}(),x=new P.v("Location Initialized"),k=function(){function t(){}return t.prototype.path=function(t){},t.prototype.prepareExternalUrl=function(t){},t.prototype.pushState=function(t,e,n,r){},t.prototype.replaceState=function(t,e,n,r){},t.prototype.forward=function(){},t.prototype.back=function(){},t.prototype.onPopState=function(t){},t.prototype.getBaseHref=function(){},t}(),D=new P.v("appBaseHref"),M=function(){function t(e){var n=this;this._subject=new P.p,this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(o(r)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(r(this._baseHref,o(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-("/"===t[n-1]?1:0);return t.slice(0,r)+t.slice(n)},t}();M.decorators=[{type:P.u}],M.ctorParameters=function(){return[{type:k}]};var L=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return A.a(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=M.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var o=this.prepareExternalUrl(n+M.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,n,r){var o=this.prepareExternalUrl(n+M.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(k);L.decorators=[{type:P.u}],L.ctorParameters=function(){return[{type:R},{type:void 0,decorators:[{type:P.H},{type:P.t,args:[D]}]}]};var j=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return A.a(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return M.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+M.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var o=this.prepareExternalUrl(n+M.normalizeQueryParams(r));this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,n,r){var o=this.prepareExternalUrl(n+M.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(k);j.decorators=[{type:P.u}],j.ctorParameters=function(){return[{type:R},{type:void 0,decorators:[{type:P.H},{type:P.t,args:[D]}]}]};var F=function(){function t(){}return t.prototype.getPluralCategory=function(t){},t}(),V=function(t){function e(e){var n=t.call(this)||this;return n.locale=e,n}return A.a(e,t),e.prototype.getPluralCategory=function(t){switch(s(this.locale,t)){case U.Zero:return"zero";case U.One:return"one";case U.Two:return"two";case U.Few:return"few";case U.Many:return"many";default:return"other"}},e}(F);V.decorators=[{type:P.u}],V.ctorParameters=function(){return[{type:void 0,decorators:[{type:P.t,args:[P.A]}]}]};var U={};U.Zero=0,U.One=1,U.Two=2,U.Few=3,U.Many=4,U.Other=5,U[U.Zero]="Zero",U[U.One]="One",U[U.Two]="Two",U[U.Few]="Few",U[U.Many]="Many",U[U.Other]="Other";var B=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._applyInitialClasses(!0),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._cleanupClasses(this._rawClass),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(P._21)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._cleanupClasses=function(t){this._applyClasses(t,!0),this._applyInitialClasses(!1)},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(P._34)(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyInitialClasses=function(t){var e=this;this._initialClasses.forEach(function(n){return e._toggleClass(n,!t)})},t.prototype._applyClasses=function(t,e){var n=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return n._toggleClass(t,!e)}):Object.keys(t).forEach(function(r){null!=t[r]&&n._toggleClass(r,!e)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){n._renderer.setElementClass(n._ngEl.nativeElement,t,!!e)})},t}();B.decorators=[{type:P.m,args:[{selector:"[ngClass]"}]}],B.ctorParameters=function(){return[{type:P.y},{type:P.z},{type:P.n},{type:P.M}]},B.propDecorators={klass:[{type:P.x,args:["class"]}],ngClass:[{type:P.x}]};var q=function(){function t(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return t.prototype.ngOnChanges=function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=e.get(P.E);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var r=this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(P.k),o=r.resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(o,this._viewContainerRef.length,e,this.ngComponentOutletContent)}},t.prototype.ngOnDestroy=function(){this._moduleRef&&this._moduleRef.destroy()},t}();q.decorators=[{type:P.m,args:[{selector:"[ngComponentOutlet]"}]}],q.ctorParameters=function(){return[{type:P.Z}]},q.propDecorators={ngComponentOutlet:[{type:P.x}],ngComponentOutletInjector:[{type:P.x}],ngComponentOutletContent:[{type:P.x}],ngComponentOutletNgModuleFactory:[{type:P.x}]};var W=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),H=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(P._6)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+u(e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,o){if(null==t.previousIndex){var i=e._viewContainer.createEmbeddedView(e._template,new W(null,e.ngForOf,-1,-1),o),s=new K(t,i);n.push(s)}else if(null==o)e._viewContainer.remove(r);else{var i=e._viewContainer.get(r);e._viewContainer.move(i,o);var s=new K(t,i);n.push(s)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var r=0,o=this._viewContainer.length;r<o;r++){var i=this._viewContainer.get(r);i.context.index=r,i.context.count=o}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}();H.decorators=[{type:P.m,args:[{selector:"[ngFor][ngForOf]"}]}],H.ctorParameters=function(){return[{type:P.Z},{type:P.W},{type:P.y}]},H.propDecorators={ngForOf:[{type:P.x}],ngForTrackBy:[{type:P.x}],ngForTemplate:[{type:P.x}]};var K=function(){function t(t,e){this.record=t,this.view=e}return t}(),G=function(){function t(t,e){this._viewContainer=t,this._context=new Q,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}();G.decorators=[{type:P.m,args:[{selector:"[ngIf]"}]}],G.ctorParameters=function(){return[{type:P.Z},{type:P.W}]},G.propDecorators={ngIf:[{type:P.x}],ngIfThen:[{type:P.x}],ngIfElse:[{type:P.x}]};var Q=function(){function t(){this.$implicit=null,this.ngIf=null}return t}(),z=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),J=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++){this._defaultViews[e].enforceState(t)}}},t}();J.decorators=[{type:P.m,args:[{selector:"[ngSwitch]"}]}],J.ctorParameters=function(){return[]},J.propDecorators={ngSwitch:[{type:P.x}]};var X=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new z(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t}();X.decorators=[{type:P.m,args:[{selector:"[ngSwitchCase]"}]}],X.ctorParameters=function(){return[{type:P.Z},{type:P.W},{type:J,decorators:[{type:P.q}]}]},X.propDecorators={ngSwitchCase:[{type:P.x}]};var Y=function(){function t(t,e,n){n._addDefault(new z(t,e))}return t}();Y.decorators=[{type:P.m,args:[{selector:"[ngSwitchDefault]"}]}],Y.ctorParameters=function(){return[{type:P.Z},{type:P.W},{type:J,decorators:[{type:P.q}]}]};var Z=function(){function t(t){this._localization=t,this._caseViews={}}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var t=Object.keys(this._caseViews),e=i(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},t}();Z.decorators=[{type:P.m,args:[{selector:"[ngPlural]"}]}],Z.ctorParameters=function(){return[{type:F}]},Z.propDecorators={ngPlural:[{type:P.x}]};var $=function(){function t(t,e,n,r){this.value=t;var o=!isNaN(Number(t));r.addCase(o?"="+t:t,new z(n,e))}return t}();$.decorators=[{type:P.m,args:[{selector:"[ngPluralCase]"}]}],$.ctorParameters=function(){return[{type:void 0,decorators:[{type:P.h,args:["ngPluralCase"]}]},{type:P.W},{type:P.Z},{type:Z,decorators:[{type:P.q}]}]};var tt=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=t.split("."),r=n[0],o=n[1];e=null!=e&&o?""+e+o:e,this._renderer.setElementStyle(this._ngEl.nativeElement,r,e)},t}();tt.decorators=[{type:P.m,args:[{selector:"[ngStyle]"}]}],tt.ctorParameters=function(){return[{type:P.z},{type:P.n},{type:P.M}]},tt.propDecorators={ngStyle:[{type:P.x}]};var et=function(){function t(t){this._viewContainerRef=t}return Object.defineProperty(t.prototype,"ngOutletContext",{set:function(t){this.ngTemplateOutletContext=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))},t}();et.decorators=[{type:P.m,args:[{selector:"[ngTemplateOutlet]"}]}],et.ctorParameters=function(){return[{type:P.Z}]},et.propDecorators={ngTemplateOutletContext:[{type:P.x}],ngTemplateOutlet:[{type:P.x}],ngOutletContext:[{type:P.x}]};var nt=[B,q,H,G,et,tt,J,X,Y,Z,$],rt=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),ot=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}(),it=new ot,st=new rt,at=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,P._1.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(Object(P._23)(e))return it;if(Object(P._22)(e))return st;throw c(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}();at.decorators=[{type:P.L,args:[{name:"async",pure:!1}]}],at.ctorParameters=function(){return[{type:P.i}]};var ut=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw c(t,e);return e.toLowerCase()},t}();ut.decorators=[{type:P.L,args:[{name:"lowercase"}]}],ut.ctorParameters=function(){return[]};var ct=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw c(t,e);return e.split(/\b/g).map(function(t){return l(t)}).join("")},t}();ct.decorators=[{type:P.L,args:[{name:"titlecase"}]}],ct.ctorParameters=function(){return[]};var lt=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw c(t,e);return e.toUpperCase()},t}();lt.decorators=[{type:P.L,args:[{name:"uppercase"}]}],lt.ctorParameters=function(){return[]};var ht={};ht.Decimal=0,ht.Percent=1,ht.Currency=2,ht[ht.Decimal]="Decimal",ht[ht.Percent]="Percent",ht[ht.Currency]="Currency";var pt=function(){function t(){}return t.format=function(t,e,n,r){void 0===r&&(r={});var o=r.minimumIntegerDigits,i=r.minimumFractionDigits,s=r.maximumFractionDigits,a=r.currency,u=r.currencyAsSymbol,c=void 0!==u&&u,l={minimumIntegerDigits:o,minimumFractionDigits:i,maximumFractionDigits:s,style:ht[n].toLowerCase()};return n==ht.Currency&&(l.currency="string"==typeof a?a:void 0,l.currencyDisplay=c?"symbol":"code"),new Intl.NumberFormat(e,l).format(t)},t}(),ft=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,dt={yMMMdjms:b(g([v("year",1),m("month",3),v("day",1),v("hour",1),v("minute",1),v("second",1)])),yMdjm:b(g([v("year",1),v("month",1),v("day",1),v("hour",1),v("minute",1)])),yMMMMEEEEd:b(g([v("year",1),m("month",4),m("weekday",4),v("day",1)])),yMMMMd:b(g([v("year",1),m("month",4),v("day",1)])),yMMMd:b(g([v("year",1),m("month",3),v("day",1)])),yMd:b(g([v("year",1),v("month",1),v("day",1)])),jms:b(g([v("hour",1),v("second",1),v("minute",1)])),jm:b(g([v("hour",1),v("minute",1)]))},yt={yyyy:b(v("year",4)),yy:b(v("year",2)),y:b(v("year",1)),MMMM:b(m("month",4)),MMM:b(m("month",3)),MM:b(v("month",2)),M:b(v("month",1)),LLLL:b(m("month",4)),L:b(m("month",1)),dd:b(v("day",2)),d:b(v("day",1)),HH:h(p(b(y(v("hour",2),!1)))),H:p(b(y(v("hour",1),!1))),hh:h(p(b(y(v("hour",2),!0)))),h:p(b(y(v("hour",1),!0))),jj:b(v("hour",2)),j:b(v("hour",1)),mm:h(b(v("minute",2))),m:b(v("minute",1)),ss:h(b(v("second",2))),s:b(v("second",1)),sss:b(v("second",3)),EEEE:b(m("weekday",4)),EEE:b(m("weekday",3)),EE:b(m("weekday",2)),E:b(m("weekday",1)),a:function(t){return function(e,n){return t(e,n).split(" ")[1]}}(b(y(v("hour",1),!0))),Z:d("short"),z:d("long"),ww:b({}),w:b({}),G:b(m("era",1)),GG:b(m("era",2)),GGG:b(m("era",3)),GGGG:b(m("era",4))},vt=new Map,mt=function(){function t(){}return t.format=function(t,e,n){return _(n,t,e)},t}(),gt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,bt=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return E(t,this._locale,e,ht.Decimal,n)},t}();bt.decorators=[{type:P.L,args:[{name:"number"}]}],bt.ctorParameters=function(){return[{type:void 0,decorators:[{type:P.t,args:[P.A]}]}]};var _t=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return E(t,this._locale,e,ht.Percent,n)},t}();_t.decorators=[{type:P.L,args:[{name:"percent"}]}],_t.ctorParameters=function(){return[{type:void 0,decorators:[{type:P.t,args:[P.A]}]}]};var wt=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r,o){return void 0===n&&(n="USD"),void 0===r&&(r=!1),E(t,this._locale,e,ht.Currency,o,n,r)},t}();wt.decorators=[{type:P.L,args:[{name:"currency"}]}],wt.ctorParameters=function(){return[{type:void 0,decorators:[{type:P.t,args:[P.A]}]}]};var Et=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ct=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){void 0===n&&(n="mediumDate");var r;if(O(e)||e!==e)return null;if("string"==typeof e&&(e=e.trim()),T(e))r=e;else if(S(e))r=new Date(parseFloat(e));else if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var o=e.split("-").map(function(t){return parseInt(t,10)}),i=o[0],s=o[1],a=o[2];r=new Date(i,s-1,a)}else r=new Date(e);if(!T(r)){var u=void 0;if("string"!=typeof e||!(u=e.match(Et)))throw c(t,e);r=I(u)}return mt.format(r,this._locale,t._ALIASES[n]||n)},t}();Ct._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},Ct.decorators=[{type:P.L,args:[{name:"date",pure:!0}]}],Ct.ctorParameters=function(){return[{type:void 0,decorators:[{type:P.t,args:[P.A]}]}]};var St=/#/g,Ot=function(){function t(t){this._localization=t}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||null===n)throw c(t,n);return n[i(e,Object.keys(n),this._localization)].replace(St,e.toString())},t}();Ot.decorators=[{type:P.L,args:[{name:"i18nPlural",pure:!0}]}],Ot.ctorParameters=function(){return[{type:F}]};var Tt=function(){function t(){}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw c(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""},t}();Tt.decorators=[{type:P.L,args:[{name:"i18nSelect",pure:!0}]}],Tt.ctorParameters=function(){return[]};var It=function(){function t(){}return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t}();It.decorators=[{type:P.L,args:[{name:"json",pure:!1}]}],It.ctorParameters=function(){return[]};var Nt=function(){function t(){}return t.prototype.transform=function(e,n,r){if(null==e)return e;if(!this.supports(e))throw c(t,e);return e.slice(n,r)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t}();Nt.decorators=[{type:P.L,args:[{name:"slice",pure:!1}]}],Nt.ctorParameters=function(){return[]};var At=[at,lt,ut,It,Nt,bt,_t,ct,wt,Ct,Ot,Tt],Pt=function(){function t(){}return t}();Pt.decorators=[{type:P.B,args:[{declarations:[nt,At],exports:[nt,At],providers:[{provide:F,useClass:V}]}]}],Pt.ctorParameters=function(){return[]};var Rt=function(){function t(){}return t}();Rt.decorators=[{type:P.B,args:[{declarations:[],exports:[]}]}],Rt.ctorParameters=function(){return[]};var xt=new P.v("DocumentToken"),kt="browser";new P.Y("4.4.5")},"qm+V":function(t,e,n){"use strict";var r=n("bKpL"),o=n("CE6k");r.Observable.prototype.share=o.share},"r+/7":function(t,e,n){"use strict";var r=n("bKpL"),o=n("THYR");r.Observable.prototype.every=o.every},r2Rd:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("Io40"),i=n("IqVs"),s=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return r(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=i.AnimationFrame.requestAnimationFrame(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(i.AnimationFrame.cancelAnimationFrame(n),e.scheduled=void 0)},e}(o.AsyncAction);e.AnimationFrameAction=s},r9Yg:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return r.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return r.isEmpty(this.set)},t.prototype.count=function(){return r.getCount(this.set)},t.prototype.each=function(t){r.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return r.forEach(this.set,function(e){t.push(e)}),t},t}();e.CountedSet=o},rAcl:function(t,e,n){"use strict";var r=n("Qv0T");e.pairs=r.PairsObservable.create},rB9K:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n("JEJ4"),i=n("stu6"),s=n("/fob"),a=n("Nq7v"),u=n("G0Qy"),c=n("F1yO"),l=n("fvGz"),h=n("xfHL"),p=n("JEJ4"),f=n("rtGJ"),d=n("JEJ4"),y=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return o.assert(r,"Reference.ts has not been loaded"),r},set:function(t){r=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===i.KEY_INDEX){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=c.MIN_NAME)throw new Error(r);if("string"!=typeof e)throw new Error(l)}if(t.hasEnd()){if(t.getIndexEndName()!=c.MAX_NAME)throw new Error(r);if("string"!=typeof n)throw new Error(l)}}else if(t.getIndex()===s.PRIORITY_INDEX){if(null!=e&&!h.isValidPriority(e)||null!=n&&!h.isValidPriority(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(o.assert(t.getIndex()instanceof u.PathIndex||t.getIndex()===a.VALUE_INDEX,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return p.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,o){p.validateArgCount("Query.on",2,4,arguments.length),h.validateEventType("Query.on",1,e,!1),p.validateCallback("Query.on",2,n,!1);var i=t.getCancelAndContextArgs_("Query.on",r,o);if("value"===e)this.onValueEvent(n,i.cancel,i.context);else{var s={};s[e]=n,this.onChildEvent(s,i.cancel,i.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new f.ValueEventRegistration(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new f.ChildEventRegistration(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){p.validateArgCount("Query.off",0,3,arguments.length),h.validateEventType("Query.off",1,t,!0),p.validateCallback("Query.off",2,e,!0),p.validateContextObject("Query.off",3,n,!0);var r=null,o=null;if("value"===t){var i=e||null;r=new f.ValueEventRegistration(i,null,n||null)}else t&&(e&&(o={},o[t]=e),r=new f.ChildEventRegistration(o,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,o){var i=this;p.validateArgCount("Query.once",1,4,arguments.length),h.validateEventType("Query.once",1,e,!1),p.validateCallback("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,o),a=!0,u=new d.Deferred;u.promise.catch(function(){});var c=function(t){a&&(a=!1,i.off(e,c),n&&n.bind(s.context)(t),u.resolve(t))};return this.on(e,c,function(t){i.off(e,c),s.cancel&&s.cancel.bind(s.context)(t),u.reject(t)}),u.promise},t.prototype.limitToFirst=function(e){if(p.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(p.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(p.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');h.validatePathString("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new l.Path(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new u.PathIndex(n),o=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(o),new t(this.repo,this.path,o,!0)},t.prototype.orderByKey=function(){p.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(i.KEY_INDEX);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){p.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(s.PRIORITY_INDEX);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){p.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(a.VALUE_INDEX);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),p.validateArgCount("Query.startAt",0,2,arguments.length),h.validateFirebaseDataArg("Query.startAt",1,e,this.path,!0),h.validateKey("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),p.validateArgCount("Query.endAt",0,2,arguments.length),h.validateFirebaseDataArg("Query.endAt",1,e,this.path,!0),h.validateKey("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(p.validateArgCount("Query.equalTo",1,2,arguments.length),h.validateFirebaseDataArg("Query.equalTo",1,t,this.path,!1),h.validateKey("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return p.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return p.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=c.ObjectToUniqueKey(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(p.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var n=this.repo===e.repo,r=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return n&&r&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,p.validateCallback(t,3,r.cancel,!0),r.context=n,p.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(p.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}();e.Query=y},rDIt:function(t,e,n){"use strict";function r(t,e,n){return this.lift(new s(t,e,n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e._do=r;var s=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))},t}(),a=function(t){function e(e,n,r,o){t.call(this,e);var s=new i.Subscriber(n,r,o);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}return o(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(i.Subscriber)},rbSf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=n("fvGz"),i=n("gOHv"),s=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=i.OperationType.ACK_USER_WRITE,this.source=i.OperationSource.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return r.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new o.Path(e));return new t(o.Path.Empty,n,this.revert)}return r.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}();e.AckUserWrite=s},rf3q:function(t,e,n){"use strict";function r(t,e,n){if(t){if(t instanceof o.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||e||n?new o.Subscriber(t,e,n):new o.Subscriber(s.empty)}var o=n("T14+"),i=n("dkwD"),s=n("LiYJ");e.toSubscriber=r},rlar:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=n("T14+"),s=n("xFbG"),a=n("Lhvy"),u=n("g0Kb"),c=n("dkwD"),l=function(t){function e(e){t.call(this,e),this.destination=e}return r(e,t),e}(i.Subscriber);e.SubjectSubscriber=l;var h=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(e,t),e.prototype[c.rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new o.Observable;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(o.Observable);e.Subject=h;var p=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return r(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},e}(h);e.AnonymousSubject=p},rp90:function(t,e,n){"use strict";var r=n("bKpL"),o=n("IOeT");r.Observable.prototype.combineAll=o.combineAll},rtGJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("GnQ5"),o=n("A4jy"),i=n("JEJ4"),s=n("JEJ4"),a=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new o.DataEvent("value",this,new r.DataSnapshot(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new o.CancelEvent(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}();e.ValueEventRegistration=a;var u=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,i.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new o.CancelEvent(this,t,e):null},t.prototype.createEvent=function(t,e){s.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),i=e.getQueryParams().getIndex();return new o.DataEvent(t.type,this,new r.DataSnapshot(t.snapshotNode,n,i),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=i.getCount(e.callbacks_);if(n===i.getCount(this.callbacks_)){if(1===n){var r=i.getAnyKey(e.callbacks_),o=i.getAnyKey(this.callbacks_);return!(o!==r||e.callbacks_[r]&&this.callbacks_[o]&&e.callbacks_[r]!==this.callbacks_[o])}return i.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}();e.ChildEventRegistration=u},ruZE:function(t,e,n){"use strict";var r=n("r2Rd"),o=n("7Obz");e.animationFrame=new o.AnimationFrameScheduler(r.AnimationFrameAction)},ryHz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("fAJX"),o=(n.n(r),n("vrVh")),i=(n.n(o),n("ctu8"));n.n(i)},s6AU:function(t,e,n){"use strict";function r(t){return this.lift(new s(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.takeWhile=r;var s=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate))},t}(),a=function(t){function e(e,n){t.call(this,e),this.predicate=n,this.index=0}return o(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void n.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):n.complete()},e}(i.Subscriber)},sLwK:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("EsGe"),i=n("bKpL"),s=n("IhB/"),a=n("MicL"),u=n("6jp4"),c=function(t){function e(e,n,r){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,o.isNumeric(n)?this.period=Number(n)<1&&1||Number(n):a.isScheduler(n)&&(r=n),a.isScheduler(r)||(r=s.async),this.scheduler=r,this.dueTime=u.isDate(e)?+e-this.scheduler.now():e}return r(e,t),e.create=function(t,n,r){return void 0===t&&(t=0),new e(t,n,r)},e.dispatch=function(t){var e=t.index,n=t.period,r=t.subscriber,o=this;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,o.schedule(t,n)}},e.prototype._subscribe=function(t){var n=this,r=n.period,o=n.dueTime;return n.scheduler.schedule(e.dispatch,o,{index:0,period:r,subscriber:t})},e}(i.Observable);e.TimerObservable=c},sSYo:function(t,e,n){"use strict";var r=n("bKpL"),o=n("Fi2k");r.Observable.prototype.windowToggle=o.windowToggle},sZ8A:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");e.nextPushId=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(o){var i=o===e;e=o;var s,a=new Array(8);for(s=7;s>=0;s--)a[s]=t.charAt(o%64),o=Math.floor(o/64);r.assert(0===o,"Cannot push at time == 0");var u=a.join("");if(i){for(s=11;s>=0&&63===n[s];s--)n[s]=0;n[s]++}else for(s=0;s<12;s++)n[s]=Math.floor(64*Math.random());for(s=0;s<12;s++)u+=t.charAt(n[s]);return r.assert(20===u.length,"nextPushId: Length should be 20."),u}}()},saEi:function(t,e,n){"use strict";function r(t){return i.multicast.call(this,new o.BehaviorSubject(t))}var o=n("gvep"),i=n("gonN");e.publishBehavior=r},slZm:function(t,e,n){"use strict";var r=n("fcnB");e.empty=r.EmptyObservable.create},srZQ:function(t,e,n){"use strict";var r=n("bKpL"),o=n("RvTY");r.Observable.prototype.flatMapTo=o.mergeMapTo,r.Observable.prototype.mergeMapTo=o.mergeMapTo},stu6:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o,i=n("GboV"),s=n("p+VM"),a=n("F1yO"),u=n("JEJ4"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return o},set:function(t){o=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return a.nameCompare(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw u.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return s.NamedNode.MIN},e.prototype.maxPost=function(){return new s.NamedNode(a.MAX_NAME,o)},e.prototype.makePost=function(t,e){return u.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new s.NamedNode(t,o)},e.prototype.toString=function(){return".key"},e}(i.Index);e.KeyIndex=c,e.KEY_INDEX=new c},svCP:function(t,e,n){"use strict";var r=n("bKpL"),o=n("tl8U");r.Observable.prototype.retryWhen=o.retryWhen},t8nJ:function(t,e,n){"use strict";var r=n("bKpL"),o=n("8pdA");r.Observable.prototype.bufferTime=o.bufferTime},tBQh:function(t,e,n){"use strict";function r(t,e){void 0===e&&(e=i.async);var n=s.isDate(t),r=n?+t-e.now():Math.abs(t);return this.lift(new c(r,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("IhB/"),s=n("6jp4"),a=n("T14+"),u=n("3lsR");e.delay=r;var c=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.delay,this.scheduler))},t}(),l=function(t){function e(e,n,r){t.call(this,e),this.delay=n,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}return o(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,o=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(o);if(n.length>0){var i=Math.max(0,n[0].time-r.now());this.schedule(t,i)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new h(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(u.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(u.Notification.createComplete())},e}(a.Subscriber),h=function(){function t(t,e){this.time=t,this.notification=e}return t}()},tYwN:function(t,e,n){"use strict";function r(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return c.RepoManager.getInstance().databaseFromApp(t,n)},{Reference:a.Reference,Query:s.Query,Database:i.Database,enableLogging:u.enableLogging,INTERNAL:l,ServerValue:f,TEST_ACCESS:h},null,!0);p.isNodeSdk()&&(t.exports=n)}Object.defineProperty(e,"__esModule",{value:!0});var o=n("XtH8"),i=n("8UuO");e.Database=i.Database;var s=n("rB9K");e.Query=s.Query;var a=n("5pXs");e.Reference=a.Reference;var u=n("F1yO");e.enableLogging=u.enableLogging;var c=n("+VeI"),l=n("xvZM"),h=n("7qHF"),p=n("JEJ4"),f=i.Database.ServerValue;e.ServerValue=f,e.registerDatabase=r,r(o.default);var d=n("GnQ5");e.DataSnapshot=d.DataSnapshot;var y=n("oyal");e.OnDisconnect=y.OnDisconnect},tcot:function(t,e,n){"use strict";var r=n("bKpL"),o=n("F/7+");r.Observable.zip=o.zip},tl8U:function(t,e,n){"use strict";function r(t){return this.lift(new l(t,this))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("rlar"),s=n("RdI5"),a=n("XRvs"),u=n("yW9Z"),c=n("ktfo");e.retryWhen=r;var l=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.notifier,this.source))},t}(),h=function(t){function e(e,n,r){t.call(this,e),this.notifier=n,this.source=r}return o(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{if(n=new i.Subject,(r=s.tryCatch(this.notifier)(n))===a.errorObject)return t.prototype.error.call(this,a.errorObject.e);o=c.subscribeToResult(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(e)}},e.prototype._unsubscribe=function(){var t=this,e=t.errors,n=t.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),n&&(n.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,n,r,o){var i=this,s=i.errors,a=i.retries,u=i.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=s,this.retries=a,this.retriesSubscription=u,this.source.subscribe(this)},e}(u.OuterSubscriber)},tpuU:function(t,e,n){"use strict";function r(t){return this.lift(new o.ZipOperator(t))}var o=n("0I3B");e.zipAll=r},uCc5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n("y8hQ"),i=n("R3TC"),s=n("JEJ4"),a=n("JEJ4"),u=n("bN85"),c=n("0npo"),l=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return s.assert(r,"Reference.ts has not been loaded"),r},set:function(t){s.assert(!r,"__referenceConstructor has already been defined"),r=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return a.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var r=t.source.queryId;if(null!==r){var o=a.safeGet(this.views_,r);return s.assert(null!=o,"SyncTree gave us an op for an invalid query."),o.applyOperation(t,e,n)}var i=[];return a.forEach(this.views_,function(r,o){i=i.concat(o.applyOperation(t,e,n))}),i},t.prototype.addEventRegistration=function(t,e,n,r,s){var l=t.queryIdentifier(),h=a.safeGet(this.views_,l);if(!h){var p=n.calcCompleteEventCache(s?r:null),f=!1;p?f=!0:r instanceof i.ChildrenNode?(p=n.calcCompleteEventChildren(r),f=!1):(p=i.ChildrenNode.EMPTY_NODE,f=!1);var d=new u.ViewCache(new o.CacheNode(p,f,!1),new o.CacheNode(r,s,!1));h=new c.View(t,d),this.views_[l]=h}return h.addEventRegistration(e),h.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o=e.queryIdentifier(),i=[],s=[],u=this.hasCompleteView();if("default"===o){var c=this;a.forEach(this.views_,function(t,e){s=s.concat(e.removeEventRegistration(n,r)),e.isEmpty()&&(delete c.views_[t],e.getQuery().getQueryParams().loadsAllData()||i.push(e.getQuery()))})}else{var l=a.safeGet(this.views_,o);l&&(s=s.concat(l.removeEventRegistration(n,r)),l.isEmpty()&&(delete this.views_[o],l.getQuery().getQueryParams().loadsAllData()||i.push(l.getQuery())))}return u&&!this.hasCompleteView()&&i.push(new t.__referenceConstructor(e.repo,e.path)),{removed:i,events:s}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return a.forEach(this.views_,function(n,r){e=e||r.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return a.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return a.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()})||null},t}();e.SyncPoint=l},uGEk:function(t,e,n){"use strict";var r=n("bKpL"),o=n("2UX5");r.Observable.prototype.timeout=o.timeout},"uT+d":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ArgumentOutOfRangeError=o},uYJe:function(t,e,n){"use strict";function r(t){return this.lift(new a(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("xFbG");e._finally=r;var a=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.callback))},t}(),u=function(t){function e(e,n){t.call(this,e),this.add(new s.Subscription(n))}return o(e,t),e}(i.Subscriber)},ub06:function(t,e,n){"use strict";var r=n("bKpL"),o=n("ViUi");r.Observable.prototype.merge=o.merge},ueUM:function(t,e,n){"use strict";function r(t){var e=new a(t),n=this.lift(e);return e.caught=n}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),s=n("ktfo");e._catch=r;var a=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.selector,this.caught))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.selector=n,this.caught=r}return o(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(s.subscribeToResult(this,n))}},e}(i.OuterSubscriber)},usOC:function(t,e,n){"use strict";function r(t){return"storage/"+t}function o(){return new ee(ne.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function i(t){return new ee(ne.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function s(t){return new ee(ne.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function a(){return new ee(ne.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}function u(t){return new ee(ne.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function c(){return new ee(ne.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function l(){return new ee(ne.CANCELED,"User canceled the upload/download.")}function h(t){return new ee(ne.INVALID_URL,"Invalid URL '"+t+"'.")}function p(t){return new ee(ne.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function f(){return new ee(ne.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function d(){return new ee(ne.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function y(){return new ee(ne.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function v(t,e,n){return new ee(ne.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function m(t,e,n,r){var o,i;return t===e?(o=t,i=1===t?"argument":"arguments"):(o="between "+t+" and "+e,i="arguments"),new ee(ne.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+o+" "+i+", received "+r+".")}function g(){return new ee(ne.APP_DELETED,"The Firebase app was deleted.")}function b(t){return new ee(ne.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _(t,e){return new ee(ne.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function w(t){throw new ee(ne.INTERNAL_ERROR,"Internal error: "+t)}function E(t){switch(t){case re.RAW:case re.BASE64:case re.BASE64URL:case re.DATA_URL:return;default:throw"Expected one of the event types: ["+re.RAW+", "+re.BASE64+", "+re.BASE64URL+", "+re.DATA_URL+"]."}}function C(t,e){switch(t){case re.RAW:return new oe(S(e));case re.BASE64:case re.BASE64URL:return new oe(T(t,e));case re.DATA_URL:return new oe(I(e),N(e))}throw o()}function S(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r)){var o=n<t.length-1&&56320==(64512&t.charCodeAt(n+1));if(o){var i=r,s=t.charCodeAt(++n);r=65536|(1023&i)<<10|1023&s,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189)}else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function O(t){var e;try{e=decodeURIComponent(t)}catch(t){throw _(re.DATA_URL,"Malformed data URL.")}return S(e)}function T(t,e){switch(t){case re.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r){var o=n?"-":"_";throw _(t,"Invalid character '"+o+"' found: is it base64url encoded?")}break;case re.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s){var o=i?"+":"/";throw _(t,"Invalid character '"+o+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw _(t,"Invalid character found")}for(var u=new Uint8Array(a.length),c=0;c<a.length;c++)u[c]=a.charCodeAt(c);return u}function I(t){var e=new ie(t);return e.base64?T(re.BASE64,e.rest):O(e.rest)}function N(t){return new ie(t).contentType}function A(t,e){return!!(t.length>=e.length)&&t.substring(t.length-e.length)===e}function P(t){switch(t){case ae.RUNNING:case ae.PAUSING:case ae.CANCELING:return ue.RUNNING;case ae.PAUSED:return ue.PAUSED;case ae.SUCCESS:return ue.SUCCESS;case ae.CANCELED:return ue.CANCELED;case ae.ERROR:default:return ue.ERROR}}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function x(t,e){for(var n in t)R(t,n)&&e(n,t[n])}function k(t){if(null==t)return{};var e={};return x(t,function(t,n){e[t]=n}),e}function D(t){return new Promise(t)}function M(t){return Promise.resolve(t)}function L(t){return Promise.reject(t)}function j(t){return null!=t}function F(t){return void 0!==t}function V(t){return"function"==typeof t}function U(t){return"object"==typeof t}function B(t){return U(t)&&null!==t}function q(t){return U(t)&&!Array.isArray(t)}function W(t){return"string"==typeof t||t instanceof String}function H(t){return"number"==typeof t||t instanceof Number}function K(t){return G()&&t instanceof Blob}function G(){return"undefined"!=typeof Blob}function Q(t){var e;try{e=JSON.parse(t)}catch(t){return null}return q(e)?e:null}function z(t){if(0==t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}function J(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}function X(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Y(t){return Qt+Jt+t}function Z(t){return zt+Jt+t}function $(t){return Qt+Xt+t}function tt(t){var e=encodeURIComponent,n="?";return x(t,function(t,r){var o=e(t)+"="+e(r);n=n+o+"&"}),n=n.slice(0,-1)}function et(t,e){return e}function nt(t){return!W(t)||t.length<2?t:(t=t,X(t))}function rt(){function t(t,e){return nt(e)}function e(t,e){return j(e)?+e:e}function n(t,e){if(!(W(e)&&e.length>0))return[];var n=encodeURIComponent;return e.split(",").map(function(e){var r=t.bucket,o=t.fullPath;return Z("/b/"+n(r)+"/o/"+n(o))+tt({alt:"media",token:e})})}if(fe)return fe;var r=[];r.push(new pe("bucket")),r.push(new pe("generation")),r.push(new pe("metageneration")),r.push(new pe("name","fullPath",!0));var o=new pe("name");o.xform=t,r.push(o);var i=new pe("size");return i.xform=e,r.push(i),r.push(new pe("timeCreated")),r.push(new pe("updated")),r.push(new pe("md5Hash",null,!0)),r.push(new pe("cacheControl",null,!0)),r.push(new pe("contentDisposition",null,!0)),r.push(new pe("contentEncoding",null,!0)),r.push(new pe("contentLanguage",null,!0)),r.push(new pe("contentType",null,!0)),r.push(new pe("metadata","customMetadata",!0)),r.push(new pe("downloadTokens","downloadURLs",!1,n)),fe=r}function ot(t,e){function n(){var n=t.bucket,r=t.fullPath,o=new he(n,r);return e.makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function it(t,e,n){var r={};r.type="file";for(var o=n.length,i=0;i<o;i++){var s=n[i];r[s.local]=s.xform(r,e[s.server])}return ot(r,t),r}function st(t,e,n){var r=Q(e);return null===r?null:it(t,r,n)}function at(t,e){for(var n={},r=e.length,o=0;o<r;o++){var i=e[o];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}function ut(t){if(!t||!U(t))throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e){if(!U(n))throw"Expected object for 'customMetadata' mapping."}else if(B(n))throw"Mapping for '"+e+"' cannot be an object."}}function ct(t,e,n){for(var r=e.length,o=e.length,i=0;i<e.length;i++)if(e[i].optional){r=i;break}if(!(r<=n.length&&n.length<=o))throw m(r,o,t,n.length);for(var i=0;i<n.length;i++)try{e[i].validator(n[i])}catch(e){throw e instanceof Error?v(i,t,e.message):v(i,t,e)}}function lt(t,e){return function(n){t(n),e(n)}}function ht(t,e){function n(t){if(!W(t))throw"Expected string."}var r;return r=t?lt(n,t):n,new de(r,e)}function pt(){function t(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||G()&&t instanceof Blob))throw"Expected Blob or File."}return new de(t)}function ft(t){return new de(ut,t)}function dt(){function t(t){if(!(H(t)&&t>=0))throw"Expected a number 0 or greater."}return new de(t)}function yt(t,e){function n(e){if(!(null===e||j(e)&&e instanceof Object))throw"Expected an Object.";void 0!==t&&null!==t&&t(e)}return new de(n,e)}function vt(t){function e(t){if(null!==t&&!V(t))throw"Expected a Function."}return new de(e,t)}function mt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function gt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=mt();if(void 0!==n){for(var r=new n,o=0;o<t.length;o++)r.append(t[o]);return r.getBlob()}if(G())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}function bt(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function _t(t,e){return-1!==t.indexOf(e)}function wt(t){return Array.prototype.slice.call(t)}function Et(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function Ct(t){if(!t)throw o()}function St(t,e){function n(n,r){var o=st(t,r,e);return Ct(null!==o),o}return n}function Ot(t){function e(e,n){var r;return r=401===e.getStatus()?a():402===e.getStatus()?s(t.bucket):403===e.getStatus()?u(t.path):n,r.setServerResponseProp(n.serverResponseProp()),r}return e}function Tt(t){function e(e,r){var o=n(e,r);return 404===e.getStatus()&&(o=i(t.path)),o.setServerResponseProp(r.serverResponseProp()),o}var n=Ot(t);return e}function It(t,e,n){var r=e.fullServerUrl(),o=Y(r),i=t.maxOperationRetryTime(),s=new ve(o,"GET",St(t,n),i);return s.errorHandler=Tt(e),s}function Nt(t,e,n,r){var o=e.fullServerUrl(),i=Y(o),s=at(n,r),a={"Content-Type":"application/json; charset=utf-8"},u=t.maxOperationRetryTime(),c=new ve(i,"PATCH",St(t,r),u);return c.headers=a,c.body=s,c.errorHandler=Tt(e),c}function At(t,e){function n(t,e){}var r=e.fullServerUrl(),o=Y(r),i=t.maxOperationRetryTime(),s=new ve(o,"DELETE",n,i);return s.successCodes=[200,204],s.errorHandler=Tt(e),s}function Pt(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Rt(t,e,n){var r=k(n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Pt(null,e)),r}function xt(t,e,n,r,o){var i=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=Rt(e,r,o),c=at(u,n),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",h="\r\n--"+a+"--",p=ye.getBlob(l,r,h);if(null===p)throw f();var d={name:u.fullPath},y=$(i),v=t.maxUploadRetryTime(),m=new ve(y,"POST",St(t,n),v);return m.urlParams=d,m.headers=s,m.body=p.uploadData(),m.errorHandler=Ot(e),m}function kt(t,e){var n;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){Ct(!1)}return Ct(_t(e||["active"],n)),n}function Dt(t,e,n,r,o){function i(t,e){kt(t);var n;try{n=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){Ct(!1)}return Ct(W(n)),n}var s=e.bucketOnlyServerUrl(),a=Rt(e,r,o),u={name:a.fullPath},c=$(s),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},h=at(a,n),p=t.maxUploadRetryTime(),f=new ve(c,"POST",i,p);return f.urlParams=u,f.headers=l,f.body=h,f.errorHandler=Ot(e),f}function Mt(t,e,n,r){function o(t,e){var n,o=kt(t,["active","final"]);try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){Ct(!1)}var i=parseInt(n,10);return Ct(!isNaN(i)),new me(i,r.size(),"final"===o)}var i={"X-Goog-Upload-Command":"query"},s=t.maxUploadRetryTime(),a=new ve(n,"POST",o,s);return a.headers=i,a.errorHandler=Ot(e),a}function Lt(t,e,n,r,o,i,s,a){function u(t,n){var o,s=kt(t,["active","final"]),a=c.current+h,u=r.size();return o="final"===s?St(e,i)(t,n):null,new me(a,u,"final"===s,o)}var c=new me(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw d();var l=c.total-c.current,h=l;o>0&&(h=Math.min(h,o));var p=c.current,y=p+h,v=h===l?"upload, finalize":"upload",m={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":c.current},g=r.slice(p,y);if(null===g)throw f();var b=e.maxUploadRetryTime(),_=new ve(n,"POST",u,b);return _.headers=m,_.body=g.uploadData(),_.progressCallback=a||null,_.errorHandler=Ot(t),_}function jt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];M(!0).then(function(){t.apply(null,e)})}}function Ft(t,e,n){function r(){return 2===h}function o(){p||(p=!0,e.apply(null,arguments))}function i(e){c=setTimeout(function(){c=null,t(s,r())},e)}function s(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!p){if(t)return void o.apply(null,arguments);if(r()||l)return void o.apply(null,arguments);u<64&&(u*=2);var s;1===h?(h=2,s=0):s=1e3*(u+Math.random()),i(s)}}function a(t){f||(f=!0,p||(null!==c?(t||(h=2),clearTimeout(c),i(0)):t||(h=1)))}var u=1,c=null,l=!1,h=0,p=!1,f=!1;return i(0),setTimeout(function(){l=!0,a(!0)},n),a}function Vt(t){t(!1)}function Ut(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}function Bt(t){var e=void 0!==Gt.default?Gt.default.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}function qt(t,e,n){var r=tt(t.urlParams),o=t.url+r,i=k(t.headers);return Ut(i,e),Bt(i),new Oe(o,t.method,i,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}function Wt(t,e,n){return new Ie(t,new le,n)}function Ht(t){var e={TaskState:ue,TaskEvent:se,StringFormat:re,Storage:Ie,Reference:we};t.INTERNAL.registerService(Ae,Wt,e,void 0,!0)}Object.defineProperty(e,"__esModule",{value:!0});var Kt,Gt=n("XtH8"),Qt="https://firebasestorage.googleapis.com",zt="https://firebasestorage.googleapis.com",Jt="/v0",Xt="/v0",Yt="storageBucket",Zt=12e4,$t=6e4,te=-9007199254740991,ee=function(){function t(t,e){this.code_=r(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return r(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),ne={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"},re={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},oe=function(){function t(t,e){this.data=t,this.contentType=e||null}return t}(),ie=function(){function t(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw _(re.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=A(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}return t}(),se={STATE_CHANGED:"state_changed"},ae={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},ue={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Kt=Kt||(Kt={}));var ce=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Kt.NO_ERROR,this.sendPromise_=D(function(e,n){t.xhr_.addEventListener("abort",function(n){t.errorCode_=Kt.ABORT,e(t)}),t.xhr_.addEventListener("error",function(n){t.errorCode_=Kt.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(n){e(t)})})}return t.prototype.send=function(t,e,n,r){var o=this;if(this.sent_)throw w("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),j(r)){x(r,function(t,e){o.xhr_.setRequestHeader(t,e.toString())})}return j(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw w("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw w("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){j(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){j(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),le=function(){function t(){}return t.prototype.createXhrIo=function(){return new ce},t}(),he=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw p(e)},t.makeFromUrl=function(e){function n(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}function r(t){t.path_=decodeURIComponent(t.path)}for(var o=null,i=new RegExp("^gs://([A-Za-z0-9.\\-]+)(/(.*))?$","i"),s={bucket:1,path:3},a=new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-]+)/o(/([^?#]*).*)?$","i"),u={bucket:1,path:3},c=[{regex:i,indices:s,postModify:n},{regex:a,indices:u,postModify:r}],l=0;l<c.length;l++){var p=c[l],f=p.regex.exec(e);if(f){var d=f[p.indices.bucket],y=f[p.indices.path];y||(y=""),o=new t(d,y),p.postModify(o);break}}if(null==o)throw h(e);return o},t}(),pe=function(){function t(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||et}return t}(),fe=null,de=function(){function t(t,e){var n=this;this.validator=function(e){n.optional&&!F(e)||t(e)},this.optional=!!e}return t}(),ye=function(){function t(t,e){var n=0,r="";K(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(K(this.data_)){var r=this.data_,o=bt(r,e,n);return null===o?null:new t(o)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(G()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(gt.apply(null,r))}var o=e.map(function(t){return W(t)?C(re.RAW,t).data:t.data_}),i=0;o.forEach(function(t){i+=t.byteLength});var s=new Uint8Array(i),a=0;return o.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),ve=function(){function t(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}(),me=function(){function t(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}return t}(),ge=function(){function t(t,e,n){if(V(t)||j(e)||j(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}return t}(),be=function(){function t(t,e,n,r,o,i){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=o,this.ref=i}return Object.defineProperty(t.prototype,"downloadURL",{get:function(){if(null!==this.metadata){var t=this.metadata.downloadURLs;return null!=t&&null!=t[0]?t[0]:null}return null},enumerable:!0,configurable:!0}),t}(),_e=function(){function t(t,e,n,r,o,i){void 0===i&&(i=null);var s=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=o,this.metadata_=i,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=ae.RUNNING,this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals(ne.CANCELED)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_(ae.ERROR))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals(ne.CANCELED)?s.completeTransitions_():(s.error_=t,s.transition_(ae.ERROR))},this.promise_=D(function(t,e){s.resolve_=t,s.reject_=e,s.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n,r){t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===ae.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(n){switch(e.state_){case ae.RUNNING:t(n);break;case ae.CANCELING:e.transition_(ae.CANCELED);break;case ae.PAUSING:e.transition_(ae.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=Dt(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var r=Mt(t.authWrapper_,t.location_,e,t.blob_),o=t.authWrapper_.makeRequest(r,n);t.request_=o,o.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new me(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(o){var i;try{i=Lt(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(ae.ERROR)}var s=t.authWrapper_.makeRequest(i,o);t.request_=s,s.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(ae.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=It(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(ae.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=xt(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(ae.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case ae.CANCELING:case ae.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case ae.RUNNING:var e=this.state_===ae.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case ae.PAUSED:this.state_=t,this.notifyObservers_();break;case ae.CANCELED:this.error_=l(),this.state_=t,this.notifyObservers_();break;case ae.ERROR:case ae.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case ae.PAUSING:this.transition_(ae.PAUSED);break;case ae.CANCELING:this.transition_(ae.CANCELED);break;case ae.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=P(this.state_);return new be(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function o(e){if(t!==se.STATE_CHANGED)throw"Expected one of the event types: ["+se.STATE_CHANGED+"]."}function i(t){try{return void c(t)}catch(t){}try{l(t);if(!(F(t.next)||F(t.error)||F(t.complete)))throw"";return}catch(t){throw u}}function s(t){function e(e,n,o){null!==t&&ct("on",t,arguments);var i=new ge(e,n,r);return h.addObserver_(i),function(){h.removeObserver_(i)}}return e}function a(t){if(null===t)throw u;i(t)}void 0===e&&(e=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0);var u="Expected a function or an Object with one of `next`, `error`, `complete` properties.",c=vt(!0).validator,l=yt(null,!0).validator;ct("on",[ht(o),yt(i,!0),vt(!0),vt(!0)],arguments);var h=this,p=[yt(a),vt(!0),vt(!0)];return F(e)||F(n)||F(r)?s(null)(e,n,r):s(p)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){Et(this.observers_,t)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),wt(this.observers_).forEach(function(e){t.notifyObserver_(e)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(P(this.state_)){case ue.SUCCESS:jt(this.resolve_.bind(null,this.snapshot))();break;case ue.CANCELED:case ue.ERROR:jt(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(P(this.state_)){case ue.RUNNING:case ue.PAUSED:null!==t.next&&jt(t.next.bind(t,this.snapshot))();break;case ue.SUCCESS:null!==t.complete&&jt(t.complete.bind(t))();break;case ue.CANCELED:case ue.ERROR:null!==t.error&&jt(t.error.bind(t,this.error_))();break;default:null!==t.error&&jt(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){ct("resume",[],arguments);var t=this.state_===ae.PAUSED||this.state_===ae.PAUSING;return t&&this.transition_(ae.RUNNING),t},t.prototype.pause=function(){ct("pause",[],arguments);var t=this.state_===ae.RUNNING;return t&&this.transition_(ae.PAUSING),t},t.prototype.cancel=function(){ct("cancel",[],arguments);var t=this.state_===ae.RUNNING||this.state_===ae.PAUSING;return t&&this.transition_(ae.CANCELING),t},t}(),we=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof he?e:he.makeFromUrl(e)}return t.prototype.toString=function(){return ct("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return rt()},t.prototype.child=function(t){ct("child",[ht()],arguments);var e=J(this.location.path,t),n=new he(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=z(this.location.path);if(null===t)return null;var e=new he(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new he(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return X(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),ct("put",[pt(),ft(!0)],arguments),this.throwIfRoot_("put"),new _e(this,this.authWrapper,this.location,this.mappings(),new ye(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=re.RAW),ct("putString",[ht(),ht(E,!0),ft(!0)],arguments),this.throwIfRoot_("putString");var r=C(e,t),o=k(n);return!j(o.contentType)&&j(r.contentType)&&(o.contentType=r.contentType),new _e(this,this.authWrapper,this.location,this.mappings(),new ye(r.data,!0),o)},t.prototype.delete=function(){ct("delete",[],arguments),this.throwIfRoot_("delete");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=At(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.getMetadata=function(){ct("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=It(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){ct("updateMetadata",[ft()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(n){var r=Nt(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()})},t.prototype.getDownloadURL=function(){return ct("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.getMetadata().then(function(t){var e=t.downloadURLs[0];if(j(e))return e;throw y()})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw b(t)},t}(),Ee=function(){function t(t){this.promise_=L(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){void 0===t&&(t=!1)},t}(),Ce=function(){function t(){this.map_={},this.id_=te}return t.prototype.addRequest=function(t){function e(){delete r.map_[n]}var n=this.id_;this.id_++,this.map_[n]=t;var r=this;t.getPromise().then(e,e)},t.prototype.clear=function(){x(this.map_,function(t,e){e&&e.cancel(!0)}),this.map_={}},t}(),Se=function(){function t(e,n,r,o,i){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var s=this.app_.options;j(s)&&(this.bucket_=t.extractBucket_(s))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=i,this.service_=o,this.maxOperationRetryTime_=Zt,this.maxUploadRetryTime_=$t,this.requestMap_=new Ce}return t.extractBucket_=function(t){var e=t[Yt]||null;return null==e?null:he.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&j(this.app_.INTERNAL)&&j(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(t){return null}):M(null)},t.prototype.bucket=function(){if(this.deleted_)throw g();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new Ee(g());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),Oe=function(){function t(t,e,n,r,o,i,s,a,u,c,l){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=o.slice(),this.additionalRetryCodes_=i.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l;var h=this;this.promise_=D(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){function t(t,e){function r(t){var e=t.loaded,r=t.lengthComputable?t.total:-1;null!==n.progressCallback_&&n.progressCallback_(e,r)}if(e)return void t(!1,new Te(!1,null,!0));var o=n.pool_.createXhrIo();n.pendingXhr_=o,null!==n.progressCallback_&&o.addUploadProgressListener(r),o.send(n.url_,n.method_,n.body_,n.headers_).then(function(e){null!==n.progressCallback_&&e.removeUploadProgressListener(r),n.pendingXhr_=null,e=e;var o=e.getErrorCode()===Kt.NO_ERROR,i=e.getStatus();if(!o||n.isRetryStatusCode_(i)){var s=e.getErrorCode()===Kt.ABORT;return void t(!1,new Te(!1,null,s))}var a=_t(n.successCodes_,i);t(!0,new Te(a,e))})}function e(t,e){var r=n.resolve_,i=n.reject_,s=e.xhr;if(e.wasSuccessCode)try{var a=n.callback_(s,s.getResponseText());F(a)?r(a):r()}catch(t){i(t)}else if(null!==s){var u=o();u.setServerResponseProp(s.getResponseText()),i(n.errorCallback_?n.errorCallback_(s,u):u)}else if(e.canceled){var u=n.appDelete_?g():l();i(u)}else{var u=c();i(u)}}var n=this;this.canceled_?e(!1,new Te(!1,null,!0)):this.backoffId_=Ft(t,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&Vt(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=[408,429],r=_t(n,t),o=_t(this.additionalRetryCodes_,t);return e||r||o},t}(),Te=function(){function t(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}return t}(),Ie=function(){function t(t,e,n){function r(t,e){return new we(t,e)}if(this.bucket_=null,this.authWrapper_=new Se(t,r,qt,this,e),this.app_=t,null!=n)this.bucket_=he.makeFromBucketSpec(n);else{var o=this.authWrapper_.bucket();null!=o&&(this.bucket_=new he(o,""))}this.internals_=new Ne(this)}return t.prototype.ref=function(t){function e(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(ct("ref",[ht(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new we(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{he.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}}return ct("refFromURL",[ht(e,!1)],arguments),new we(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){ct("setMaxUploadRetryTime",[dt()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){ct("setMaxOperationRetryTime",[dt()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),Ne=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),M(void 0)},t}();e.registerStorage=Ht;var Ae="storage";Ht(Gt.default)},uzI5:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("32XG"),i=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return r(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(var r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(var r=16;r<80;r++){var o=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(o<<1|o>>>31)}for(var i,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4],r=0;r<80;r++){r<40?r<20?(i=l^u&(c^l),s=1518500249):(i=u^c^l,s=1859775393):r<60?(i=u&c|l&(u|c),s=2400959708):(i=u^c^l,s=3395469782);var o=(a<<5|a>>>27)+i+h+s+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=a,a=o}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<e;){if(0==i)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[i]=t.charCodeAt(r),++i,++r,i==this.blockSize){this.compress_(o),i=0;break}}else for(;r<e;)if(o[i]=t[r],++i,++r,i==this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var o=24;o>=0;o-=8)t[r]=this.chain_[n]>>o&255,++r;return t},e}(o.Hash);e.Sha1=i},v6xs:function(t,e,n){"use strict";var r=n("bKpL"),o=n("zjlw");r.Observable.prototype.retry=o.retry},vJ3t:function(t,e,n){"use strict";var r=n("bKpL"),o=n("6P86");r.Observable.combineLatest=o.combineLatest},"vKg+":function(t,e,n){"use strict";var r=n("bKpL"),o=n("jKKE");r.Observable.prototype.count=o.count},vNV3:function(t,e,n){"use strict";var r=n("bKpL"),o=n("olOS");r.Observable.prototype.timestamp=o.timestamp},vfw3:function(t,e,n){"use strict";var r=n("bKpL"),o=n("iDKa");r.Observable.prototype.skip=o.skip},vioa:function(t,e,n){"use strict";var r=n("sLwK");e.timer=r.TimerObservable.create},vokw:function(t,e,n){"use strict";function r(t,e,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,this.lift(new c(t,e,n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("RdI5"),s=n("XRvs"),a=n("yW9Z"),u=n("ktfo");e.expand=r;var c=function(){function t(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.concurrent,this.scheduler))},t}();e.ExpandOperator=c;var l=function(t){function e(e,n,r,o){t.call(this,e),this.project=n,this.concurrent=r,this.scheduler=o,this.index=0,this.active=0,this.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(this.buffer=[])}return o(e,t),e.dispatch=function(t){var e=t.subscriber,n=t.result,r=t.value,o=t.index;e.subscribeToProjection(n,r,o)},e.prototype._next=function(t){var n=this.destination;if(n.closed)return void this._complete();var r=this.index++;if(this.active<this.concurrent){n.next(t);var o=i.tryCatch(this.project)(t,r);if(o===s.errorObject)n.error(s.errorObject.e);else if(this.scheduler){var a={subscriber:this,result:o,value:t,index:r};this.add(this.scheduler.schedule(e.dispatch,0,a))}else this.subscribeToProjection(o,t,r)}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,e,n){this.active++,this.add(u.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(a.OuterSubscriber);e.ExpandSubscriber=l},vrVh:function(t,e){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=e[o];if(t.call(r,i,o,e))return i;o++}}})},vtHn:function(t,e,n){"use strict";var r=n("bKpL"),o=n("OCM8");r.Observable.prototype.publishLast=o.publishLast},wCVK:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=n("aOKN"),s=n("fcnB"),a=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){var r=t.length;return 0===r?new s.EmptyObservable:1===r?new i.ScalarObservable(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,r=t.length,o=t.subscriber;if(!o.closed){if(n>=r)return void o.complete();o.next(e[n]),t.index=n+1,this.schedule(t)}},e.prototype._subscribe=function(t){var n=this,r=n.arrayLike,o=n.scheduler,i=r.length;if(o)return o.schedule(e.dispatch,0,{arrayLike:r,index:0,length:i,subscriber:t});for(var s=0;s<i&&!t.closed;s++)t.next(r[s]);t.complete()},e}(o.Observable);e.ArrayLikeObservable=a},wDL6:function(t,e,n){"use strict";function r(t){return void 0===t&&(t=-1),0===t?new s.EmptyObservable:t<0?this.lift(new a(-1,this)):this.lift(new a(t-1,this))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),s=n("fcnB");e.repeat=r;var a=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.count,this.source))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.count=n,this.source=r}return o(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this,n=e.source,r=e.count;if(0===r)return t.prototype.complete.call(this);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(i.Subscriber)},wEhC:function(t,e,n){"use strict";var r=n("JCyH"),o=n("HyAm");e.asap=new o.AsapScheduler(r.AsapAction)},wQte:function(t,e,n){"use strict";var r=function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return-1===e?void 0:this._values[e]},t.prototype.set=function(t,e){var n=this._keys.indexOf(t);return-1===n?(this._keys.push(t),this._values.push(e),this.size++):this._values[n]=e,this},t.prototype.delete=function(t){var e=this._keys.indexOf(t);return-1!==e&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},t.prototype.forEach=function(t,e){for(var n=0;n<this.size;n++)t.call(e,this._values[n],this._keys[n])},t}();e.MapPolyfill=r},wZOE:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=n("aOKN"),s=n("fcnB"),a=n("MicL"),u=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];a.isScheduler(r)?t.pop():r=null;var o=t.length;return o>1?new e(t,r):1===o?new i.ScalarObservable(t[0],r):new s.EmptyObservable(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.count,o=t.subscriber;if(n>=r)return void o.complete();o.next(e[n]),o.closed||(t.index=n+1,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.array,r=n.length,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{array:n,index:0,count:r,subscriber:t});for(var i=0;i<r&&!t.closed;i++)t.next(n[i]);t.complete()},e}(o.Observable);e.ArrayObservable=u},wbX9:function(t,e,n){"use strict";function r(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function o(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function i(t){return!!t&&"[object NodeList]"===d.call(t)}function s(t){return!!t&&"[object HTMLCollection]"===d.call(t)}function a(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}var u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=n("bKpL"),l=n("RdI5"),h=n("fclq"),p=n("XRvs"),f=n("xFbG"),d=Object.prototype.toString,y=function(t){function e(e,n,r,o){t.call(this),this.sourceObj=e,this.eventName=n,this.selector=r,this.options=o}return u(e,t),e.create=function(t,n,r,o){return h.isFunction(r)&&(o=r,r=void 0),new e(t,n,o,r)},e.setupSubscription=function(t,n,u,c,l){var h;if(i(t)||s(t))for(var p=0,d=t.length;p<d;p++)e.setupSubscription(t[p],n,u,c,l);else if(a(t)){var y=t;t.addEventListener(n,u,l),h=function(){return y.removeEventListener(n,u)}}else if(o(t)){var v=t;t.on(n,u),h=function(){return v.off(n,u)}}else{if(!r(t))throw new TypeError("Invalid event target");var m=t;t.addListener(n,u),h=function(){return m.removeListener(n,u)}}c.add(new f.Subscription(h))},e.prototype._subscribe=function(t){var n=this.sourceObj,r=this.eventName,o=this.options,i=this.selector,s=i?function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=l.tryCatch(i).apply(void 0,e);r===p.errorObject?t.error(p.errorObject.e):t.next(r)}:function(e){return t.next(e)};e.setupSubscription(n,r,s,t,o)},e}(c.Observable);e.FromEventObservable=y},xAqS:function(t,e,n){"use strict";function r(t,e){return this.lift(new u(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("xFbG"),s=n("ktfo"),a=n("yW9Z");e.bufferToggle=r;var u=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.openings,this.closingSelector))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.openings=n,this.closingSelector=r,this.contexts=[],this.add(s.subscribeToResult(this,n))}return o(e,t),e.prototype._next=function(t){for(var e=this.contexts,n=e.length,r=0;r<n;r++)e[r].buffer.push(t)},e.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,o){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector,n=e.call(this,t);n&&this.trySubscribe(n)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var n=t.buffer,r=t.subscription;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(r),r.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,n=[],r=new i.Subscription,o={buffer:n,subscription:r};e.push(o);var a=s.subscribeToResult(this,t,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),r.add(a))},e}(a.OuterSubscriber)},xFbG:function(t,e,n){"use strict";function r(t){return t.reduce(function(t,e){return t.concat(e instanceof c.UnsubscriptionError?e.errors:e)},[])}var o=n("NSJx"),i=n("H6Sg"),s=n("fclq"),a=n("RdI5"),u=n("XRvs"),c=n("Emqh"),l=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this,l=n._parent,h=n._parents,p=n._unsubscribe,f=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,y=h?h.length:0;l;)l.remove(this),l=++d<y&&h[d]||null;if(s.isFunction(p)){var v=a.tryCatch(p).call(this);v===u.errorObject&&(e=!0,t=t||(u.errorObject.e instanceof c.UnsubscriptionError?r(u.errorObject.e.errors):[u.errorObject.e]))}if(o.isArray(f))for(d=-1,y=f.length;++d<y;){var m=f[d];if(i.isObject(m)){var v=a.tryCatch(m.unsubscribe).call(m);if(v===u.errorObject){e=!0,t=t||[];var g=u.errorObject.e;g instanceof c.UnsubscriptionError?t=t.concat(r(g.errors)):t.push(g)}}}if(e)throw new c.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;n=new t,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this,n=e._parent,r=e._parents;n&&n!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();e.Subscription=l},xKl2:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("rlar"),i=n("bKpL"),s=n("T14+"),a=n("xFbG"),u=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return r(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new a.Subscription,t.add(this.source.subscribe(new l(this.getSubject(),this))),t.closed?(this._connection=null,t=a.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return this.lift(new h(this))},e}(i.Observable);e.ConnectableObservable=u;var c=u.prototype;e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}};var l=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(o.SubjectSubscriber),h=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new p(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o},t}(),p=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()},e}(s.Subscriber)},xfHL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("fvGz"),o=n("JEJ4"),i=n("F1yO"),s=n("JEJ4"),a=n("JEJ4");e.INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,e.INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,e.MAX_LEAF_SIZE_=10485760,e.isValidKey=function(t){return"string"==typeof t&&0!==t.length&&!e.INVALID_KEY_REGEX_.test(t)},e.isValidPathString=function(t){return"string"==typeof t&&0!==t.length&&!e.INVALID_PATH_REGEX_.test(t)},e.isValidRootPathString=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),e.isValidPathString(t)},e.isValidPriority=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!i.isInvalidJSONNumber(t)||t&&"object"==typeof t&&o.contains(t,".sv")},e.validateFirebaseDataArg=function(t,n,r,o,i){i&&void 0===r||e.validateFirebaseData(s.errorPrefix(t,n,i),r,o)},e.validateFirebaseData=function(t,n,s){var u=s instanceof r.Path?new r.ValidationPath(s,t):s;if(void 0===n)throw new Error(t+"contains undefined "+u.toErrorString());if("function"==typeof n)throw new Error(t+"contains a function "+u.toErrorString()+" with contents = "+n.toString());if(i.isInvalidJSONNumber(n))throw new Error(t+"contains "+n.toString()+" "+u.toErrorString());if("string"==typeof n&&n.length>e.MAX_LEAF_SIZE_/3&&a.stringLength(n)>e.MAX_LEAF_SIZE_)throw new Error(t+"contains a string greater than "+e.MAX_LEAF_SIZE_+" utf8 bytes "+u.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var c=!1,l=!1;if(o.forEach(n,function(n,r){if(".value"===n)c=!0;else if(".priority"!==n&&".sv"!==n&&(l=!0,!e.isValidKey(n)))throw new Error(t+" contains an invalid key ("+n+") "+u.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');u.push(n),e.validateFirebaseData(t,r,u),u.pop()}),c&&l)throw new Error(t+' contains ".value" child '+u.toErrorString()+" in addition to actual children.")}},e.validateFirebaseMergePaths=function(t,n){var o,i;for(o=0;o<n.length;o++){i=n[o];for(var s=i.slice(),a=0;a<s.length;a++)if(".priority"===s[a]&&a===s.length-1);else if(!e.isValidKey(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(r.Path.comparePaths);var u=null;for(o=0;o<n.length;o++){if(i=n[o],null!==u&&u.contains(i))throw new Error(t+"contains a path "+u.toString()+" that is ancestor of another path "+i.toString());u=i}},e.validateFirebaseMergeDataArg=function(t,n,i,a,u){if(!u||void 0!==i){var c=s.errorPrefix(t,n,u);if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(c+" must be an object containing the children to replace.");var l=[];o.forEach(i,function(t,n){var o=new r.Path(t);if(e.validateFirebaseData(c,n,a.child(o)),".priority"===o.getBack()&&!e.isValidPriority(n))throw new Error(c+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(o)}),e.validateFirebaseMergePaths(c,l)}},e.validatePriority=function(t,n,r,o){if(!o||void 0!==r){if(i.isInvalidJSONNumber(r))throw new Error(s.errorPrefix(t,n,o)+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!e.isValidPriority(r))throw new Error(s.errorPrefix(t,n,o)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},e.validateEventType=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(s.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.validateKey=function(t,n,r,o){if(!(o&&void 0===r||e.isValidKey(r)))throw new Error(s.errorPrefix(t,n,o)+'was an invalid key = "'+r+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},e.validatePathString=function(t,n,r,o){if(!(o&&void 0===r||e.isValidPathString(r)))throw new Error(s.errorPrefix(t,n,o)+'was an invalid path = "'+r+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},e.validateRootPathString=function(t,n,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),e.validatePathString(t,n,r,o)},e.validateWritablePath=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},e.validateUrl=function(t,n,r){var o=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!e.isValidKey(r.repoInfo.namespace)||0!==o.length&&!e.isValidRootPathString(o))throw new Error(s.errorPrefix(t,n,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},e.validateCredential=function(t,e,n,r){if((!r||void 0!==n)&&"string"!=typeof n)throw new Error(s.errorPrefix(t,e,r)+"must be a valid credential (a string).")},e.validateBoolean=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(s.errorPrefix(t,e,r)+"must be a boolean.")},e.validateString=function(t,e,n,r){if((!r||void 0!==n)&&"string"!=typeof n)throw new Error(s.errorPrefix(t,e,r)+"must be a valid string.")},e.validateObject=function(t,e,n,r){if(!(r&&void 0===n||n&&"object"==typeof n&&null!==n))throw new Error(s.errorPrefix(t,e,r)+"must be a valid object.")},e.validateObjectContainsKey=function(t,e,n,r,i,a){if(!n||"object"!=typeof n||!o.contains(n,r)){if(i)return;throw new Error(s.errorPrefix(t,e,i)+'must contain the key "'+r+'"')}if(a){var u=o.safeGet(n,r);if("number"===a&&"number"!=typeof u||"string"===a&&"string"!=typeof u||"boolean"===a&&"boolean"!=typeof u||"function"===a&&"function"!=typeof u||"object"===a&&"object"!=typeof u&&u)throw i?new Error(s.errorPrefix(t,e,i)+'contains invalid value for key "'+r+'" (must be of type "'+a+'")'):new Error(s.errorPrefix(t,e,i)+'must contain the key "'+r+'" with type "'+a+'"')}}},xhf5:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("XtH8"),i=n("JEJ4"),s=n("JEJ4"),a=n("JEJ4"),u=n("F1yO"),c=n("fvGz"),l=n("CIVu"),h=n("0hmO"),p=n("JEJ4"),f=n("j0qB"),d=n("JEJ4"),y=n("JEJ4"),v=n("zzcx"),m=1e3,g=3e5,b=function(t){function e(n,r,o,i,s,a){var c=t.call(this)||this;if(c.repoInfo_=n,c.onDataUpdate_=r,c.onConnectStatus_=o,c.onServerInfoUpdate_=i,c.authTokenProvider_=s,c.authOverride_=a,c.id=e.nextPersistentConnectionId_++,c.log_=u.logWrapper("p:"+c.id+":"),c.interruptReasons_={},c.listens_={},c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=m,c.maxReconnectDelay_=g,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,a&&!y.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),l.VisibilityMonitor.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&h.OnlineMonitor.getInstance().on("online",c.onOnline_,c),c}return r(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,o={r:r,a:t,b:e};this.log_(s.stringify(o)),a.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var o=t.queryIdentifier(),i=t.path.toString();this.log_("Listen called for "+i+" "+o),this.listens_[i]=this.listens_[i]||{},a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),a.assert(!this.listens_[i][o],"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[i][o]=s,this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,r=t.query,o=r.path.toString(),i=r.queryIdentifier();this.log_("Listen on "+o+" for "+i);var s={p:o};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens_[o]&&n.listens_[o][i])===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(o,i),t.onComplete&&t.onComplete(u,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&i.contains(t,"w")){var n=i.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',o=e.path.toString();u.warn("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||p.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=p.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,o=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,o))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var o={p:t};r&&(o.q=n,o.t=r),this.sendRequest("n",o)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var o={p:e,d:n};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,o){var i={p:e,d:n};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:t,request:i,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),o&&o(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+s.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):u.error("Unrecognized action received from server: "+s.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;a.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=m,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=m,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var t=(new Date).getTime()-this.lastConnectionEstablishedTime_;t>3e4&&(this.reconnectDelay_=m),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,i=this,s=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,r())},p=function(t){a.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)};this.realtime_={close:h,sendRequest:p};var y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(y).then(function(e){c?u.log("getToken() completed but was canceled"):(u.log("getToken() completed. Creating connection."),i.authToken_=e&&e.accessToken,l=new f.Connection(o,i.repoInfo_,t,n,r,function(t){u.warn(t+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")},s))}).then(null,function(t){i.log_("Failed to get token: "+t),c||(d.CONSTANTS.NODE_ADMIN&&u.warn(t),h())})}},e.prototype.interrupt=function(t){u.log("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){u.log("Resuming connection for reason: "+t),delete this.interruptReasons_[t],i.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=m,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return u.ObjectToUniqueKey(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new c.Path(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===i.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){u.log("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||++this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&"undefined"!=typeof console&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),i.forEach(this.listens_,function(e,n){i.forEach(n,function(e,n){t.sendListen_(n)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";d.CONSTANTS.NODE_ADMIN?e="admin_node":d.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+o.default.SDK_VERSION.replace(/\./g,"-")]=1,y.isMobileCordova()?t["framework.cordova"]=1:y.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=h.OnlineMonitor.getInstance().currentlyOnline();return i.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(v.ServerActions);e.PersistentConnection=b},xpf9:function(t,e,n){"use strict";var r=n("bKpL"),o=n("ueUM");r.Observable.prototype.catch=o._catch,r.Observable.prototype._catch=o._catch},xvZM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("9ard"),o=n("qYrH");e.forceLongPolling=function(){r.WebSocketConnection.forceDisallow(),o.BrowserPollConnection.forceAllow()},e.forceWebSockets=function(){o.BrowserPollConnection.forceDisallow()},e.isWebSocketsAvailable=function(){return r.WebSocketConnection.isAvailable()},e.setSecurityDebugCallback=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},e.stats=function(t,e){t.repo.stats(e)},e.statsIncrementCounter=function(t,e){t.repo.statsIncrementCounter(e)},e.dataUpdateCount=function(t){return t.repo.dataUpdateCount},e.interceptServerData=function(t,e){return t.repo.interceptServerData_(e)}},y8hQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}();e.CacheNode=r},yIff:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("rlar"),i=n("T14+"),s=n("bKpL"),a=n("xFbG"),u=n("zijX"),c=n("0imh"),l=n("RdI5"),h=n("XRvs"),p=n("fV3I"),f=function(t){function e(e,n){if(e instanceof s.Observable)t.call(this,n,e);else{if(t.call(this),this.WebSocketCtor=u.root.WebSocket,this._output=new o.Subject,"string"==typeof e?this.url=e:p.assign(this,e),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new c.ReplaySubject}}return r(e,t),e.prototype.resultSelector=function(t){return JSON.parse(t.data)},e.create=function(t){return new e(t)},e.prototype.lift=function(t){var n=new e(this,this.destination);return n.operator=t,n},e.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new c.ReplaySubject),this._output=new o.Subject},e.prototype.multiplex=function(t,e,n){var r=this;return new s.Observable(function(o){var i=l.tryCatch(t)();i===h.errorObject?o.error(h.errorObject.e):r.next(i);var s=r.subscribe(function(t){var e=l.tryCatch(n)(t);e===h.errorObject?o.error(h.errorObject.e):e&&o.next(t)},function(t){return o.error(t)},function(){return o.complete()});return function(){var t=l.tryCatch(e)();t===h.errorObject?o.error(h.errorObject.e):r.next(t),s.unsubscribe()}})},e.prototype._connectSocket=function(){var t=this,e=this.WebSocketCtor,n=this._output,r=null;try{r=this.protocol?new e(this.url,this.protocol):new e(this.url),this.socket=r,this.binaryType&&(this.socket.binaryType=this.binaryType)}catch(t){return void n.error(t)}var o=new a.Subscription(function(){t.socket=null,r&&1===r.readyState&&r.close()});r.onopen=function(e){var s=t.openObserver;s&&s.next(e);var a=t.destination;t.destination=i.Subscriber.create(function(t){return 1===r.readyState&&r.send(t)},function(e){var o=t.closingObserver;o&&o.next(void 0),e&&e.code?r.close(e.code,e.reason):n.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),t._resetState()},function(){var e=t.closingObserver;e&&e.next(void 0),r.close(),t._resetState()}),a&&a instanceof c.ReplaySubject&&o.add(a.subscribe(t.destination))},r.onerror=function(e){t._resetState(),n.error(e)},r.onclose=function(e){t._resetState();var r=t.closeObserver;r&&r.next(e),e.wasClean?n.complete():n.error(e)},r.onmessage=function(e){var r=l.tryCatch(t.resultSelector)(e);r===h.errorObject?n.error(h.errorObject.e):n.next(r)}},e.prototype._subscribe=function(t){var e=this,n=this.source;if(n)return n.subscribe(t);this.socket||this._connectSocket();var r=new a.Subscription;return r.add(this._output.subscribe(t)),r.add(function(){var t=e.socket;0===e._output.observers.length&&(t&&1===t.readyState&&t.close(),e._resetState())}),r},e.prototype.unsubscribe=function(){var e=this,n=e.source,r=e.socket;r&&1===r.readyState&&(r.close(),this._resetState()),t.prototype.unsubscribe.call(this),n||(this.destination=new c.ReplaySubject)},e}(o.AnonymousSubject);e.WebSocketSubject=f},yQ6o:function(t,e,n){"use strict";var r=n("T1tZ");e.bindCallback=r.BoundCallbackObservable.create},yR50:function(t,e,n){"use strict";var r=n("Fpv1"),o=n("HHMl");e.queue=new o.QueueScheduler(r.QueueAction)},yW9Z:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+"),i=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(o.Subscriber);e.OuterSubscriber=i},ykQW:function(t,e,n){"use strict";var r=n("bKpL"),o=n("8Ben");r.Observable.prototype.let=o.letProto,r.Observable.prototype.letBind=o.letProto},ytB7:function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=a.async),this.lift(new u(t,e))}function o(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n("T14+"),a=n("IhB/");e.sampleTime=r;var u=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.period,this.scheduler))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.period=n,this.scheduler=r,this.hasValue=!1,this.add(r.schedule(o,n,{subscriber:this,period:n}))}return i(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(s.Subscriber)},z69B:function(t,e,n){"use strict";var r=n("bKpL"),o=n("gb+0");r.Observable.prototype.single=o.single},"z8+r":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("fvGz"),o=n("/fob"),i=n("r9Yg"),s=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();if(t=t.popFront(),this.children_.contains(e)){return this.children_.get(e).find(t)}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new i.CountedSet);var r=e.getFront();this.children_.contains(r)||this.children_.add(r,new t);var o=this.children_.get(r);e=e.popFront(),o.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(o.PRIORITY_INDEX,function(t,e){n.remember(new r.Path(t),e)}),this.forget(t)}if(null!==this.children_){var i=t.getFront();if(t=t.popFront(),this.children_.contains(i)){this.children_.get(i).forget(t)&&this.children_.remove(i)}return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,o){var i=new r.Path(t.toString()+"/"+n);o.forEachTree(i,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}();e.SparseSnapshotTree=s},zFzr:function(t,e,n){"use strict";function r(t,e){return i.nameCompare(t.name,e.name)}function o(t,e){return i.nameCompare(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var i=n("F1yO");e.NAME_ONLY_COMPARATOR=r,e.NAME_COMPARATOR=o},zGUx:function(t,e,n){"use strict";var r=n("wbX9");e.fromEvent=r.FromEventObservable.create},"zPe/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),o=n("F1yO"),i=n("opdF"),s=1e4,a=3e4,u=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new i.StatsListener(t);var n=s+(a-s)*Math.random();o.setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;r.forEach(e,function(e,o){o>0&&r.contains(t.statsToReport_,e)&&(n[e]=o,i=!0)}),i&&this.server_.reportStats(n),o.setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}();e.StatsReporter=u},zZnE:function(t,e,n){"use strict";var r=n("bKpL"),o=n("jyAw");r.Observable.prototype.groupBy=o.groupBy},zbre:function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=null),this.lift(new s(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.bufferCount=r;var s=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?u:a}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),a=function(t){function e(e,n){t.call(this,e),this.bufferSize=n,this.buffer=[]}return o(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(i.Subscriber),u=function(t){function e(e,n,r){t.call(this,e),this.bufferSize=n,this.startBufferEvery=r,this.buffers=[],this.count=0}return o(e,t),e.prototype._next=function(t){var e=this,n=e.bufferSize,r=e.startBufferEvery,o=e.buffers,i=e.count;this.count++,i%r==0&&o.push([]);for(var s=o.length;s--;){var a=o[s];a.push(t),a.length===n&&(o.splice(s,1),this.destination.next(a))}},e.prototype._complete=function(){for(var e=this,n=e.buffers,r=e.destination;n.length>0;){var o=n.shift();o.length>0&&r.next(o)}t.prototype._complete.call(this)},e}(i.Subscriber)},zc4d:function(t,e,n){"use strict";var r=n("bKpL"),o=n("uYJe");r.Observable.prototype.finally=o._finally,r.Observable.prototype._finally=o._finally},zdWg:function(t,e,n){"use strict";var r=n("bKpL"),o=n("Zfg9");r.Observable.prototype.skipLast=o.skipLast},zijX:function(t,e,n){"use strict";(function(t){var n="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=void 0!==t&&t,i=n||o||r;e.root=i,function(){if(!i)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(e,n("fRUx"))},ziym:function(t,e,n){"use strict";var r=n("HPkd");e.ajax=r.AjaxObservable.create},zjlw:function(t,e,n){"use strict";function r(t){return void 0===t&&(t=-1),this.lift(new s(t,this))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.retry=r;var s=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.count,this.source))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.count=n,this.source=r}return o(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this,r=n.source,o=n.count;if(0===o)return t.prototype.error.call(this,e);o>-1&&(this.count=o-1),r.subscribe(this._unsubscribeAndRecycle())}},e}(i.Subscriber)},zzcx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}();e.ServerActions=r}});